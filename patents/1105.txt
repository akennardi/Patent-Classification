                                               ABSTRACT
        Described       embodiments            include       a   system        that     includes       a
  display and a processor.                 The processor          is    configured to modify
5 an   image      that    includes         a     representation            of     a   wall    of    an
  anatomical       cavity,     by     overlaying           an   icon      that      represents      an
  intrabody      tool   on   a  portion         of    the   image    that      corresponds       to    a
  location     of the    intrabody tool within the anatomical                          cavity, and
  overlaying      a  marker      on   a    portion        of   the   representation           of  the
0 wall  that     corresponds       to    a    location       at  which      the    intrabody     tool
  would meet      the wall,       were     the     intrabody      tool      to   continue     moving
  toward     the   wall   in   a   direction           in   which   the      intrabody      tool    is
  pointing.        The   processor         is    further       configured         to   display     the
  modified      image    on    the     display.             Other     embodiments         are    also
5 described.
        3430019v1

      2/2
(N
   CI

          VISUALIZATION OF DISTANCES TO WALLS OF ANATOMICAL CAVITIES
                            CROSS REFERENCE TO RELATED APPLICATIONS
             The       present         application              is     related          to     an       application
   entitled           "Improved         visualization               of    anatomical          cavities,"             U.S.
 5 Application              Number        15/364,144,               filed       on     November          29,        2016,
   attorney           ref.      no.     1002-1460/ID-839/BI05678USNP,                            filed        on     even
   date         herewith,          whose        disclosure             is       incorporated             herein         by
   reference.
                                           FIELD OF THE INVENTION
 0           The      present         invention            relates         to      the     field        of      medical
   images.
                                                      BACKGROUND
             A      computerized                tomography               (CT)        scan         acquires             the
   radiodensity, also                  termed radiopacity, of                      the scanned portion of
 5 anatomy.              Radiodensity            is     measured           in     Hounsfield           units        (HU),
   with       air     having      HU     =   -1000,        water       having        HU  =    0,     and      cortical
   bone         having        HU     =      +3000.             In      a      CT     image,        the        acquired
   radiodensity              values        are     mapped         to    different          grayscale            values.
   Typically,            in    a  CT     image,        air     is     presented         in    black,          cortical
.0 bone in white, and other materials in varying shades of gray.
             Traditionally,                 interventional                  radiologists                have         been
   trained         to    navigate         the    head of          a   subject        using     two-dimensional
    (2D) images            of the head.              For example, during a sinus procedure,
   the      interventional              radiologist            may      refer       to   three       computerized
25 tomography            (CT)    slices        of    the     subject's           head:     an    axial       slice,       a
   coronal slice, and a sagittal slice.
             US      Patent        8,532,738,             whose        disclosure            is      incorporated
   herein         by    reference,          describes          a    method,        including         constructing
   a    simulated          surface       of    a    body cavity,             and    pressing        a    distal        end
30 of a probe            against a wall of                 the body cavity. While pressing the
                                                               1
             3430019v1

   distal        end      against       the     wall,        position           measurements             are      accepted
   from       the      probe      indicating             a   position            of     the     probe        within        the
   body      cavity,         and    force       measurements                are     accepted         from the           probe
   indicating             a    force       between           the       distal         end       and      the      wall.       A
 5 distortion            in    the     simulated           surface           is    created         at    the      position
   indicated             by     the      position            measurements,                   so     as     to      form        a
   distorted            surface,        upon       detecting              that       the      force      measurements
   exceed          a    predefined            amount.           The        distorted            surface           is      then
   displayed.
 0           US      Patent         7,924,279,             whose           disclosure             is      incorporated
   herein        by      reference,           describes            a     system        for      visualizing              a  3D
   volume,         in particular             for medical applications,                            that      includes an
   input       for     receiving a three-dimensional                               set of data representing
   voxel       values         of     the     3D    volume.            The       data       set     is    stored          in    a
 5 storage.          A    processor          projects           the       volume        onto      an     imaginary          2D
   projection screen                  from a predetermined viewpoint.                                For each pixel
   of     the    2D projection              image        a    ray     is      cast     through         the      pixel      and
   through          the     volume.        A   protocol            is      used      that,       while        traversing
   along       ray      positions          within          the     volume,           determines            a    rendering
 0 algorithm            and/or       rendering           parameters             in    dependence             on    the     ray
   position.             For      each        ray        position              the      determined              rendering
   algorithm/parameters                    are     used        to     calculate            a   contribution              to    a
   pixel        value        of    the     pixel         based        on       at    least       one      voxel         value
   within        a   predetermined              range        of     the      ray     position.          An      output      is
25 used for providing pixel values of a 2D                                         image for          rendering on a
   display.
                                         SUMMARY OF THE INVENTION
             There       is    provided,          in      accordance             with       some     embodiments            of
   the      present         invention,          a     system         that       includes          a   display          and     a
30 processor.               The   processor           is     configured            to modify           an     image       that
   includes          a   representation              of     a   wall        of    an    anatomical            cavity,       by
   overlaying             an     icon      that         represents              an     intrabody             tool       on     a
   portion          of      the    image        that        corresponds              to      a   location           of     the
                                                                2
             3430019v1

   intrabody            tool       within        the    anatomical         cavity,         and       overlaying          a
   marker         on      a    portion          of    the    representation              of     the       wall     that
   corresponds to a                  location at which the                  intrabody tool would meet
   the     wall,       were       the     intrabody        tool      to   continue        moving         toward the
 5 wall       in     a    direction           in    which      the     intrabody         tool        is    pointing.
   The      processor             is     further        configured          to     display         the       modified
   image on the display.
             In      some         embodiments,             the       processor          is       configured           to
   identify the location at which the                                 intrabody tool would meet the
 0 wall,        by     projecting             a    virtual       ray     from     a     distal          tip    of    the
   intrabody tool.
             In     some       embodiments,            at    least      a   portion          of    the      image     is
   rendered in three dimensions.
             In some embodiments, the anatomical cavity is a sinus.
 5           In      some       embodiments,             the      anatomical          cavity           is    a   nasal
   cavity.
             In     some       embodiments,             the     image      is    a    computed            tomography
    (CT) image.
             In     some        embodiments,            the      image      is     a    magnetic           resonance
 0 imaging          (MRI) image.
             There          is      further          provided,          in      accordance               with      some
   embodiments              of     the     present       invention,           a  method         that       includes,
   using          a      processor,              modifying           an    image         that           includes         a
   representation                of    a   wall      of  an     anatomical         cavity,        by      overlaying
25 an    icon       that       represents           an   intrabody         tool      on    a   portion         of    the
   image         that       corresponds             to   a     location         of     the     intrabody           tool
   within         the       anatomical            cavity,        and     overlaying           a    marker         on     a
   portion         of     the     representation             of    the wall       that       corresponds           to    a
   location          at     which       the      intrabody        tool    would       meet      the      wall,     were
30 the      intrabody             tool      to     continue        moving       toward         the       wall     in     a
   direction           in     which       the     intrabody         tool    is   pointing.               The   method
   further includes displaying the modified image.
                                                               3
             3430019v1

             There         is       further              provided,              in       accordance            with       some
   embodiments               of      the         present             invention,             a      computer         software
   product          including              a     tangible             non-transitory                 computer-readable
   medium          in       which            program             instructions                 are      stored.              The
 5 instructions,               when        read        by     a    processor,            cause       the     processor       to
   modify         an    image       that         includes           a    representation               of    a  wall     of   an
   anatomical             cavity,            by       overlaying             an     icon        that      represents         an
   intrabody           tool       on     a    portion           of     the     image       that      corresponds          to    a
   location           of the        intrabody tool within the anatomical                                      cavity, and
 0 overlaying            a    marker           on     a    portion          of    the     representation              of   the
   wall      that      corresponds                to     a   location          at    which        the    intrabody        tool
   would meet            the wall,              were       the      intrabody          tool       to   continue        moving
   toward         the    wall        in      a     direction            in    which       the      intrabody         tool    is
   pointing.                The       instructions                   further         cause         the     processor         to
 5 display the modified image.
             The      present          invention              will        be    more      fully       understood          from
   the     following detailed description                                   of embodiments               thereof,       taken
   together with the drawings, in which:
                                  BRIEF DESCRIPTION OF THE DRAWINGS
 0           Fig.      1   is     a   schematic              illustration              of    a    system      for     guiding
   a   medical         procedure,               in     accordance            with      some       embodiments          of   the
   present invention;                    and
             Fig.      2    shows        an      original           CT     image      slice        and    a   modified       CT
   image       slice,         in    accordance               with       some     embodiments            of    the present
25 invention.
                                 DETAILED DESCRIPTION OF EMBODIMENTS
                                                              OVERVIEW
             As    noted         above,           interventional                radiologists              typically        use
   2D    images         (or "slices")                 for navigation.                   A   challenge in using 2D
30 images,         however,           is      the       lack       of     depth      information             contained       in
   such       images.            For       example,            when       using       2D    images        to    navigate        a
                                                                     4
             3430019vl

   catheter           within        an       anatomical             cavity,          it      may       be     difficult          to
   ascertain           the    distance             between         the     catheter            and      the     wall       of   the
   cavity.
              Embodiments                of         the       present             invention                address            this
 5 challenge,             by   providing              an     enhanced          presentation                 of     anatomical
   cavities            in    2D      images.               In     this        enhanced             presentation,                the
   cavity         is      given        a     three-dimensional                    (3D)        appearance,               via     the
   incorporation                of       morphological                 information                 from        beneath          the
   displayed            2D   slice.              For    example,           a   processor              may      "illuminate"
 0 the      cavity with             a     virtual         light       source,           such       that       the     walls      of
   the      cavity,        beneath            the     displayed           2D     slice,          are      "visible"           to   a
   virtual          camera       positioned              near        the     virtual            light        source.            The
   cavity walls may then be rendered, in color, with varying shades
   of brightness, corresponding to the view of the virtual camera.
 5            Some      embodiments              enhance         the     image        further,            by     overlaying,
   on the        image,       an icon            that represents                the catheter,                  along with a
   marker         that       indicates              the      distance          of       the       catheter           from       the
   cavity wall.                To produce               the     marker,          a   processor             may      project        a
   virtual          ray    from       the       tip     of    the      catheter,             and      show      the      marker,
 0 in     the      image,       at       the      point       at     which        the       virtual          ray      hits      the
   cavity wall.
                                                   SYSTEM DESCRIPTION
              Reference is             initially made to Fig.                           1, which is              a schematic
   illustration             of    a      system        20    for      guiding         a     medical         procedure,           in
25 accordance with some embodiments of the present invention.
              Fig.      1  depicts            a   physician           26     performing              a   procedure            on   a
   subject           22.        During           this       procedure,             physician              26      inserts        an
   intrabody             tool     28,         such       as     a     catheter,             into        a    nasal         cavity
   and/or         a    sinus     of       subject          22,     and     then        uses        tool       28    to     probe,
30 and/or         operate        on,        the      nasal        cavity        and/or           sinus.            Typically,
   the      location         and      orientation              of    the     tool        is     tracked,           using,       for
   example,           a magnetic tracking system.                               For       example,          system 20          may
   comprise           one or more              magnetic-field               generators              24,     which,         during
                                                                   5
              3430019v1

   the       procedure,             generate          respective             magnetic              fields.               These
   fields         induce         respective            voltages            in      one        or      more        magnetic
   sensors        coupled to            tool      28.     Based on these                   induced voltages,                    a
   processor 34             ascertains           the    location and orientation of the                                    tool
 5 with respect to the coordinate system of the tracking system.
             Typically,             prior        to      the      procedure,                 a     volume           of       the
   subject's          head       is     acquired,         using,         for      example,             a    CT     scanner.
   Subsequently,             during         the    procedure,           processor              34     displays,            on   a
   display        30,      at    least       one     image     slice         32,      taken        from       the      volume
 0 and     enhanced         as      described         below.          The      physician             may      then       refer
   to     slice      32,       in     deciding         how     to      best       navigate             the       subject's
   nasal cavity and/or sinus.
             It   is     noted        that      the     term     "image          slice,        "    as     used       in     the
   present        application              (including         the       claims),           refers          to     any      two
 5 dimensional            image       acquired by imaging a particular                                   cross-section
   of    a    three-dimensional                 object,       or    by     taking          a    particular             cross
   section        of     a   three-dimensional                image        of     the       object.              (An image
   slice        may     be      alternatively             referred            to      herein           simply           as    an
   "image"        or    a    "slice.")             For    example,          prior         to     the      procedure,            a
 0 volume        of    the      subject's           head     may      be      acquired,             by      acquiring           a
   stack         of        sagittal             image        slices            at         successive                 depths.
   Subsequently,             processor           34   may derive           an     "image          slice"        from this
   volume,        by    taking         any    one     of   the     original            sagittal           image        slices
   from the volume, or by taking a cross-section of the volume                                                             such
25 as    to     derive        a    new     slice       having       another           suitable             orientation.
    (Typically, the                derivation          of    new      slices         is     performed             prior       to
   the procedure.)
             Typically,           prior       to    the     procedure,             processor              34    registers
   the      magnetic          tracking           system       with        the       CT       scanner,            e.g.,        as
30 described            in      US       Patent         Application              No.          15/290,968,                whose
   disclosure           is     incorporated            herein       by      reference.                 The      output        of
   this        registration              procedure          is      a     transformation,                      which         the
   processor           subsequently               uses      to     compute            the        location            of      the
   distal end of the intrabody tool with respect to image slice                                                            32.
                                                              6
             3430019v1

            In       general,           processor         34     may      be        embodied             as     a    single
   processor,             or    as    a   cooperatively            networked              or     clustered          set    of
   processors.                  Processor        34     is      typically              a    programmed             digital
   computing            device         comprising          a    central            processing              unit       (CPU),
 5 random         access memory             (RAM),    non-volatile                 secondary            storage,         such
   as     a   hard         drive      or     CD   ROM     drive,         network             interfaces,             and/or
   peripheral            devices.           Program code,              including              software          programs,
   and/or data are loaded into                        the RAM for execution and processing
   by      the       CPU      and      results       are      generated               for       display,           output,
 0 transmittal,               or    storage,       as    is     known        in      the      art.         The    program
   code     and/or data may be downloaded to the computer in electronic
   form,       over        a   network,        for   example,           or     it     may,        alternatively            or
   additionally,                 be      provided         and/or          stored              on      non-transitory
   tangible           media,      such      as magnetic,           optical,             or electronic             memory.
 5 Such      program          code      and/or     data,       when      provided              to     the     processor,
   produce           a    machine         or    special-purpose                 computer,              configured          to
   perform the tasks described herein.
            Reference is              now made to Fig.                2, which shows                  an original CT
   image        slice        31   and     a  modified        CT     image         slice        32,      in    accordance
 0 with some embodiments of the present invention.
            As      described           above,     a   CT     image        typically               presents         air    in
   black,         cortical          bone     in   white,        and      other          materials            in   varying
   shades         of    gray.          For    example,        image       slice           31     includes         a    black
   portion,           referred          to   herein      as     a    void         36,     corresponding               to   an
25 anatomical            cavity;         in particular, void 36 corresponds to a nasal
   cavity of            the     subject.         (In other words,                    image        slice 31         "slices
   through"           the     nasal       cavity,     such       that       the       interior           of     the    nasal
   cavity         appears        in     the   image     slice        as    void         36.)          Image      slice     31
   further          includes          a    white     or     gray       region           38,      corresponding             to
30 bone and/or other tissue surrounding the nasal cavity.
            In        embodiments            of    the      present            invention,               processor          34
   modifies            image       slice      31,    such        as     to      generate             modified           image
   slice         32.          To     modify       image        slice         31,        the        processor            first
   identifies               portions         of    image         slice           31      that         correspond           to
                                                              7
            3430019v1

   anatomical         cavities,            i.e.,         that      were      formed        by     the      intersection
   of   the    scan      plane         of    the       scanner         with     the      anatomical              cavities.
    (As   described            above,          in      CT     images,         these         portions            appear       as
   voids,     such       as     void      36.)           The    processor           then       fills        each       of   the
 5 identified           portions           with         a     representation                of       a   wall         of    the
   corresponding              anatomical               cavity,          thus      giving           each        anatomical
   cavity a three-dimensional appearance.                                         (Stated differently, the
   processor        overlays,            on      each       identified           portion           of    the      image,        a
   three-dimensional                   (3D)        view        of      the      corresponding                  anatomical
 0 cavity.)          For      example,            in     modified          image       slice         32,      void      36   is
   replaced       with       a   three-dimensional                     representation                 44    of    the      wall
   of   the    nasal         cavity         that        is     behind        the     location            at     which       the
   image     slice        was       acquired             (i.e.,        the     wall        is     behind          the      scan
   plane,     relative           to    the perspective                   of   one who           views        the     image).
 5 The     processor             then         displays             modified           image            slice        32,      as
   described above with reference to Fig.                                     1.
          More      generally,             the       processor           may    perform           the     modification
   described         herein         for       each         image       slice       that        shows        part        of   an
   anatomical           cavity.               Typically,              prior        to      the        procedure,            the
 0 processor        iterates           over        all      of    the      relevant          image        slices          (both
   original       and derived),                and modifies               each cavity-containing                         image
   slice    as     described herein.                        Subsequently,              during the              procedure,
   the    processor            continually               monitors           the     location            of      the      tool,
   and,    if the        location          of      the      tool     has     changed, the               processor may
25 retrieve       and display one                   or more modified image                         slices        that pass
   through      the      new      location             of     the     tool.          (It      is      noted       that      the
   processor        may      alternatively                 modify        an   image        slice,         as     described
   herein,      in     real-time,             immediately              prior      to     displaying              the     image
   slice.)
30        Typically,              the      processor              computes           representation                   44,    by
   rendering          the       wall         of        the      cavity.              First,            the       processor
   ascertains         the      form of          the wall from the three-dimensional                                      image
   from which          image       slice         31    was     derived.            The processor                 then uses
   any    suitable            rendering              technique            to     render           the      wall.            For
                                                                 8
          3430019v1

   example,            the       processor           may      illuminate            the    wall      with      a   virtual
   light        source,           and render the wall                     in accordance with the view of
   a   virtual           camera          positioned           near       the virtual          light      source.           The
   processor             then         replaces          the      void        in    image      slice       31     with      the
 5 rendering.                  Typically,            the     wall        is    rendered        in    color,        to    help
   the       physician             differentiate                between          the    anatomical           cavity        and
   the surrounding tissue.
              Typically,              the      processor          does       not    modify       other      portions         of
   image         slice          31,      such      as     region          38    of    the     image       slice.           For
 0 example,           the        processor          may      not      modify       any    portion        of    the     image
   slice,          other          than       the    portion           corresponding            to     the     anatomical
   cavity.            Modified             image      slice        32    is    thus,     typically,          a    "hybrid"
   image,         in     that       region        38    is     shown        as   a   two-dimensional              surface,
   in      grayscale,                while         the      wall         of     the     anatomical            cavity         is
 5 rendered as a three-dimensional surface, typically in color.
              Reference               is       now      specifically               made       to      the       schematic
   illustration at                    the bottom of Fig. 2, which reproduces a portion
   of modified image slice 32.
              Typically,                the      processor             further         overlays,          on      modified
 0 image        slice       32,       an     icon 40        that      represents          intrabody tool             28     (in
   particular,                the       distal        end      thereof)           on   a   portion         of     modified
   image        slice       32      that corresponds to the                        location of the              intrabody
   tool        within            the     anatomical            cavity.             Typically,          the      processor
   also       overlays a marker 42                       on a portion of representation 44                               that
25 corresponds to a                     location at which the                      intrabody tool would meet
   the      wall,        were       the       intrabody         tool        to   continue       moving       toward the
   wall       in     the       direction           in    which         the     intrabody        tool     is     pointing.
   For example,                 the processor may project a virtual                                  ray 46 from the
   distal tip of                  the intrabody tool,                     identify the           location at which
30 virtual ray 46 meets                         the wall          of the anatomical                 cavity, and then
   overlay           marker            42      on    the      portion           of    representation              44     that
   corresponds                 to      this       location.                  (Although,         for      the      sake       of
   illustration,                  virtual         ray      46    is     shown      in    the     schematic         portion
   of     Fig.        2,      it     is      noted      that        virtual        ray     46     is   typically           not
                                                                     9
              3430019v1

   shown        in     modified         image          slice         32.)           Icon       40,      and     marker           42,
   generally              facilitate               navigation               of        the         tool         within            the
   anatomical            cavity,         in      that,          for      example,          the      distance           between
   icon       40    and      marker       42      indicates             the     distance           of      the     tool       from
 5 the wall of the cavity.
             In    some embodiments,                    a    fully       three-dimensional                    image       (i.e.,
   an      image         that      is       fully           rendered            in       three         dimensions)                is
   displayed,              instead          of        modified            image         slice          32       (which,           as
   described            above,      is      only        partly          rendered          in     three        dimensions),
 0 and     icon       40   and/or       marker           42     are      overlaid          on    the      representation
   of the anatomical wall in this                                 image.
            Although            the       description                 herein          mainly           relates           to       CT
   images,         it     is     noted       that         embodiments              of     the      present          invention
   may     also       be     applied        to      images          acquired          using        other        modalities,
 5 such        as     magnetic         resonance                imaging           (MRI).              (In      MRI     images,
   anatomical            cavities         do     not       necessarily              appear         as    voids,        but       are
   nonetheless               generally             identifiable,                   such        that         they       may        be
   identified and modified as described herein.)
             It    will       be  appreciated                 by    persons          skilled          in     the     art      that
 0 the       present            invention              is       not       limited             to      what         has        been
   particularly shown and described hereinabove.                                                   Rather, the              scope
   of       embodiments               of        the          present            invention                includes             both
   combinations                and       subcombinations                      of       the         various            features
   described            hereinabove,              as      well       as    variations              and      modifications
25 thereof          that       are    not       in      the       prior        art,       which        would         occur        to
   persons            skilled          in        the          art        upon         reading            the        foregoing
   description.                Documents           incorporated by reference                             in     the present
   patent        application           are       to be          considered            an     integral          part      of the
   application             except       that         to     the      extent         any     terms        are     defined          in
30 these incorporated documents                               in a manner that conflicts with the
   definitions               made      explicitly                  or      implicitly               in       the       present
   specification,               only the definitions                        in      the present             specification
   should be considered.
                                                                   10
            3430019v1

        In   this    specification,            the    terms      "comprise",         "comprises",
  "comprising"       or     similar       terms      are     intended       to     mean     a   non
  exclusive       inclusion,        such    that     a    system,       method      or    apparatus
  that    comprises       a     list    of      elements       does      not    include        those
5 elements solely, but may well include other elements not listed.
        The    reference         to  any    prior      art    in    this    specification         is
  not,  and    should    not be       taken     as,   an   acknowledgement            or any    form
  of   suggestion      that        the   prior      art     forms      part    of      the    common
  general knowledge.
0
                                                  11
        3430019v1

                                                 CLAIMS
   1.    A system, comprising:
         a display;       and
         a processor, configured:
 5               to modify an         image      that      includes a representation of a
         wall of an anatomical              cavity, by:
                        overlaying         an     icon      that        represents          an  intrabody
                 tool    on    a   portion      of     the     image        that     corresponds         to     a
                 location        of  the     intrabody           tool       within      the    anatomical
 0               cavity, and
                        overlaying           a      marker            on      a     portion        of       the
                 representation           of      the      wall         that       corresponds         to       a
                 location        at  which       the      intrabody            tool     would    meet       the
                 wall,     were      the      intrabody             tool        to    continue       moving
 5               toward     the     wall   in     a   direction            in    which    the   intrabody
                 tool is pointing, and
                 to display the modified image on the display.
   2.    The    system     according        to     claim      1,      wherein        the    processor        is
   configured      to  identify       the     location          at which          the    intrabody       tool
 0 would   meet    the   wall,      by   projecting           a     virtual        ray    from   a   distal
   tip of the intrabody tool.
   3.    The   system according to claim 1, wherein at least                                    a portion
   of the image is rendered in three dimensions.
   4.    The     system     according         to     claim        1,     wherein        the    anatomical
25 cavity is a sinus.
   5.    The     system     according         to     claim        1,     wherein        the    anatomical
   cavity is a nasal cavity.
   6.    The    system     according         to     claim        1,     wherein        the    image     is      a
   computed tomography            (CT) image.
30 7.    The    system     according         to     claim        1,     wherein        the    image     is      a
   magnetic resonance imaging                (MRI) image.
   8.    A method, comprising:
                                                     12
         3430019v1

            using     a   processor,         modifying         an     image        that      includes         a
   representation of a wall of an anatomical                           cavity, by:
                    overlaying       an  icon       that    represents           an     intrabody         tool
            on a portion        of the image           that   corresponds to a location of
 5          the intrabody tool within the anatomical cavity, and
                    overlaying a marker on a portion of the                              representation
            of   the    wall    that    corresponds          to    a    location          at    which       the
            intrabody tool would meet the wall, were the                                 intrabody tool
            to   continue     moving     toward        the wall      in    a    direction         in   which
 0          the intrabody tool is pointing;                   and
            displaying the modified image.
   9.       The     method      according          to     claim       8,       further         comprising
   identifying        the    location       at which       the    intrabody           tool    would       meet
   the     wall,    by projecting         a   virtual       ray    from      a   distal       tip     of    the
 5 intrabody tool.
   10.      The method according to claim 8, wherein at least                                    a portion
   of the image is rendered in three dimensions.
   11.      The    method     according         to     claim    8,    wherein           the    anatomical
   cavity is a sinus.
 0 12.      The    method     according         to     claim    8,    wherein           the    anatomical
   cavity is a nasal cavity.
   13.      The    method     according        to     claim    8,    wherein          the    image       is   a
   computed tomography              (CT) image.
   14.      The    method     according        to     claim    8,    wherein          the    image       is   a
25 magnetic resonance imaging                 (MRI) image.
   15.      A   computer       software        product       comprising            a     tangible         non
   transitory           computer-readable                 medium          in         which           program
   instructions          are    stored,       which       instructions,             when      read      by    a
   processor, cause the processor:
30          to modify an        image that         includes a        representation of a wall
   of an anatomical           cavity, by:
                    overlaying       an  icon       that    represents           an     intrabody         tool
                                                       13
            3430019v1

        on a portion          of the image         that  corresponds to a location of
        the intrabody tool within the anatomical cavity, and
                overlaying a marker on a portion of the                         representation
        of   the    wall      that    corresponds        to   a    location       at   which       the
5       intrabody tool would meet the wall, were the                            intrabody tool
        to   continue       moving     toward      the wall     in    a direction         in   which
        the intrabody tool is pointing;                   and
        to display the modified image.
  16.   The     computer         software        product     according          to    claim        15,
0 wherein    the   instructions         further       cause  the processor           to   identify
  the  location at which the              intrabody tool would meet the wall, by
  projecting      a   virtual        ray    from     a  distal      tip   of     the    intrabody
  tool.
  17.   The     computer         software        product     according          to    claim        15,
5 wherein    at   least       a    portion      of  the   image     is   rendered        in     three
  dimensions.
  18.   The     computer         software        product     according          to    claim        15,
  wherein the anatomical cavity is                   a sinus.
  19.   The     computer         software        product     according          to    claim        15,
0 wherein the image is a computed tomography                        (CT) image.
  20.   The     computer         software        product     according          to    claim        15,
  wherein the image is a magnetic resonance imaging                            (MRI) image.
                                                   14
        3430019v1

<removed-apn> <removed-date>
<removed-apn> <removed-date>
