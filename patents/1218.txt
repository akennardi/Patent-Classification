                                            ABSTRACT
            Described    embodiments       include        an apparatus    that   includes   a
  display and processor.             The     processor is         configured to receive,
5 from       a   user,   an   input   that      indicates       one   or   more   points   of
  interest        on  an  electroanatomical           map,   of   an anatomical     surface,
  that      is   displayed   on the display,            and to   superimpose    on the map,
  in    response      to  the   input,    a   plurality       of   contours,   each   one  of
  the      contours    being   at  a  different          respective    geodesic    distance,
0 with respect to the surface,                from the points of         interest.      Other
  embodiments are also described.
            3453652vl

         2/5
   32
38
                           3c
              34b      DG
                  36
                      40a 40b
      40
           DG5
             DE10
                     DE25
          FIG.  2A

             VISUALIZATION OF                  DISTANCES ON AN ELECTROANATOMICAL MAP
                                              FIELD OF THE INVENTION
             The present invention relates to methods and interfaces                                                        for
   interacting              with        computer-rendered                  models,          such       as        computer
 5 rendered models of anatomical surfaces.
                                                        BACKGROUND
             Three-dimensional                      surfaces            are        often         represented                  in
   computer           memory         by     a    contiguous           collection            of    tiles,            such      as
   triangular tiles.                     Such a representation may be referred to as                                            a
 0 "tesselation" or a                    "mesh."
             A    "geodesic             distance"          between         two       points       that          lie      on     a
   surface         is     the      length        of    the     shortest          path,      along        the        surface,
   that       connects            the     two      points.           For      points        lying        on       a    curved
   surface,           this        distance          is    often        different           from      the         Euclidean
 5 distance between the points.                               For example, the geodesic distance
   between          two      hilltops          is     the     length        of     the     shortest            path        that
   runs,       along        the     surface         of   the     Earth,        between        the     two        hilltops.
   This      distance           is    larger        than     the     Euclidean           distance          between          the
   hilltops,           which        is     the     length        of     a   straight         path,         through          the
 0 air, passing between the hilltops.
             US      Patent           4,974,598,            whose         disclosure            is        incorporated
   herein         by     reference,            describes          a    system        and     method          in      medical
   non-invasive               electrocardiographic                    analysis          of   human         heart        beats
   for      the      early         detection          of    certain         heart        diseases           in      which       a
25 large       number         of    electrodes,            for example,              32   to    64,      are       attached
   on     the        chest,         back       and      sides        of      the      patient,            i.e.,          "body
   surface."              The     electrical signals                 detected by the electrodes are
   converted to digital data, treated to remove muscle artifact and
   other       noise,         and      then       analyzed        mathematically               to     determine             the
30 presence              or       absence           of     abnormal             body        surface              potential
   distributions,                   or      of       unusual          beat         morphologies,                   compared
                                                                 1
             345 365 2vl

   statistically             to the      self-norm            "typical           beat"      of the       patient        and
   also        compared       to    a    data      base        compiled             from      comparable          normal
   population groups.                  The     results of the                    statistical           analysis         are
   displayed as            topographical maps of the body surface, color coded
 5 to      represent        the    presence           of      significant              derivations            from      the
   norms,         defined      as    "abnormality",                i.e.,         abnormal         spatio-temporal
   patterns          of    voltages        on     the      body        surface,           or     as   waveshape           or
   histogram            displays        of      features,              similarly            Z-transformed               and
   color        coded.        Discriminant            functions,              stored       in    the     heart      state
 0 analyzer,           estimate       the     relative            probability              of    various         cardiac
   pathologies.
             US      Patent       Application               Publication                 2007/0232949,               whose
   disclosure            is    incorporated              herein           by       reference,           describes            a
   method          for     diagnosing           and       mapping             atrial        fibrillation              that
 5 correlates            recordings         of     electrical               activity          from     intracardiac
   multi-electrode               catheters             with        the         locations            of     electrodes
   within          the     heart       to      obtain            a       global         mapping          of      cardiac
   electrical activity.                    Time delay and/or                     amplitude information in
   the       recorded         electrical            activities                is      fused       with       electrode
 0 location          information          to    generate           a     display         on    a    3-D    anatomical
   template          of   the   heart.          Time      delay          and/or        amplitude         information
   is     displayed         using      color       code        and/or         lines       of     equal      value,        to
   aid         diagnosis           and       localization                     of       electrical              activity
   irregularities.                 Mapping             of         atrial              fibrillation               enables
25 physicians             to    treat       arrhythmia                by       ablation,            pacing,         shock
   therapy and/or drugs at                     initiation or during an episode based on
   therapy          delivery       at      critical           mapped           locations           for     arrhythmia
   onset         or   maintenance.           Locations             for       placement           of   pacing        leads
   and      pacemaker         timing       parameters             may       also       be   obtained          from      the
30 display.
             US      Patent       8,155,400,             whose           disclosure             is     incorporated
   herein           by     reference,           describes                 a      method          of     cropping             a
   representation             of    a   face      for     electronic               processing,           said     method
                                                               2
             3453652vl

   comprising:                selecting             a     first           geodesic          contour           about       an
   invariant            reference          point        on    said       face,     setting         a   region      within
   said       first       geodesic          contour         as    a    first      mask,      selecting         a   second
   geodesic            contour         about          a    boundary            of    said       identified           first
 5 region,          setting        a   region         within        said       second      geodesic          contour      as
   a   second          mask,       and      forming         a    final         mask    from      a    union      of   said
   first mask and said second mask.
                                            SUMMARY        OF THE INVENTION
             There        is    provided,            in    accordance            with      some      embodiments          of
 0 the    present            invention,            apparatus           that      includes        a    display       and     a
   processor.               The processor is configured to receive,                                      from a user,
   an    input         that      indicates            one      or    more       points       of     interest        on    an
   electroanatomical                    map,          of      an       anatomical            surface,          that       is
   displayed             on    the     display,            and      to       superimpose          on     the     map,     in
 5 response           to the       input,         a   plurality            of   contours,          each      one  of    the
   contours          being at         a     different           respective          geodesic         distance,        with
   respect to the surface, from the points of interest.
             In       some        embodiments,                the        processor           is      configured           to
   superimpose              the contours at                successive multiples of a particular
 0 geodesic distance from the points of interest.
             In some embodiments,
             the input is a first input,
             the      processor           is      further         configured           to     receive,         from     the
   user,         a    second         input         that       indicates           the      particular           geodesic
25 distance, and
             the      processor          is     configured            to      superimpose          the     contours       in
   accordance with the second input.
             In       some        embodiments,                the        processor           is      configured           to
   superimpose               the     contours            such      that,        for     each       contour        of    the
30 contours,             each      point         on     the      contour         is    at    the       same     geodesic
   distance             from      whichever              one      of       the     points        of       interest        is
   geodesically closest to the point.
                                                                  3
             3453652vl

             In    some embodiments, the processor is further configured to
   display         on     the    display,         for    each      contour          of    the      contours,             the
   geodesic distance of the contour from the points of interest.
             In    some      embodiments,           the    plurality            of    contours           is     a    first
 5 plurality           of    contours,         and    the      processor          is     further           configured
   to    superimpose            on    the    map,      separately           from the           first        plurality
   of      contours,          a     second        plurality          of      contours,            at       successive
   multiples of a particular Euclidean distance from a given plane.
             In      some       embodiments,            the       processor              is      configured                to
 0 superimpose             the      second       plurality           of     contours           on      the       map       by
   projecting a plurality of lines                            onto the map,               successive ones                  of
   the     lines        being      spaced      apart      from      each      other       by     the       particular
   Euclidean distance.
             There         is     further          provided,            in      accordance               with          some
 5 embodiments             of    the      present       invention,            a    method         that        includes
   receiving,            by   a   processor,          an    input       from      a    user      that       indicates
   one     or more         points       of   interest        on    a    displayed           electroanatomical
   map     of     an     anatomical         surface.           The     method        further          includes,            in
   response to the input,                     superimposing, on the map, a plurality of
 0 contours,             each      one      of     the      contours            being         at      a     different
   respective            geodesic         distance,       with       respect         to    the      surface,           from
   the points of interest.
             There         is     further          provided,            in      accordance               with          some
   embodiments              of     the      present         invention,             a      computer             software
25 product          including          a    tangible         non-transitory                 computer-readable
   medium          in       which         program        instructions                are        stored.                  The
   instructions,              when      read     by   a   processor,            cause        the     processor             to
   receive,          from a user,           an    input that          indicates          one      or more points
   of      interest           on      a     displayed           electroanatomical                      map        of       an
30 anatomical             surface,        and    to   superimpose            on     the      map,       in     response
   to the        input,       a   plurality         of   contours,           each      one     of     the     contours
                                                             4
             345 365 2vl

   being       at    a    different           respective           geodesic         distance,           with   respect
   to the surface, from the points of interest.
            The      present          invention         will         be    more      fully        understood       from
   the     following detailed description of                                embodiments thereof, taken
 5 together with the drawings,                          in which:
                                  BRIEF DESCRIPTION OF THE DRAWINGS
            Fig.         1     is      a     schematic            illustration                of     apparatus       for
   visualizing              distances           between           points        on     an       electroanatomical
   map,        in      accordance              with       some         embodiments               of     the   present
 0 invention;
            Figs.         2A-B       are       schematic           illustrations                of     geodesically
   spaced       contours            superimposed              over      an   electroanatomical                map,     in
   accordance with some embodiments of the present invention;
            Fig.       3    is     a    schematic          illustration             of      a    superposition         of
 5 contours         onto       an     electroanatomical                 map,     in     accordance          with   some
   embodiments of the present invention;                                   and
            Fig. 4 is a              schematic illustration                      of contours             superimposed
   on     a    rotated           electroanatomical                   map,      in     accordance           with    some
   embodiments of the present invention.
 0                              DETAILED DESCRIPTION OF EMBODIMENTS
                                                     INTRODUCTION
            The      geodesic             distance         between         the      two        locations       on    the
   surface        of a       heart       is,    as described             above      in     the     Background,       the
   length       of      the      shortest         path,         along      the      surface           of  the   heart,
25 that      connects           the      two    locations.               For     simplicity,             the  present
   description              and      claims      may       refer        to    such       a     geodesic      distance
   with      reference            to    a    rendered          model      of    the      surface,         such   as    by
   referring           to      a     geodesic         distance           between           two      points     on    the
   rendered         model.             Thus,      for       example,         a    statement            such   as   "the
30 contour        is       superimposed            over        the     map     at    a     particular        geodesic
                                                                 5
            3453652vl

   distance        from the           point         of    interest        on    the     map"   means     that        the
   contour         is       superimposed                 over       the     points        on    the     map        that
   represent           respective               anatomical             locations          that     are      at       the
   particular           geodesic           distance           from     the    anatomical         location          that
 5 is      represented             by        the       point         of     interest.             Likewise,            an
   expression          such      as     "the geodesic                distance       between      the    first        and
   second       contours"           refers          to    the      geodesic       distance       between         (i)     a
   first       plurality             of       anatomical             locations          represented         by       the
   points       over     which the             first        contour      is    superimposed,          and     (ii)       a
 0 second        plurality            of       anatomical            locations          represented         by       the
   points over which the second contour is superimposed.
            Similarly,            for         simplicity,             the     present         description            and
   claims       may     refer        to      other        properties          of    an    anatomical        surface
   with reference to a rendered model of the surface.                                              For example,
 5 the     present         description               and     claims      may     refer      to   an   electrical
   propagation time between two points on the model.
                                                          OVERVIEW
            In      some        embodiments,                  an      electroanatomical              map       of        a
   subject's           heart         is       constructed.                  As     implied        by    the        word
 0 "electroanatomical, "                    such       a   map      combines       anatomical        information
   relating to the               structure of the heart with information relating
   to    the    electrical            activity            of    the    heart.        For     example,      the       map
   may     include        a   three-dimensional                    mesh,     representing          a  surface          of
   the       heart,         that         is        colored           (or     otherwise          annotated)             in
25 accordance            with         local           activation            times        (LATs),      electrical
   potentials,             and/or           other         properties           that       were     measured            at
   various        locations            on      the       surface.           Such      a   mesh     is   typically
   constructed            from      a    large         number        of   data     points,       each    of     which
   corresponds           to    a    particular             location        on   the     surface      of  heart         at
30 which the property of interest was measured.
            In    some       cases,         a    user      may      wish    to    visualize        the    distance
   between       points        on,     or      areas       of,     the map.         For example,         the user
                                                                 6
            3453652vl

   may      wish      to   visualize            the       geodesic          distance         between       a    point       of
   interest          on the        map,      and various               other       points      on   the map.             Such
   a     geodesic           distance            is      often          of      interest,          given        that       the
   geodesic           distance         between           two      locations           on    the     surface         of    the
 5 heart          is    usually           correlated              with         the     time       required          for       a
   bioelectric signal to propagate, along the surface of the heart,
   between the two locations.
             Embodiments             described           herein         facilitate          such     visualization,
   by    superimposing               a   plurality             of      contours        over     the     map,      each      of
 0 the      contours         being        at     a   different             respective           geodesic         distance
   from       a     point     of     interest           that        is    indicated          by    the     user.          For
   example,           each     pair        of    successive              contours         may     be    spaced         apart
   from       one     another         by    the      same       geodesic           distance,        such      that,       for
   example,          the     user      sees      a    first        contour         geodesically           spaced         5 mm
 5 from the point of interest,                              a   second contour              geodesically spaced
   5    mm from the            first        contour           (10     mm from the           point      of    interest),
   a third contour geodesically                               spaced 5 mm from the second contour
    (15 mm from the point of interest),                                    etc.
             Aside       from        helping         the       user       visualize          geodesic          distances
 0 from       the      point       of     interest,             these        contours        may     also       help      the
   user       identify         regions          of     impaired           electrical          propagation.                For
   example,           if     the      measured            propagation              time      from      the     point        of
   interest          to    a   particular             point         on    the      map   is    greater        than       that
   which         is    implied         by     the       geodesic           distance         between        the      points
25 that       is     indicated           by     the       superimposed               contours,         the      user      may
   infer          that      the       tissue         between             the       corresponding             anatomical
   locations is not properly conducting bioelectric signals.
             In     some     cases,        the      user       may wish           to  visualize         the      geodesic
   distance          between         a   particular              point        on    the    map    and     the      closest
30 one       of      a    plurality             of      points           of      interest.             For       example,
   following           an    ablation          procedure             during which            several        regions         on
   the      cardiac        surface         are      ablated,           the     user     may     wish to        visualize
   the       geodesic          distance            to      the       closest         one     of     these        regions.
                                                                   7
             3453652vl

   Embodiments             described           herein          facilitate              such      visualization,                by
   allowing          the    user      to      define          multiple          points         of     interest          on   the
   map,        and    then     superimpose               the      contours           such       that,        for      each     of
   the      contours,        each      point          on the        contour          is     at    the      same      geodesic
 5 distance           from       whichever              one       of       the      points          of       interest          is
   geodesically closest to the point.
             Alternatively                  to          superimposing                     the          above-described
   geodesically-spaced                     contours,              a       plurality             of       lines        may      be
   projected             onto      the        map,          such       as      to        form       a      plurality           of
 0 superimposed             contours           located          at     respective             Euclidean            distances
   from       a   given     plane.            Such        a   plurality            of     superimposed               contours
   provide         the     user      with        an     alternate            way       to     visualize            distances
   between points on the map.
             Although           the        present              description                  relates           mainly          to
 5 electroanatomical                 maps,         it      is    noted        that        embodiments              described
   herein        may be       used to          visualize            distances             between         points        on   any
   suitable three-dimensional model that is rendered on-screen.
                                             APPARATUS DESCRIPTION
              Reference        is    initially             made to Fig.               1,     which is          a   schematic
 0 illustration             of     apparatus             20     for      visualizing             distances            between
   points         on    an   electroanatomical                    map       32,     in      accordance            with     some
   embodiments            of the       present            invention.               Apparatus            20     comprises         a
   processor           22   and     a    display           24,     comprising              a   screen         30,     and may
   further         comprise         one      or    more        input        devices,           such       as    a   mouse      26
25 and/or a keyboard 28.                        In some embodiments,                         screen 30           is a touch
   screen,         such that display 24                      also functions as an input device.
             As    shown      in    Fig.        1,     processor            22    renders,           on     screen       30,     a
   three-dimensional                    electroanatomical                        map          32,         such         as      an
   electroanatomical                 map       of      a     surface         of     a     subject's            heart.          As
30 described           in   detail        below,          the     processor             further          superimposes            a
   plurality           of    contours            34     over       electroanatomical                     map      32,     e.g.,
   based         on     inputs        received              from       a     user         via      mouse          26    and/or
                                                                  8
              3453652vl

   keyboard 28.                   The user may then use any suitable input device to
   zoom-in           to     map     32,     rotate         the map,         and/or        interact           with the map
   in        any         other         suitable              way,        while          viewing            the       contours
   superimposed on the map.
 5            It      is      emphasized            that       the      contours          are      superimposed              onto
   the         actual            surface           of       the       map,         such       that         the       contours
   effectively                 become      part        of    the      rendered          model.          Hence,        even      as
   the       user's           view     of      the       map      is    adjusted,           the       contours          do    not
   move,         relative          to     the      surface           of  the     map.        For       example,         as    the
 0 map is rotated, the contours rotate along with the map.
              In       general,           processor             22      may     be       embodied           as     a     single
   processor,               or    as    a    cooperatively               networked           or     clustered           set     of
   processors.                    Processor            22      is      typically          a    programmed             digital
   computing               device        comprising              a     central          processing            unit       (CPU),
 5 random access                  memory        (RAM),        non-volatile              secondary          storage,          such
   as      a     hard        drive       or      CD      ROM      drive,       network           interfaces,             and/or
   peripheral               devices.            Program          code,      including            software          programs,
   and/or data are loaded into the RAM for execution and processing
   by      the         CPU       and     results            are       generated           for       display,          output,
 0 transmittal,                 or    storage,            as    is     known       in    the     art.         The     program
   code and/or                 data may be downloaded to the computer in electronic
   form,         over        a   network,          for      example,         or      it   may,       alternatively              or
   additionally,                   be      provided              and/or         stored           on       non-transitory
   tangible            media,        such as magnetic,                   optical,          or electronic              memory.
25 Such        program           code      and/or         data,       when     provided           to     the     processor,
   produce            a     machine          or      special-purpose                  computer,           configured            to
   perform the tasks described herein.
              Reference            is     now      made       to      Figs.       2A-B,      which         are     schematic
   illustrations                  of    geodesically-spaced                     contours           superimposed              over
30 an electroanatomical map 32,                                 in accordance with some                        embodiments
   of the present invention.
              To      superimpose             the        contours         as      shown       in      Figs.       2A-B,       the
   processor              first       receives           an     input      from the           user       that      indicates
                                                                      9
              3453652vl

   one      or     more      points         of     interest              on      the         surface          38     of     the
   displayed          electroanatomical                  map.            For       example,            to     indicate            a
   particular          point       of    interest,            the      user        may       position         the     cursor
   of mouse         26    (Fig.      1)    over     the point              of     interest,            and then         click
 5 the     mouse.         The     processor          may        then       receive            the     click,        and,       in
   response thereto, superimpose the contours as described below.
            Fig.       2A     illustrates            a      scenario              in      which         the      user       has
   indicated         a    single        point      of     interest              36.         In     response         to    this
   indication,             the      processor             superimposes,                     on       surface          38,         a
 0 plurality           of      contours           having           different               respective             geodesic
   distances,           with       respect          to      the        anatomical                 surface         that         is
   represented             by      surface           38,          from          point            of      interest           36.
    (Typically,           the      processor             also         displays              a     marker         over       the
   indicated point of                 interest, as               illustrated in the                      figure.)           For
 5 example,           the       processor            may          superimpose                   the       contours             at
   successive          multiples          of     a   particular                 geodesic           distance         DG    from
   the point         of    interest.             Fig.      2A     illustrates                 such     an    embodiment,
   whereby a first              contour 34a is                spaced from the point                          of interest
   by    a    geodesic        distance         DG,    a     second          contour            34b    is     spaced       from
 0 first        contour         34a      by      the      same          geodesic               distance          DG,      and,
   likewise,         a   third      contour         34c      is     spaced          from second              contour        34b
   by the same geodesic distance DG-                                  Thus,         first contour                34a is at
   a   distance        DG    from the         point       of      interest,              second        contour        34b      is
                            2
   at a distance               DG   (as indicated in the figure),                                 and third contour
25 34c is at a distance 3DG
             (To    obviate        any     confusion,              it     is     noted          that      a    contour         is
   said      to   be    at    a   given       geodesic           distance            from a          point,       if    every
   point       on   the    contour        is     at the         given         geodesic            distance        from the
   point.          Likewise,          a    second        contour             is     said         to   be     at     a   given
30 geodesic         distance         from      a   first         contour,             if      every       point       on    the
   second         contour        is     at      the      given          geodesic               distance          from       the
                                                              10
            3453652vl

   closest point on the first contour.)
           In    some embodiments, the processor receives,                                     from the user,
   a  second        input     that     indicates            the    particular           geodesic       distance,
   or  "geodesic spacing,"                   DG-        For example, the user may enter this
 5 quantity          (e.g.,      expressed             in    units      of     mm)     using      mouse      26    or
   keyboard         28.      The      processor            then     superimposes            the     contours       in
   accordance with the desired geodesic spacing.                                         For example, with
   reference          to   Fig.      2A,      the      user     may     enter       the    desired      geodesic
   spacing DG, and the processor may then                                   space      successive contours
 0 from one         another        (and space           the    first       contour       from the point of
   interest)            by     this        desired            spacing,            as     described          above.
   Typically,          following        an     initial        superimposition              of    contours,        the
   user      is     provided         the       ability         to    change          the     spacing      of      the
   contours,           by   entering           a    new      desired          geodesic        spacing.            The
 5 processor           may    then       redraw          the     contours            (moving,        adding,       or
   removing         contours,         as      necessary),            in      accordance          with   the       new
   desired geodesic spacing.
           In     some     embodiments,               the    processor            displays,        for   each      of
   the    contours,          the      geodesic            distance         of     the    contour       from       the
 0 point       of     interest.             For       example,         as      shown      in     Fig.   2A,       the
   processor may superimpose,                        on    each of the            contours,       an indicator
   42    that         indicates          the        geodesic          distance           of      the    contour.
   Typically, the distances are                          expressed in units of mm.                      (Fig. 2A
   shows an example in which DG = 5 mm.)
25         It      is     again        noted           that,      as       described          above      in       the
   Background,           the   geodesic          distance         between          two   points may         differ
   from    the      Euclidean         distance          between       them.          For example,        Fig.      2A
   shows      a cross-section of                 surface 38          along a line passing through
    (i) a first point               40a that lies             on first          contour 34a,          (ii) point
30 of  interest          36,    and     (iii)        a   second point             40b   that      also   lies      on
   first       contour       34a.         As     shown,         although          the    geodesic       distance
   between       first     point       40a and point              of     interest        36   is    the  same      as
                                                             11
           3453652vl

   the      geodesic          distance             between         second          point         40b        and       point      of
   interest         36,     the      Euclidean             distance         DEl     between            first        point      40a
   and      point      of   interest             36    is    greater        than         the    Euclidean              distance
   DE2 between second point                          40b and point of interest 36,                                 due to the
 5 curvature of surface 38.
             Fig.      2B    differs            from       Fig.      2A,     in     that        Fig.         2B     depicts         a
   scenario           in     which            the       user       has       selected              three          points         of
   interest:           a    first          point         of    interest            36a,       a      second           point      of
   interest          36b,       and       a    third        point       of     interest             36c.           In     such      a
 0 scenario,           each        point        on      each     of     the      contours             is      at      the     same
   geodesic         distance            from       one      of   the     points           of    interest,              although
   this      point       of     interest           is     not    necessarily               the      same       for      each     of
   the points on the contour.                               For example, each point on any given
   one      of    the     contours            may      be    at    the     same         geodesic            distance          from
 5 whichever          one     of     the       points        of   interest            is     geodesically                closest
   to    the      point.            Such        an     embodiment           is     illustrated                in      Fig.     2B,
   whereby a first contour 44a is at a geodesic distance DG from the
   points       of    interest,             in    the      sense      that      each        point         on    contour         44a
   is    at     geodesic           distance           DG    from      the      point         of     interest            that     is
 o closest         to    the      point.           Thus,       for     example,            a   first         point        46a    on
   first       contour        44a      is      at    a    geodesic         distance           DG from           first        point
   of    interest         36a,       while         a    second       point        46b      on     first        contour          44a
   is at the same geodesic distance DG from second point of interest
   36b.        Similarly,            a    second         contour        44b     is      at    a    geodesic            distance
   2
25    DG from the points of                       interest, in the sense                        that each point                  on
                                                                                    2
   contour          44b     is       at      geodesic           distance              DG      from         the       point       of
   interest         that        is     closest           to    the     point.             Thus,         for       example,          a
   first       point      48a       on    second         contour        44b     is      at    a    geodesic            distance
   2
      DG from first point of interest 36a, while a second point 48b on
                                                                                                                      2
30 second         contour          44b      is     at     the     same       geodesic            distance               DG    from
                                                                 12
             3453652vl

   third point of interest 36c.
          In    other         embodiments,              each      point         on    any     given     one   of   the
   contours       is     at     the     same       geodesic         distance          from whichever           one   of
   the   points        of    interest           is    geodesically              farthest         from the point.
 5 In   yet     other           embodiments,              multiple           sets       of     contours       may    be
   superimposed            on     surface         38,     each      of    the      sets    being      geodesically
   spaced     with       respect          to    a   different          respective            one    of   the points
   of interest.
          In    general,            any     of    the     various         embodiments            described      above
 0 with    reference             to    Fig.       2A    may     also       be    practiced          with    multiple
   points       of        interest.                 For        example,             the      contours        may     be
   superimposed            at      successive             multiples          of      a    particular        geodesic
   distance,        which may be               received         as input           from the       user,     from the
   points      of     interest,            and/or        indicators            42    may     be   displayed      over
 5 the   contours,            to     indicate          the     respective             geodesic       distances       of
   the contours.
          Reference              is    now      made       to     Fig.       3,      which       is   a    schematic
   illustration                of       a       superposition                   of       contours          52    onto
   electroanatomical map                     32,    in accordance with some embodiments of
 0 the   present          invention.               Reference          is     additionally            made    to  Fig.
   4,  which is a            schematic illustration of                           contours        52   superimposed
   on   a    rotated            electroanatomical                  map,        in     accordance         with    some
   embodiments of the present invention.
          Contours              52     differ           from        contours            34,      described       with
25 reference         to     the      earlier          figures,         in     that       contours       52   are   not
   geodesically              spaced          from       points          of       interest.             Rather,       to
   superimpose            contours            52,      the      processor             typically        projects        a
   plurality of            lines       51,     successive ones                 of the lines being spaced
   apart     from each            other       by a      Euclidean           distance         DE,    onto    the map.
30 (Typically,            lines        51      are      either        vertical            or    horizontal       with
   respect to the screen.)                         Such a projection yields a plurality of
   contours        52,      located          at     successive            multiples          of    a   distance      DE
                                                               13
          3453652vl

   from      a    given plane           54.        (To   explicate          further,            it     may be         stated
   that      lines      51   represent            respective planes that are perpendicular
   to     the       screen,        each        of     these       planes        being          at       a     respective
   multiple          of   distance         DE     from plane          54,     and contours                 52    mark      the
 5 points on the map                  at which these planes                    intersect the surface of
   the     map.)         In   some        embodiments,            the    user        indicates             the      desired
   Euclidean           spacing         DE,     and     the     processor            then       superimposes                the
   contours in accordance with this desired spacing.
             It    is    noted       that      lines      51     and plane            54     are       typically           not
 0 displayed           on   the      screen.           Moreover,          plane         54     is      typically           not
   explicitly           computed          by    the    processor          at     all.          Rather, plane                 54
   is    defined        only     implicitly,             by virtue          of     the      spacing          DE between
   lines 51.
             The      superposition              of    contours          52     is       typically              performed
 5 separately             from      the        superposition             of      contours               34      that       was
   described           above,       such      that      contours        34     and      contours             52    are     not
   displayed           at   the     same       time.       Typically,            the      user         instructs           the
   processor          which     type        of     contours        to   display,           in      accordance            with
   the       user's        desired          method        of      visualizing               distances              between
 0 points          on     the     map.              The    processor             then         superimposes                 the
   appropriate             type       of     contours,           in    accordance              with         the      user's
   instructions.
             Following        the       superposition             of    contours           52,       the      respective
   positions           of   contours           52    may    remain        fixed        with         respect         to     the
25 surface         of   the    map,        as    described          above      for       contours            34.        Thus,
   for     example,         as    shown        in    Fig.     4,     as   the       user       rotates           the      map,
   the      processor          may        rotate        the      contours            along         with         the      map.
   Alternatively,             e.g.,        in    accordance          with the           user's          instructions,
   the     processor         may      continually           re-project            lines        51     onto       the     map,
30 such      that      contours         52    are     continually           superimposed                 over      the     map
   in     the       desired         orientation             (e.g.,        a    vertical               or      horizontal
   orientation),             even as the map is rotated.
                                                             14
             3453652vl

            It    will      be    appreciated             by persons               skilled         in    the     art   that
   the       present          invention             is       not       limited             to      what        has     been
   particularly shown and described hereinabove.                                                Rather, the scope
   of       embodiments              of       the         present            invention                includes         both
 5 combinations               and        subcombinations                   of        the       various           features
   described          hereinabove,             as     well       as     variations              and     modifications
   thereof        that       are     not      in     the      prior         art,        which       would       occur     to
   persons          skilled           in       the        art        upon          reading            the       foregoing
   description.              Documents incorporated by reference                                       in the present
 0 patent       application            are     to    be     considered              an    integral         part      of the
   application           except         that      to     the     extent          any     terms        are    defined      in
   these incorporated documents                            in a manner that conflicts with the
   definitions             made        explicitly              or        implicitly              in      the       present
   specification,              only the          definitions             in      the present            specification
 5 should be considered.
            In    this       specification,                the      terms         "comprise",             "comprises",
   "comprising"             or      similar          terms        are        intended            to     mean       a   non
   exclusive           inclusion,            such       that      a      system,          method         or     apparatus
   that        comprises          a      list       of      elements             does        not       include        those
 0 elements solely, but may well include other elements not listed.
            The     reference            to    any      prior        art       in     this       specification            is
   not,      and should not               be   taken        as,     an     acknowledgement                 or    any   form
   of     suggestion           that        the      prior        art        forms         part        of    the      common
   general knowledge.
25
                                                               15
            3453652vl

                                                       CLAIMS
   1.    Apparatus, comprising:
          a display;         and
          a processor, configured:
 5                  to   receive,        from       a    user,       an    input    that      indicates         one
          or more        points       of   interest           on    an    electroanatomical               map,    of
          an     anatomical          surface,          that      is     displayed        on     the      display,
          and
                    to   superimpose          on the map,             in    response      to the        input,      a
 0        plurality         of    contours,           each     one     of    the   contours        being      at    a
          different         respective geodesic distance, with respect to the
          surface,         from the points of interest.
   2.     The     apparatus         according           to     claim      1,    wherein       the     processor
   is    configured            to       superimpose              the       contours         at      successive
 5 multiples        of    a  particular           geodesic          distance        from     the     points       of
   interest.
   3.     The apparatus according to claim 2,
          wherein the input               is a first input,
          wherein         the     processor            is     further         configured         to      receive,
 0 from    the      user,      a    second        input         that      indicates        the      particular
   geodesic distance, and
          wherein         the     processor            is      configured          to    superimpose            the
   contours in accordance with the second input.
   4.     The     apparatus         according           to     claim      1,    wherein       the     processor
25 is  configured           to    superimpose            the      contours        such     that,        for    each
   contour      of     the    contours,          each        point       on    the   contour        is     at   the
   same    geodesic          distance         from        whichever           one    of     the     points        of
   interest is geodesically closest to the point.
   5.     The     apparatus         according           to     claim      1,    wherein       the     processor
30 is   further         configured           to      display          on     the    display,           for     each
   contour      of     the    contours,          the      geodesic          distance       of    the      contour
   from the points of interest.
                                                            16
          3453652vl

   6.        The    apparatus         according         to   claim    1,    wherein    the    plurality
   of    contours        is    a   first      plurality        of   contours,       and    wherein       the
   processor          is     further        configured         to    superimpose        on    the       map,
   separately           from      the      first        plurality        of   contours,       a     second
 5 plurality         of     contours,        at    successive       multiples       of   a  particular
   Euclidean distance from a given plane.
   7.        The    apparatus         according         to   claim    6,    wherein    the    processor
   is    configured to superimpose the second plurality of contours                                        on
   the       map    by     projecting           a    plurality       of     lines    onto     the       map,
 0 successive          ones    of    the    lines       being   spaced      apart   from each         other
   by the particular Euclidean distance.
   8.        A method, comprising:
             receiving,          by     a   processor,         an    input      from    a   user        that
   indicates           one     or     more       points       of    interest       on    a    displayed
 5 electroanatomical map of an anatomical surface;                                and
             in    response        to     the     input,      superimposing,         on    the    map,       a
   plurality          of     contours,         each      one   of    the     contours      being      at     a
   different          respective           geodesic        distance,        with    respect       to     the
   surface,        from the points of interest.
 0 9.        The    method     according          to    claim    8,  wherein     superimposing           the
   contours          comprises           superimposing          the      contours     at    successive
   multiples         of    a  particular           geodesic      distance      from    the   points        of
   interest.
   10.       The method according to claim 9,
25           wherein the input             is a first input,
             wherein       the    method        further       comprises       receiving,       from      the
   user,        a   second       input      that        indicates      the    particular        geodesic
   distance, and
             wherein      superimposing             the    contours       comprises     superimposing
30 the contours in accordance with the second input.
   11.       The    method     according          to    claim    8,  wherein     superimposing           the
   contours         comprises          superimposing           the    contours      such     that,       for
                                                          17
             3453652vl

   each       contour       of     the     contours,        each     point        on      the    contour       is     at
   the     same     geodesic          distance        from whichever               one      of   the     points       of
   interest is geodesically closest to the point.
   12.       The      method          according         to     claim         8,        further         comprising
 5 displaying,             for      each       contour       of     the      contours,            the      geodesic
   distance of the contour from the points of interest.
   13.       The    method        according         to   claim      8,    wherein           the    plurality          of
   contours          is     a     first       plurality        of     contours,             and      wherein        the
   method        further         comprises          superimposing            on      the      map,     separately
 0 from       the     first        plurality         of    contours,           a     second        plurality          of
   contours,           at     successive           multiples          of     a     particular            Euclidean
   distance from a given plane.
   14.       The method according to claim 13,                            wherein superimposing the
   second       plurality           of    contours       on   the    map      comprises           superimposing
 5 the      second        plurality          of    contours        on    the       map       by    projecting           a
   plurality          of    lines        onto     the    map,     successive             ones      of   the     lines
   being       spaced       apart        from     each    other      by    the       particular          Euclidean
   distance.
   15.       A   computer           software         product        comprising              a   tangible          non
 o transitory               computer-readable                  medium              in         which          program
   instructions             are       stored,       which      instructions,                 when     read      by      a
   processor, cause the processor:
             to   receive,           from      a   user,     an    input        that       indicates          one     or
   more      points       of    interest         on   a  displayed         electroanatomical                  map     of
25 an anatomical surface, and
             to    superimpose             on    the    map,     in     response            to    the      input,       a
   plurality           of     contours,          each     one     of     the       contours          being       at     a
   different           respective            geodesic        distance,            with        respect        to     the
   surface,        from the points of interest.
30 16.       The      computer           software        product         according              to     claim        15,
   wherein        the     instructions            cause     the    processor            to     superimpose          the
   contours           at      successive           multiples          of      a      particular            geodesic
                                                           18
             3453652vl

   distance from the points of interest.
   17.    The computer software product according to claim 16,
          wherein the input              is a first input,
          wherein       the      instructions              further       cause   the    processor        to
 5 receive,       from      the      user,        a     second       input   that     indicates        the
   particular geodesic distance, and
          wherein the instructions                      cause the processor to superimpose
   the contours in accordance with the second input.
   18.    The      computer         software            product        according     to     claim      15,
 0 wherein     the    instructions             cause      the    processor     to   superimpose        the
   contours      such that,         for each          contour       of the   contours,      each point
   on  the    contour       is     at   the      same      geodesic      distance     from whichever
   one   of    the    points        of    interest           is  geodesically       closest      to    the
   point.
 5 19.    The      computer         software            product        according     to     claim      15,
   wherein the instructions further                           cause the processor to display,
   for  each      contour       of    the     contours,         the     geodesic   distance      of    the
   contour from the points of interest.
   20.    The      computer         software            product        according     to     claim      15,
 0 wherein      the     plurality           of      contours         is   a   first     plurality        of
   contours,        and      wherein           the       instructions         further       cause      the
   processor       to   superimpose            on    the      map,    separately     from    the   first
   plurality        of     contours,           a     second        plurality     of     contours,        at
   successive       multiples          of    a    particular          Euclidean    distance      from      a
25 given plane.
                                                          19
          3453652vl

<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
