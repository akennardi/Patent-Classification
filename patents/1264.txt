                                                        22
                                                   ABSTRACT
             This invention discloses a novel system and method for distributing electronic ticketing such
  that the ticket is verified at the entrance to venues by means of an animation or other human perceptible
  verifying visual object that is selected by the venue for the specific event. This removes the need to use a
5 bar-code scanner on an LCD display of a cell phone or other device and speeds up the rate at which
  human ticket takers can verify ticket holders.      The system providing the service also can maintain a
  persistent communication channel with the user device in order to control the ticket verification process.

                              1/16
Fj Ie
                                         E~(2)
                                            System
               _____~IDII1OGD               Server
      Customer
      Device
                                                 (3)
                                   Database

                                                           1
     A METHOD AND SYSTEM FOR DISTRIBUTING ELECTRONIC TICKETS WITH VISUAL
                                         DISPLAY FOR VERIFICATION
   This patent application claims priority to U.S. Pat. App. No. 13/110,709 filed on May 18, 2011 as a
   Continuation-in-Part and hereby incorporates that application by reference in its entirety.                This
 5 application also claims priority to U.S. Pat. App. No. 13/046,413 filed on March 11, 2011                  as a
   Continuation-in-Part and hereby incorporates that application by reference in its entirety.
   Field of the Invention
   This invention provides a mechanism whereby a venue or other facility that meters usage by means of
   tickets can distribute tickets electronically and use a visual aid on an electronic device to visually confirm
 0 that a person is a valid ticket holder.
   Background of the Invention
   Any discussion of the background art throughout the specification should in no way be considered as an
   admission that such background art is prior art, nor that such background art is widely known or forms
   part of the common general knowledge in the field in Australia or worldwide.
 5 Venues such as theatres, amusement parks and other facilities that use tickets, for example airlines, ferries
   and other transportation have a need to use electronic ticketing. Existing systems distribute information
   that can constitute a ticket, but the verification problem is difficult. In one example of prior art, an
   electronic ticket is displayed as a bar-code on the recipient's telephone display screen. The telephone is
   then placed on a scanner that reads the bar-code in order to verify the ticket. The problem with these
 0 systems is that the scanning process is fraught with error and the time taken to verify the electronic ticket
   far exceeds that of the old system looking at the paper ticket and tearing it in half. Barcode scanners were
   not designed to read a lit LCD screen displaying a bar code. The reflectivity of the screen can defeat the
   scanning process.       Therefore, there is a need for an electronic ticketing system that provides a
   human-perceivable visual display that the venue can rely on to verify the ticket. This invention provides
25 for the distribution of an electronic ticket that also contains a visual display that ticket takers can rely on
   as verification, without using a scanning device.
   Summary of the Invention
   It is an object of the present invention to overcome or ameliorate at least one or more of the disadvantages
   of the prior art, or to provide a useful alternative.
30 Throughout this specification, unless the context requires otherwise, the words "comprise", "comprises"
   and "comprising" will be understood to imply the inclusion of a stated step or element or group of steps
   or elements but not the exclusion of any other step or element or group of steps or elements.

                                                        2
   Any one of the terms "including" or "which includes" or "that includes" as used herein is also an open
   term that also means including at least the elements/features that follow the term, but not excluding
   others. Thus, "including" is synonymous with and means "comprising".
   The various methods or processes outlined herein may be coded as software that is executable on one or
 5 more processors that employ any one of a variety of operating systems or platforms. Additionally, such
   software may be written using any of a number of suitable programming languages and/or programming
   or scripting tools, and also may be compiled as executable machine language code or intermediate code
   that is executed on a framework or virtual machine.
   In this respect, various inventive concepts may be embodied as a computer readable storage medium (or
 0 multiple computer readable storage media) (e.g., a computer memory, one or more floppy discs, compact
   discs, optical discs, magnetic tapes, flash memories, circuit configurations in Field Programmable Gate
   Arrays or other semiconductor devices, or other non-transitory medium or tangible computer storage
   medium) encoded with one or more programs that, when executed on one or more computers or other
   processors, perform methods that implement the various embodiments of the invention discussed above.
 5 The computer readable medium or media can be transportable, such that the program or programs stored
   thereon can be loaded onto one or more different computers or other processors to implement various
   aspects of the present invention as discussed above.
   The terms "program" or "software" are used herein in a generic sense to refer to any type of computer
   code or set of computer-executable instructions that can be employed to program a computer or other
 0 processor to implement various aspects of embodiments as discussed above. Additionally, it should be
   appreciated that according to one aspect, one or more computer programs that when executed perform
   methods of the present invention need not reside on a single computer or processor, but may be
   distributed in a modular fashion amongst a number of different computers or processors to implement
   various aspects of the present invention.
25 Computer-executable instructions may be in many forms, such as program modules, executed by one or
   more computers or other devices.       Generally, program modules include routines, programs, objects,
   components, data structures, etc. that perform particular tasks or implement particular abstract data types.
   Typically the functionality of the program modules may be combined or distributed as desired in various
   embodiments.
30 Also, data structures may be stored in computer-readable media in any suitable form. For simplicity of
   illustration, data structures may be shown to have fields that are related through location in the data
   structure. Such relationships may likewise be achieved by assigning storage for the fields with locations
   in a computer-readable medium that convey relationship between the fields.         However, any suitable
   mechanism may be used to establish a relationship between information in fields of a data structure,

                                                           3
   including through the use of pointers, tags or other mechanisms that establish relationship between data
   elements.
   Also, various inventive concepts may be embodied as one or more methods, of which an example has
   been provided.       The acts performed as part of the method may be ordered in any suitable way.
 5 Accordingly, embodiments may be constructed in which acts are performed in an order different than
   illustrated, which may include performing some acts simultaneously, even though shown as sequential
   acts in illustrative embodiments.
   According to a first aspect of the invention, there is provided a method for activating a purchased
   electronic ticket on a user's computer device comprising:
 0             receiving from the user's computer device a request to activate a purchased electronic ticket;
              receiving from the user's computer device a token associated with the received request;
               determining whether a token associated with the purchased ticket has been stored in a data
   record associated with the received request, and if it has, whether the received token matches the stored
   token; and
 5             in dependence on the determination that the stored token and received token match, transmitting
   to the user's computing device a validating visual object corresponding to the purchased electronic ticket.
   The method may further comprise in response to the determination step determining that no token has
   been stored, the further steps of:
               storing the token in the data record associated with the ticket; and
 0             transmitting to the user's computing device a validating visual object corresponding to the
   purchased electronic ticket.
   The method may further comprise:
               storing in the data record associated with the ticket a data value representing a predetermined
   lock time;
25             determining whether the duration of time from the ticket activation to the lock time has expired
   and in dependence on such determination; and
               changing the database record so that the ticket is in a deactivated state.
   Preferably, the method further comprises transmitting an authorization key to the device that transmitted
   the received request.
30 Preferably, the method further comprises encrypting the validating visual object using the authorization
   key.
   Preferably, the method further comprises encrypting the validating visual object with a public key for
   which the transmitted authorization key is the associated private key.

                                                          4
   Preferably, the method further comprises establishing a persistent channel between the server and the
   user's computer device.
   Preferably, the method further comprises transmitting a command that causes the transmitted validating
   visual object to be automatically deleted from the user's device.
 5 Preferably, the persistent channel provides the server control over a computer process operating on the
   user's device and that control causes the process to receive the validating visual object, display the
   validating visual object on the device and delete the validating visual object.
   Preferably, the persistent channel is a bi-directional and full-duplex communications channel.
   Preferably, the validating visual object is transmitted to the user's device and automatically displayed on
 0 the screen without the user having to input a command to cause the transmission of the validating visual
   object.
   Preferably, the method further comprises transmitting to the device a visual image comprising one of an
   advertisement or a discount coupon.
   Preferably, the method further comprises selecting a visual image for transmission to the device from a
 5 plurality of stored visual images, said selection step made in dependence on data associated with the
   purchased ticket.
   Preferably, the selection step is comprised of determining predetermined features of the validated ticket or
   purchasing transaction and then making a selection on the basis of those features.
   Preferably, the method further comprises transmitting an image that encodes a data value that corresponds
20 to the identity of the persistent channel.
   Preferably, the method further comprises:
             receiving from the user device a request to provide a payment authorization, and in response,
   performing the transmitting an image step;
             receiving a request to verify a purchase transaction, said request containing a challenge data;
25           determining whether the challenge data corresponds to the persistent channel used to transmit
   the image; and
             causing a payment to be made to the entity associated with the received request to verify the
   purchase transaction.
   According to a second aspect of the invention, there is provided a system comprised of a website adapted
30 to perform any of the methods of a first aspect.

                                                          5
   According to a third aspect of the invention, there is provided a computer readable medium containing
   computer program code that when run causes the performance of any of the methods of a first aspect.
   Brief Description of the Drawings
   It should be noted in the following description that like or the same reference numerals in different
 5 embodiments denote the same or similar features.
   Notwithstanding any other forms which may fall within the scope of the present invention, a preferred
   embodiment/preferred embodiments of the invention will now be described, by way of example only,
   with reference to the accompanying drawings in which:
   Figure 1 is a basic architecture;
 0 Figure 2 is a flow chart for ticket purchase;
   Figure 3 is a flow chart for displaying the verifying visual object;
   Figure 4 is an example validating visual object;
   Figure 5 is an example validating visual object;
   Figure 6 is a schematic of event database record;
 5 Figure 7 is a schematic of authorized user database record;
   Figure 8 is a flow chart for transfer of ticket;
   Figure 9 is an example user interface on user's device;
   Figure 10 is an example user interface showing activation selection screen;
   Figure 11 is an example user interface showing display of validating visual object and other ticketing
20 information;
   Figure 12 is a flowchart for ticket activation process;
   Figure 13a is a protocol diagram for activation process;
   Figure 13b is a continued protocol diagram for activation process;
   Figure 14 is a flowchart for persistent channel; and
25 Figure 15 is a flowchart for persistent channel for purchase verification.

                                                           6
   Detailed Description of the Preferred Embodiments
   The system operates on one or more computers, typically one or more file servers connected to the
   Internet and also on a customer's computing device. A customer's device can be a personal computer,
   mobile phone, mobile handheld device like a BlackberryTM or iPhoneTM or any other kind of computing
 5 device a user can use to send and receive data messages. The customer's device is used to display the
   validating visual object.
   Conventional electronic tickets display a barcode or QR code on a user's telephone, typically a cell phone
   or other portable wireless device with a display screen. The problem with this approach is that a barcode
   scanner has to be used by the ticket taker. Barcode scanners are not highly compatible with LCD screen
 0 displays of barcodes. The amount of time that it takes to process an electronic ticket is greater than that
   of a paper ticket. Sometimes the LCD display does not scan at all and a passenger has to be sent away to
   get a paper printout of a ticket. Given the potential large crowds that often attend open venues, this is
   impractical.
   In this invention, the ticket is procured electronically and stored on the user's device. However, when the
 5 ticket is to be taken the verification is determined by a larger visual object that a human can perceive
   without a machine scanning it. The particular validating visual object chosen can be constantly changed
   so that the ticket taker does not have to be concerned that a device displaying the designated validating
   visual object is invalid. There are many types of visual objects that can be displayed that are easily
   recognized by a ticket taker.       These can include but are not limited to patterns of color change,
 0 Animations and Geometric patterns. In one embodiment, the validating visual object that is transmitted
   can be computer code, that when executed by the device, causes the user device to display the desired
   visual pattern. In another embodiment, the validating visual object is a command that specifies what the
   visual pattern should be. In that embodiment, the program operating on the user's device receives the
   command instruction, decodes it, and determines what visual patterns to generate based on the data in the
25 command instruction.       In another embodiment, the validating visual object is video or image data
   transmitted directly from the server to the device for immediate display.
   In one embodiment of the invention, the user purchases a ticket from an on-line website. The website
   sends to the user's device a unique number, referred to as a token. The token is also stored in the
   ticketing database. When the time comes to present the ticket, the venue can select what visual indicator
30 will be used as the designated validation visual object. The user can then request the validation visual
   object. The user's device will have an application that launches a user interface. The user can select
    "validate" or some other equivalent command to cause the application to fetch and download from the
   ticketing system a data object referred to herein as a ticket payload, which includes a program to run on
   the user's device. In another embodiment, the ticket payload can be pushed to the device by the venue.
35 As a result, the application transmitted to the user's device is previously unknown to the user and not

                                                         7
   resident in the user's device. At that point the user's device can execute the program embodied in the
   ticket payload, which causes the validation visual object to be displayed on the user's device. The ticket
   taker knows what the validating visual object is, and simply looks to see that the user's device is
   displaying the correct visual object.
 5 Piracy is limited in several ways. First, the ticket holder and their device does not have access to the
   validating visual object until a time select to be close to the point in time where the ticket has to be
   presented.   Second, the validating visual object is one of an very large number of permutations and
   therefore cannot be guessed, selected or copied ahead of time. Third, the ticket payload can contain code
   that destroys the validating visual object in a predetermined period of time after initial display or upon
 0 some pre-determined input event. Fourth, a number of security protocols can be utilized to ensure that a
   copy of the application that executes to display the validating visual object cannot be readily copied or
   reverse engineered.
   Validating Visual Object Displays
   There many kinds of validation displays that can be utilized.        The criterion for what constitutes a
 5 validating visual object is one that is readily recognizable from human observation, is encapsulated in
   such a way as to be transmitted to the customer's device with a minimum of network latency or download
   time, and that can be reasonably secured so as to avoid piracy.
   Barcodes and similar codes like the QR code are not validating visual objects because a person looking at
   them cannot tell one apart from another.       Instead, the person has to rely on a barcode scanner and
 0 computing device to verify the barcode.
   In one embodiment, the period that a particular validating visual object may be used is automatically
   limited. Examples of validating visual objects include:
   1.        A color display on the device.
   2.        A color sequence.
25 3.        An animation that is easily recognized.
   4.        Animations can include easily recognizable geometric patterns, for example an array of
             diamonds, or an array of rotating cubes.
   5.        A human recognizable image.
   6.        The customer's face as an image.
30 7.        Combinations of the above.

                                                           8
   In another embodiment, other images, for example, block letter, can be displayed so that additional
   information readily apparent to the ticket taker is displayed. For example, a letter can be designated for a
   Child ticket or a different letter for an Adult ticket.
   Referring now to Figure 1, the customer uses their device (1) to purchase a ticket from the service
 5 operating the system server (2) and database (3).
   In one embodiment, an authorized user associated with the venue, typically the box office manager, logs
   into the back-end system through a secure web-page. The authorized user can enter the web-page by
   entering a username, password and venue identifier. The system maintains a database (3) that associates
   the venue identifier with a set of usernames and password pairs that are authorized to use the system on
 0 behalf of the venue (see Figure 7).       The system checks the database (3) to verify that the venue ID,
   username and password are consistent with each other. The authorized user can navigate through to a
   point in the system user interface where a particular show may be selected for ticket taking. The user
   selects the upcoming show, and then selects from a display of possible validating visual objects. The
   validating visual object is transmitted to a device viewable by ticket taking staff at the entrances to the
 5 venue. The staff then can see the authorized object to accept for the upcoming show.
   Ticket holders that have purchased tickets have a data record in the system database that contains the
   unique token associated with the ticket and other relevant information, including the venuelD and an
   identifier identifying the specific show the ticket is for (see Figure 6). At the entrance, customers are
   requested to operate an application on their devices. This application fetches the stored ticket token and
 0 transmits that token to the system, preferably over a secure data channel. The database looks up the token
   to check that the token is valid for the upcoming show. If the token is valid, then the system transmits
   back to the device a ticket payload. The ticket payload contains computer code that, when operated,
   displays the selected validating visual object.
   The customer can navigate the user interface of the application in order to cause the application to request
25 whether to display the validating visual object. As shown in Figure 9, one or more available tickets can
   be displayed on the user interface, which provides the user the ability to select one of the tickets. When
   the customer properly actuates the user interface, for example, by actuating the "Activate Tickets "button
   (see Figure 10), the validating visual object is displayed on the screen of the device. The animation can
   be presented along with other ticketing information (see Figure 11).       In one embodiment, the device
30 transmits the ticket token to the system with a command indicating that the ticket has been used. In
   another embodiment, the customer can operate the application and request that the application transmit to
   the database the condition that the ticket was used. In that embodiment, the user can input a numeric code
   or password that the application uses to verify that the customer is confirming use of the ticket. In yet
   another embodiment, after the validating visual object has been launched, a predetermined amount of
35 time later it can be deemed used. At that time, the application can cause the color of the object to be

                                                          9
   changed so that it indicates that there was a valid ticket, but the ticket was used. This condition is useful
   in cases where the venue checks tickets during shows while letting customers move around the venue's
   facilities.
   In another embodiment, the purchase of the ticket causes the ticket payload to be downloaded to the
 5 customer's device. Likewise, the authorized user for the venue will select a validating visual object for a
   particular show well in advance of the show. In this case, because a customer may possess the payload
   some time before its use, precautions must be taken to secure the ticket payload from being hacked so that
   any similar device can display the validating visual object. While this is a security trade-off, the benefit is
   that the customer need not have an Internet connection at a time close to the showtime of the venue.
 0 The use of electronic ticketing provides opportunities that change how tickets can be bought and sold, for
   example, a first customer can purchase a ticket and receive on their device a ticket token. A second
   customer can purchase that ticket using the system. The first customer can use the application to send a
   message to the system server indicating that the first customer intends to the web-page indicating that it
   wants to buy that particular ticket. The system can ask the first customer for a username and password to
 5 be associated with the first customer's ticket. If the second customer identifies the first customer's
   username, the system then can match the two together. At that point, the data record associated with the
   first customer's ticket is modified so that the ticket token value is changed to a new value. That new
   ticket token value is then transmitted to the second customer's device. At the same time, the system can
   operate a typical on-line payment and credit system that secures payment from the second customer and
 0 credits the first customer. In one embodiment, the system pays the first customer a discounted amount,
   retaining the balance as a fee.
   In yet another embodiment, the first customer may be unknown to the second customer.                    In that
   embodiment, the first customer simply may indicate to the system, through a message transmitted from
   the application operating on the device or directly through a webpage that the first customer is not going
25 to use the ticket and wishes to sell it. At that point, the system can mark the data record associated with
   the ticket as "availableforsale ". When the second customer makes a request to purchase a ticket for the
   same show, the system creates a new ticket token for the second customer and updates the ticket token
   stored in the data record.
   In a general admission type of scenario, the ticketing database is simple each show has a venue ID, some
30 identifier associated with the show itself, various time indicators, the selected validating visual object, and
   a list of valid ticket tokens. In a reserved seating arrangement, the ticketing database has a data record
   associated with a show, as indicated by a show identifier, but each seat has a data record that has a unique
   show identifier and ticket token, which includes the identity of the seat itself.

                                                          10
   In the preferred embodiment, the validating visual object is secured against tampering. One threat model
   is that a customer who has received a ticket payload would then take the data file comprising the ticket
   payload and analyze it to detect the actual program code that when executed, produces the validating
   visual object on the display screen of the device. Once that has been accomplished, the would-be pirate
 5 can then re-package the code without any security mechanism and readily distribute it to other device
   owners, or even cross-compile it to execute on other types of display devices. The preferred embodiment
   addresses this threat model in a number of ways.
   First, the ticket payload can be secured in a region of the device under the control of the
   telecommunications provider. In this case, the customer cannot access the code comprising the ticket
 0 payload.     In another embodiment, the ticket payload can be encrypted in such a way that the only
   decrypting key available is in the secure portion of the telecommunications device. In that embodiment,
   the key is only delivered when an application running on the secure part of the device confirms that the
   ticket payload that is executing has not been tampered with, for example, by checking the checksum of its
   run-time image. At that point, the key can be delivered to the ticket payload process so that the validating
 5 visual object is displayed on the device.
   Second, the selected animation is packaged for each device. That is, the code that operates to display the
   validating visual object itself operates certain security protocols. The phone transmits a ticket transaction
   request. The request includes a numeric value unique to the device, for example, an IMEI number. Other
   embodiments use the UDID or hardware serial number of the device instead of or in combination with the
 0 IMEI number. The system server then generates the ticket token using the IMEI number and transmits
   that value to that device. In addition, the ticket payload is created such that it expects to read the correct
   IMEI number. This is accomplished by the system server changing portions of the ticket payload so that
   the it is customized for each individual IMEI number associated with a ticket token. The animation code
   comprising the ticket payload is designed so that it has to obtain the correct IMEI number at run time. In
25 another embodiment, at run-time, the animation code will read the particular ticket token specific for the
   phone that instance of the animation was transmitted to. The code will then decode the token and check
   that it reflects the correct IMEI number for that device.
   In another embodiment, the security protocol first requires the user to login to the server with a login
   username and password. The application also transmits the IMEI, UDID or serial number of the device or
30 any combination of them. When verified by the server, an authorization key (Authkey) is transmitted to
   the device. The Authkey is a random number. When the user's application transmits a request for a
   validating visual object, it transmits the Authkey and the IMEI, UDID or serial number (or combination)
   that is used for verification. This is checked by the server for validity in the database. On verification,
   the validating visual object is encrypted using the Authkey and transmitted to the device. The application
35 running on the device then uses the Authkey to decrypt and display the validating visual object. The
   Authkey is a one-time key. It is used once for each ticket payload. If a user buys a second ticket from the

                                                         I1
   system, a different, second Authkey is associated with that second ticket payload. In one embodiment,
   the Authkey is unique to the ticket for a given event. In another embodiment, the Authkey is unique to
   the ticket, device and the event. In other embodiments, the Authkey can be replaced with a key-pair in an
   assymetric encryption system. In that case, the validating visual object is encrypted with a "public " key,
 5 and then each user is issued a private key as the "Authkey " to be used to decrypt the object.
   In yet another embodiment, the Authkey can be encrypted on the server and transmitted to the device in
   encrypted form.      Only when the application is operating can the Authkey be decrypted with the
   appropriate key. In yet another embodiment, the application that displays the validating visual object can
   request a PIN number or some other login password from the user, such that if the device is lost, the
 0 tickets cannot be used by someone who finds the device.
   In another embodiment, the application running on the device can fetch a dynamic script, meaning a piece
   of code that has instructions arranged in a different order for subsets of devices that request it. The ticket
   payload is then modified so as to have the same number of versions that are compatible with a
   corresponding variation in the dynamic script.        As a result, it is difficult to reverse engineer the
 5 application because the application will be altered at run time and the ticket payload customized for that
   alteration. One embodiment of the dynamic script would be expressed in Java(tm) computer language
   and rendered using OpenView. The ticket payload can be an HTML file called using Ajax.
   Security can also be enhanced by actively destroying the validating visual object so that it resides in the
   device for a limited time.    In one embodiment, the ticket payload has a time to kill parameter that
 0 provides the application with a count-down time to destroy the validating visual object.            In another
   embodiment, the validating visual object is displayed when the user holds down a literal or virtual button
   on the user interface of the device. When the button is released, the application destroys the validating
   visual object.
   Security can also be enhanced by retaining as stegano graphic data embedded in the validating visual
25 object, the IMEI, UDID, Serial number or phone number of the device. The application can be operated
   to recover that information and display it on the screen. This makes it possible for security personnel at a
   venue to view that information from a validly operating device.          If the device is showing a pirated
   validating visual object, then the actual data associated with the device will not match and it will be
   apparent from inspection of the device. This way, suspicious ticket holders can be subject to increased
30 scrutiny, the presence of which deters piracy.
   In another embodiment, the ticket payload can operate a sound sampling application that requests the
   customer to speak in to the device. The application can then use that data to check whether the voice
   print of the speaker matches the expected voice print. In yet another embodiment, the device can take a
   picture of the customer's face, and then facial recognition code embedded in the ticket payload can

                                                           12
   operate to check whether the features of the face sufficiently match a pre-determined set of features, that
   is, of the customer's face at the time the ticket was purchased.            In yet another embodiment, the
   verification can be supplemented by being sure that the use of the ticket is during a pre-determined period
   of time. In yet another embodiment, the verification can be supplemented by the ticket payload operating
 5 to check that the location of the venue where the ticket is being used is within a pre-determined range of
   tolerance to a GPS (Global Positioning System) location. In yet another embodiment, after a certain
   pre-determined number of downloads of ticket payloads for a specific show, the validating visual object is
   automatically changed. This last mechanism may be used for promotions, to select the first set of ticket
   buyers for special treatment at the venue. In yet another embodiment, two different validating visual
 0 objects may be used, which are selected based on the verified age of the customer. In this way, a venue
   can use the system to not only to verify ticket holders coming into the venue, but to verify their drinking
   age when alcoholic drinks are ordered.
   In yet another embodiment, the system's servers control the ticket activation process (see Figure 12). In
   this embodiment, the token is generated randomly by the user's mobile computing device and then
 5 transmitted to and stored on the system server as a result of the user's request to activate the ticket. When
   the server receives a request to activate a ticket, the server checks whether there is already an activation
   token stored in its database that corresponds to that ticket. The token is stored in a data record associated
   with the user that is activating the ticket. The user logs into the account and then requests that a ticket be
   activated. If it is, then it checks whether the token received from the user's mobile device matches the
 0 stored token. That is, it authenticates against that stored token. If the user's request for activation is the
   first activation of the ticket, then the server stores the received token into the data record associated with
   the user's account and keeps it there for a predetermined period of time, in order to lock the ticket to that
   device for that period of time.      This process locks a ticket to that unique token for that lock period.
   Typically this will lock the ticket to the user's mobile computing device. If the stored token does not
25 match the token received from the user's computing device, the ticket activation is denied.
   The predetermined lock time permits a reusable ticket to be locked to a device for the predetermined lock
   time. This is useful in the event the user changes the mobile computing device that the user uses to the
   ticket. For example, a monthly train commuting ticket would be activated once each day, and would
   remain activated for the day of its activation. In this case, the user would validate the ticket once each
30 day, and that activation would be locked to the device for the day. The next day, the user would be able
   to activate the ticket using a different mobile computing device if the predetermined time locking the
   activation has expired, that is, if the data record associated with the ticket has been automatically reset
   into a deactivated state. The activation process also permits a user account to be shared within a family,
   for instance, but that each ticket sold to that account to be locked to one device.
35 As depicted in the protocol diagrams Figures 13a and 13b, the user can use their mobile computing device
   to request that their ticket get activated for the first time. However, once that activation process has

                                                          13
   occurred, the server will store the unique token received from the activating user's computing device in
   the database in a manner that associates it with the ticket and the user's account.              If another user
   associated with the account attempts to use the ticket by activating it, a different random token will be
   transmitted to the server.      Because these two tokens do not match, the second activation will be
 5 prohibited.
   The activation process can also permit a ticket to be shared. In this embodiment, the user who has
   activated the ticket can submit to the server a request that the ticket be transferred to another user. For
   example, a data message can be transmitted from the user's device to the system that embodies a request
   to move the ticket to another user. In that case, the stored token is marked as blocked, or is equivalently
 0 considered not present. This is accomplished by storing a data flag in the database that corresponds to the
   ticket. One logic state encodes normal use and the opposite logic state encodes that the ticket has been
   shared. A data message may be transmitted to the second user indicating that the ticket is available for
   activation. The second user may submit a request to activate the ticket and a random token value is
   transmitted from the second user's device to the server. That second token value is checked to see if it's
 5 the first activation. Because the first user has activated the ticket, but then transferred it, the activation by
   the second user is not blocked.       That is, the server detects that the first token is now cancelled or
   equivalently, the system has returned to the state where the first activation has not occurred and therefore
   permits the new activation to take place. The new activation can also have a predetermined time to live
   value stored in the database that is associated with it. In this case, the activation by the second user
 0 expires and the second user can be prevented from reactivating the ticket. At the same time, the flag
   setting that disables the first token can be reset, thereby setting the ticket up for reactivation by the first
   user. By this mechanism, it is possible for the electronic ticket to be lent from one user to another.
   In yet another embodiment, the ticket activation process can open a persistent connection channel over
   the data network that links the server and the user's mobile computing device. In this embodiment, if the
25 activation of the ticket and therefore the device is successful, the server can maintain a persistent data
   channel with a computer process running on the user's computing device.               In this embodiment, the
   request for ticket activation causes the user computer device to open the persistent channel. In this
   embodiment, the server establishes a communication process operating on the server that receives data
   and then causes that data to be automatically routed to the user's computing device. The process on the
30 user's mobile computing device can thereby automatically respond to that received data. In tandem, the
   computer process operating on the users computing device can send data directly to the server process
   associated with that user's session. For a server servicing many user devices, there will be one persistent
   channel established between the server and each mobile device that has an activated ticket.
   The persistent channel between the server and the user's computer device can be used in a variety of
35 ways.    In the preferred embodiment, the persistent connection is designed so that that it maintains a
   bi-directional, full-duplex communications channel over a single TCP connection. The protocol provides

                                                         14
   a standardized way for the server to send content to the process operating on the user's computing device
   without being solicited by the user's device each time for that information, and allowing for messages to
   be passed back and forth while keeping the connection open.           In this way a two-way (bi-direction)
   ongoing interaction can take place between a process operating on the user's computing device the server.
 5 By means of the persistent channel, the server can control the activity of the user computer device. For
   each user computing device, there can be a distinct persistent connection.
   In one embodiment, the persistent connection is established when the user requests an activation of a
   ticket (see Figure 14). In other embodiments, it can be used if the system is used to verify payment of a
   purchase price. In either case, the user computing device transmits a request message to the server. For
 0 each user computing device, there can be a distinct persistent channel. Each persistent channel has a label
   or channel name that can be used by the server to address the channel. In the case of ticketing, when the
   ticket is activated the data representing the validating visual object can be transmitted in real time from
   the server to the user computing device and immediately displayed on the device.           This provides an
   additional method of securing the visual ticketing process. In this case, when the ticket is activated and
 5 the persistent channel is created, the label of the channel is stored in the database in a data record
   associated with the user and the ticket. When the server transmits the validating visual object for that
   ticket, it fetches from the database the label of the channel and then uses that label to route the
   transmission of the validating visual object. The use of the persistent channel causes the user computer
   device to immediately and automatically act on the validating visual object. In one embodiment, the
 0 receipt of the validating visual object causes the receiving process to immediately in response interpret
   the command and select and display the required visual pattern.         In another embodiment, the process
   receives a block of code that the process calls on to execute, and that code causes the visual pattern to be
   displayed. In yet another embodiment, the process receives image or video data and the process passes
   that data on to the user device screen display functions for presentation on the user device screen.
25 In another embodiment, a validating visual object can be transmitted to the user's computing device to be
   automatically displayed on the screen without the user having to input a command to cause the display.
   That visual object can be displayed by the user computing device. For additional security, the server can
   transmit to the user computing device a visual object that contains the channel name or a unique number
   that the server can map to the channel name. For clarity, this additional visual object is not necessarily
30 used for visual verification by ticket takers, as explained above. This visual object can be used by other
   machinery to confirm the ticket purchase transaction or even other transactions not directly related to the
   purchase of the ticket. The additional visual object can be in the form of a QR code, barcode or any other
   visual object that can be scanned, for example at a point of sale system, and from that scanned image, an
   embedded data payload extracted. In that visual object, data can be embedded that uniquely identifies the
35 source of the scanned object. The channel name of the persistent channel or a number uniquely mapped
   on the server to identify the channel can be embedded in that scanned object.

                                                         15
   In one embodiment, as shown on Figure 15, a merchant can use a point of sale system operated by the
   merchant to scan the display screen of the user's computing device. That point of sale system can then
   capture from the scanned image the channel name or a unique number that is uniquely mapped on the
   server to the channel name. That information is transmitted to the server as a challenge for verification.
 5 The received challenge data is checked to see if it matches the channel name or corresponding unique
   number used to transmit the visual object that the merchant scanned.           If they match up, there is a
   verification of a transaction. This exchange provides verification that the user's device is present at the
   merchant location and that a transaction with the merchant should be paid for.
   In yet another embodiment, the persistent connection provides a means for the server to control the
 0 actions of the process operating on the user's computer device that is at the other end of the connection.
   In this embodiment, the server can automatically transmit a command to the process on the user's
   computing device that automatically deletes the verifying visual object that has been transmitted to ensure
   that it cannot be reused or copied.
   In one embodiment, the persistent connection is used to automatically transmit visual information to the
 5 user's mobile computing device and to cause that information to be displayed on the screen of the device.
   The visual information can be the validating visual object or any other visual object that the server selects
   to transmit for display.    In this embodiment, the persistent connection can be used by the server to
   transmit other information to the user's device. In this embodiment, the server transmits text, images,
   video or sound and in some cases in combination with other HTML data. In another embodiment, this
 0 material comprises advertising that the server selects to display on the user's device.        The selection
   process can utilize the GPS feature described above to determine the approximate location of the user's
   device and then based on that location, select advertising appropriate to be transmitted to that device. In
   yet another embodiment, the server selects the advertising content by determining predetermined features
   of the validated ticket or purchasing transaction and then making a selection on the basis of those
25 features. For example, a validation of a ticket to a baseball game played by a team specified in the data
   associated with the validated ticket may cause the selection of an offer to purchase a ticket for the next
   baseball game of the same team.       In yet another embodiment, the character of the transaction being
   verified can be used to cause the selection of advertising or the transmission of data comprising a discount
   offer related to the transaction.
30 In this embodiment, the server receives from the merchant the data that determines the persistent channel.
   The merchant, by relying on the system for payment will also transmit transaction details, for example, an
   amount of money and an identity of goods or services.          When the channel name or unique number
   associated with the channel is matched for verification, the server can transmit data representing a
   confirmation display down to the user's device using the persistent connection. This data is received by
35 the user computing device and then automatically rendered by the process at the other end of the channel
   connection.    In addition, the server can use the transaction information to determine one or more

                                                        16
   advertisements or discount offers to transmit to the user's computing device. The selection method can
   consist of one or more heuristics. In one example, the validation of the ticket for a baseball game can
   trigger the display of advertising for food or drinks. Likewise, a transaction for purchasing a cup of
   coffee can trigger an advertisement for purchasing a newspaper.
 5 Operating Environment
   The system operates on one or more computers, typically one or more file servers connected to the
   Internet. The system is typically comprised of a central server that is connected by a data network to a
   user's computer. The central server may be comprised of one or more computers connected to one or
   more mass storage devices. A website is a central server that is connected to the Internet. The typical
 0 website has one or more files, referred to as web-pages, that are transmitted to a user's computer so that
   the user's computer displays an interface in dependence on the contents of the web-page file.          The
   web-page file can contain HTML or other data that is rendered by a program operating on the user's
   computer. That program, referred to as a browser, permits the user to actuate virtual buttons or controls
   that are displayed by the browser and to input alphanumeric data. The browser operating on the user's
 5 computer then transmits values associated with the buttons or other controls and any input alphanumeric
   strings to the website. The website then processes these inputs, in some cases transmitting back to the
   user's computer additional data that is displayed by the browser. The precise architecture of the central
   server does not limit the claimed invention. In addition, the data network may operate with several levels,
   such that the user's computer is connected through a fire wall to one server, which routes communications
 0 to another server that executes the disclosed methods. The precise details of the data network architecture
   does not limit the claimed invention. Further, the user's computer may be a laptop or desktop type of
   personal computer. It can also be a cell phone, smart phone or other handheld device. The precise form
   factor of the user's computer does not limit the claimed invention. In one embodiment, the user's
   computer is omitted, and instead a separate computing functionality provided that works with the central
25 server. This may be housed in the central server or operatively connected to it. In this case, an operator
   can take a telephone call from a customer and input into the computing system the customer's data in
   accordance with the disclosed method. Further, the customer may receive from and transmit data to the
   central server by means of the Internet, whereby the customer accesses an account using an Internet
   web-browser and browser displays an interactive webpage operatively connected to the central server.
30 The central server transmits and receives data in response to data and commands transmitted from the
   browser in response to the customer's actuation of the browser user interface.
   A server may be a computer comprised of a central processing unit with a mass storage device and a
   network connection. In addition a server can include multiple of such computers connected together with
   a data network or other data transfer connection, or, multiple computers on a network with network
35 accessed storage, in a manner that provides such functionality as a group. Practitioners of ordinary skill
   will recognize that functions that are accomplished on one server may be partitioned and accomplished on

                                                          17
   multiple servers that are operatively connected by a computer network by means of appropriate inter
   process communication. In addition, the access of the website can be by means of an Internet browser
   accessing a secure or public page or by means of a client program running on a local computer that is
   connected over a computer network to the server. A data message and data upload or download can be
 5 delivered over the Internet using typical protocols, including TCP/IP, HTTP, SMTP, RPC, FTP or other
   kinds of data communication protocols that permit processes running on two remote computers to
   exchange information by means of digital network communication. As a result a data message can be a
   data packet transmitted from or received by a computer containing a destination network address, a
   destination process or application identifier, and data values that can be parsed at the destination
 0 computer located at the destination network address by the destination application in order that the
   relevant data values are extracted and used by the destination application.
   It should be noted that the flow diagrams are used herein to demonstrate various aspects of the invention,
   and should not be construed to limit the present invention to any particular logic flow or logic
   implementation.    The described logic may be partitioned into different logic blocks (e.g., programs,
 5 modules, functions, or subroutines) without changing the overall results or otherwise departing from the
   true scope of the invention. Oftentimes, logic elements may be added, modified, omitted, performed in a
   different order, or implemented using different logic constructs (e.g., logic gates, looping primitives,
   conditional logic, and other logic constructs) without changing the overall results or otherwise departing
   from the true scope of the invention.
 0 The method described herein can be executed on a computer system, generally comprised of a central
   processing unit (CPU) that is operatively connected to a memory device, data input and output circuitry
   (10) and computer data network communication circuitry. Computer code executed by the CPU can take
   data received by the data communication circuitry and store it in the memory device. In addition, the
   CPU can take data from the I/O circuitry and store it in the memory device. Further, the CPU can take
25 data from a memory device and output it through the 10 circuitry or the data communication circuitry.
   The data stored in memory may be further recalled from the memory device, further processed or
   modified by the CPU in the manner described herein and restored in the same memory device or a
   different memory device operatively connected to the CPU including by means of the data network
   circuitry.  The memory device can be any kind of data storage circuit or magnetic storage or optical
30 device, including a hard disk, optical disk or solid state memory.
   Examples of well-known computing systems, environments, and/or configurations that may be suitable
   for use with the invention include, but are not limited to, personal computers, server computers,
   hand-held, laptop or mobile computer or communications devices such as cell phones and PDA's,
   multiprocessor systems,     microprocessor-based      systems, set top boxes, programmable       consumer
35 electronics, network PCs, minicomputers, mainframe computers, distributed computing environments that
   include any of the above systems or devices, and the like.

                                                         18
   Computer program logic implementing all or part of the functionality previously described herein may be
   embodied in various forms, including, but in no way limited to, a source code form, a computer
   executable form, and various intermediate forms (e.g., forms generated by an assembler, compiler, linker,
   or locator.) Source code may include a series of computer program instructions implemented in any of
 5 various programming languages (e.g., an object code, an assembly language, or a high-level language
   such as FORTRAN, C, C++, JAVA, or HTML) for use with various operating systems or operating
   environments. The source code may define and use various data structures and communication messages.
   The source code may be in a computer executable form (e.g., via an interpreter), or the source code may
   be converted (e.g., via a translator, assembler, or compiler) into a computer executable form.
 0 The invention may be described in the general context of computer-executable instructions, such as
   program modules, being executed by a computer.             Generally, program modules include routines,
   programs, objects, components, data structures, etc., that perform particular tasks or implement particular
   abstract data types. The computer program and data may be fixed in any form (e.g., source code form,
   computer executable form, or an intermediate form) either permanently or transitorily in a tangible
 5 storage medium, such as a semiconductor memory device (e.g., a RAM, ROM, PROM, EEPROM, or
   Flash-Programmable RAM), a magnetic memory device (e.g., a diskette or fixed hard disk), an optical
   memory device (e.g., a CD-ROM or DVD), a PC card (e.g., PCMCIA card), or other memory device.
   The computer program and data may be fixed in any form in a signal that is transmittable to a computer
   using any of various communication technologies, including, but in no way limited to, analog
 0 technologies, digital technologies, optical technologies, wireless technologies, networking technologies,
   and internetworking technologies. The computer program and data may be distributed in any form as a
   removable storage medium with accompanying printed or electronic documentation (e.g., shrink wrapped
   software or a magnetic tape), preloaded with a computer system (e.g., on system ROM or fixed disk), or
   distributed from a server or electronic bulletin board over the communication system (e.g., the Internet or
25 World Wide Web.) It is appreciated that any of the software components of the present invention may, if
   desired, be implemented in ROM (read-only memory) form. The software components may, generally,
   be implemented in hardware, if desired, using conventional techniques.
   The invention may also be practiced in distributed computing environments where tasks are performed by
   remote processing devices that are linked through a communications network. In a distributed computing
30 environment, program modules may be located in both local and remote computer storage media
   including memory storage devices. Practitioners of ordinary skill will recognize that the invention may
   be executed on one or more computer processors that are linked using a data network, including, for
   example, the Internet. In another embodiment, different steps of the process can be executed by one or
   more computers and storage devices geographically separated by connected by a data network in a
35 manner so that they operate together to execute the process steps. In one embodiment, a user's computer
   can run an application that causes the user's computer to transmit a stream of one or more data packets

                                                         19
   across a data network to a second computer, referred to here as a server. The server, in turn, may be
   connected to one or more mass data storage devices where the database is stored. The server can execute
   a program that receives the transmitted packet and interpret the transmitted data packets in order to
   extract database query information. The server can then execute the remaining steps of the invention by
 5 means of accessing the mass storage devices to derive the desired result of the query. Alternatively, the
   server can transmit the query information to another computer that is connected to the mass storage
   devices, and that computer can execute the invention to derive the desired result. The result can then be
   transmitted back to the user's computer by means of another stream of one or more data packets
   appropriately addressed to the user's computer.
 0 The embodiments of the invention described herein, are intended to be examples thereof and numerous
   variations and modifications will be apparent to those skilled in the art.         All such variations and
   modifications are intended to be within the scope of the present invention as defined in the appended
   claims. Although the present invention has been described and illustrated in detail, it is to be clearly
   understood that the same is by way of illustration and example only, and is not to be taken by way of
 5 limitation. It is appreciated that various features of the invention which are, for clarity, described in the
   context of separate embodiments may also be provided in combination in a single embodiment.
   Conversely, various features of the invention which are, for brevity, described in the context of a single
   embodiment may also be provided separately or in any suitable combination. It is appreciated that the
   particular embodiment described in the specification is intended only to provide an extremely detailed
 0 disclosure of the present invention and is not intended to be limiting.
   Modifications of the above disclosed apparatus and methods which fall within the scope of the invention
   will be readily apparent to those of ordinary skill in the art. Accordingly, while the present invention has
   been disclosed in connection with example embodiments thereof, it should be understood that other
   embodiments may fall within the spirit and scope of the invention, as defined by the following claims.
25 The present application is divided from Australian Patent Application No. <removed-apn>, the content of
   which is incorporated herein in its entirety by reference.

                                                          20
   WHAT IS CLAIMED:
   1.        A method for activating a purchased electronic ticket on a user's computer device comprising:
             receiving from the user's computer device a request to activate a purchased electronic ticket;
             receiving from the user's computer device a token associated with the received request;
 5            determining whether a token associated with the purchased ticket has been stored in a data
   record associated with the received request, and if it has, whether the received token matches the stored
   token; and
              in dependence on the determination that the stored token and received token match, transmitting
   to the user's computing device a validating visual object corresponding to the purchased electronic ticket.
 0 2.         The method of Claim 1, wherein in response to the determination step determining that no token
   has been stored, the further steps of:
              storing the token in the data record associated with the ticket; and
             transmitting to the user's computing device a validating visual object corresponding to the
   purchased electronic ticket.
 5 3.         The method of Claim 2, further comprising:
              storing in the data record associated with the ticket a data value representing a predetermined
   lock time;
              determining whether the duration of time from the ticket activation to the lock time has expired
   and in dependence on such determination; and
 0            changing the database record so that the ticket is in a deactivated state.
   4.         The method of Claim 1, further comprising transmitting an authorization key to the device that
   transmitted the received request.
   5.         The method of Claim 4, further comprising encrypting the validating visual object using the
   authorization key.
25 6.         The method of Claim 4, further comprising encrypting the validating visual object with a public
   key for which the transmitted authorization key is the associated private key.
   7.         The method of Claim 1, further comprising establishing a persistent channel between the server
   and the user's computer device.
   8.         The method of Claim 7, further comprising transmitting a command that causes the transmitted
30 validating visual object to be automatically deleted from the user's device.
   9.         The method of Claim 7, wherein the persistent channel provides the server control over a
   computer process operating on the user's device and that control causes the process to receive the

                                                         21
   validating visual object, display the validating visual object on the device and delete the validating visual
   obj ect.
   10.       The method of Claim 7, wherein the persistent channel is a bi-directional and full-duplex
   communications channel.
 5 11.       The method of Claim 7, wherein the validating visual object is transmitted to the user's device
   and automatically displayed on the screen without the user having to input a command to cause the
   transmission of the validating visual object.
   12.       The method of Claim 7, further comprising transmitting to the device a visual image comprising
   one of an advertisement or a discount coupon.
 0 13.       The method of Claim 12, further comprising selecting a visual image for transmission to the
   device from a plurality of stored visual images, said selection step made in dependence on data associated
   with the purchased ticket.
   14.       The method of Claim 13, wherein the selection step is comprised of determining predetermined
   features of the validated ticket or purchasing transaction and then making a selection on the basis of those
 5 features.
   15.       The method of Claim 7, further comprising transmitting an image that encodes a data value that
   corresponds to the identity of the persistent channel.
   16.       The method of Claim 15, further comprising:
             receiving from the user device a request to provide a payment authorization, and in response,
 0 performing the transmitting an image step;
             receiving a request to verify a purchase transaction, said request containing a challenge data;
             determining whether the challenge data corresponds to the persistent channel used to transmit
   the image; and
             causing a payment to be made to the entity associated with the received request to verify the
25 purchase transaction.
   17.       A system comprised of a website adapted to perform any of the methods of any one of Claims 1
   to 16.
   18.       A computer readable medium containing computer program code that when run causes the
   performance of any of the methods of any one of Claims I to 16.
30

<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
