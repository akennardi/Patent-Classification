OPTIMIZATION OF TRAFFIC LOAD IN A DISTRIBUTED ANTENNA SYSTEM
                                           ABSTRACT
        A system for dynamically routing signals in a Distributed Antenna. System includes a
plurality of Digital Access Units (DAUs) (202, 208). The plurality of DAUs (202, 208) are
coupled and operable to route signals between the plurality of DAUs (202, 208). The system also
includes a plurality of Digital Remote Units (DRUs) (207, 213) coupled to the plurality of DAUs
(202, 208) and operable to transport signals between DRUs (207, 213) and DAUs (202, 208) and
a plurality of Base Transceiver Stations (BTS) (201). The system further includes a plurality of
traffic monitoring modules (221) and a network optimization goal and optimization algorithm.

                                                    1
    OPTIMIZATION OF TRAFFIC LOAD IN A DISTRIBUTED ANTENNA SYSTEM
                          CROSS-REFERENCES TO RELATED APPLICATIONS
[0001]        The present application is a divisional application of Australian Patent Application
No. 2013296819, filed on July 26, 2013, which claims priority to U.S. Provisional Patent
Application No. 61/678,016, filed on July 31, 2012, entitled "Optimization of Traffic Load in a
Distributed Antenna System," the contents of both are hereby incorporated by reference in their
entirety for all purposes.
                                 SUMMARY OF THE INVENTION
[0002]        The present invention generally relates to wireless communication systems
employing Distributed Antenna Systems (DAS) as part of a distributed wireless network. More
specifically, the present invention relates to a DAS utilizing traffic monitoring and optimization.
Wireless network operators faces the continuing challenge of building networks that effectively
manage high data-traffic growth rates. Mobility and an increased level of multimedia content for
end users typically employs end-to-end network adaptations that support new services and the
increased demand for broadband and flat-rate Internet access. One of the most difficult
challenges faced by network operators is caused by the physical movement of subscribers from
one location to another, and particularly when wireless subscribers congregate in large numbers
at one location. A notable example is a business enterprise facility during lunchtime, when a
large number of wireless subscribers visit a lunch room or cafeteria location in the building. At
that time, a large number of subscribers have moved away from their offices and usual work
areas. It's likely that during lunchtime, there are many locations throughout the facility where
there are very few subscribers. If the indoor wireless network resources were properly sized
during the design process for subscriber loading as it is during normal working hours when
subscribers are in their normal work areas, it is very likely that the lunchtime scenario will
present some unexpected challenges with regard to available wireless capacity and data
throughput.
[0003]        According to an embodiment of the present invention, a system for dynamically
routing signals in a Distributed Antenna System is provided. The system includes a plurality of
Digital Access Units (DAUs). The plurality of DAUs are coupled and operable to route signals
between the plurality of DAUs. The system also includes a plurality of Digital

   Remote Units (DRUs) coupled to the plurality of DAUs and operable to transport signals
   between DRUs and DAUs. The system further includes one or more Base Transceiver
   Stations (BTSs) and one or more traffic monitoring units.
   [00041    According to another embodiment of the present invention, a system for
 5 dynamically routing signals in a Distributed Antenna System is provided. The system
   includes a plurality of Digital Access Units (DAUs)     The plurality of DAUs are coupled and
   operable to route signals between the plurality of DAUs. The system also includes a plurality
   of Digital Remote Units (DRUs) coupled to the plurality of DAUs and operable to transport
   signals between DRUs and DAt"s and a plurality of Base Transceiver Stations (BTS). The
10 system further includes a plurality of traffic monitoring modules and a network optimization
   goal and optimization algorithm.
   100051     In an embodiment, a system for dynamically routing signals in a Distributed
   Antenna System is provided and includes a plurality of Digital Access Units (DAUs). The
   plurality of DAUs are coupled and operable to route signals between the plurality of DAUs.
15 The system also includes a plurality of Digital Remote Units (DRUs) coupled to the plurality
   of DAUs and operable to transport signals between DRUs and DAUs and one or more Base
   Transceiver Stations (BTSs). The system further includes a traffic monitoring unit.
   [00061    Numerous benefits are achieved by way of the present invention over conventional
   techniques. For example, embodiments of the present invention provide for traffic
20 monitoring in a DAS network, improving network performance and user experience. These
   and other embodiments of the invention along with many of its advantages and features are
   described in more detail in conjunction with the text below and attached figures.
                             BRIEF DESCRIPTION OF THE DRAWINGS
25 [00071     FIG. I is a block diagram according to one embodiment of the invention showing
   the basic structure and an example of the transport routing, traffic monitoring and network
   optimization based on having a single 3 sector BTS with 3 DAUs and 7 DRUs daisy chained
   together for each cell.
   100081     FIG. 2 is a block diagram according to one embodiment of the invention showing
30 the basic structure for a frequency reuse pattern of N=I and an example of the transport
   routing, traffic monitoring and network optimization based on having a single 3 sector BTS
   with 3 DAUs and 7 DRIs daisy chained together for each cell.
                                                   2

   [00091    FIG. 3 is a block diagram according to one embodiment of the invention showing
   the basic structure and an example of the transport routing, traffic monitoring and network
   optimization based on having multiple 3 sector BTSs with 3 DAUs and 7 DRUs daisy
   chained together for each cell. In this embodiment, multiple three sector base stations are
 5 connected to a daisy chained DAS network.
   100101    FIG. 4 is a block diagram of a Digital Access Unit (DAU), which contains Physical
   Nodes, a Local Router, and Port Traffic Monitoring capability according to an embodiment
   of the present invention.
   [00111    FIG. 5 is a block diagram of a Digital Remote Unit (DRU), which contains Physical
10 Nodes, a Remote Router, and Port Traffic Monitoring capability according to an
   embodiment of the present invention.
   [0012]    FIG. 6 depicts a typical topology where multiple Local Routers are interconnected
   with multiple Remote Routers along with Traffic monitoring and Network Optimization
   functionality according to an embodiment of the present invention.
15 [00131    FIG. 7 depicts a typical topology where multiple Local Routers are interconnected
   with multiple Remote Routers along with Traffic monitoring at each Picocell and Network
   Optimization functionality according to an embodiment of the present invention.
   [00141    FIG. 8 depicts a typical topology where multiple Local Routers are interconnected
   with multiple Remote Routers along with Traffic monitoring at each Picocell and Network
20 Optimization functionality according to an embodiment of the present invention.
   [00151    FIG. 9 is a simplified flowchart illustrating a method of optimizing the DAS
   network according to an embodiment of the present invention.
   100161    FIG. 10 is a simplified flowchart illustrating a method of calculating KPIs and QoS
   for a DAS network according to an embodiment of the present invention.
25 [0017]    FIG. II is a simplified flowchart illustrating an optimization algorithm according to
   an embodiment of the present invention .
                         DETAILED DESCRIPTION OF THE INVENTION
   [00181    To accommodate variations in wireless subscriber loading at wireless network
30 antenna locations at various times of day and for different days of the week, there are several
   candidate conventional approaches.
                                                    3I

   [00191     One approach is to deploy many low-power high-capacity base stations throughout
   the facility. The quantity of base stations is determined based on the coverage of each base
   station and the total space to be covered. Each of these base stations is provisioned with
   enough radio resources, i.e., capacity and broadband data throughput to accommodate the
 5 maximum subscriber loading which occurs during the course of the workday and work week.
   Although this approach typically yields a high quality of service for wireless subscribers, the
   notable disadvantage of this approach is that many of the base stations' capacity is being
   wasted for a large part of the time. Since a typical indoor wireless network deployment
   involves capital and operational costs which are assessed on a per-subscriber basis for each
10 base station, the typically high total life cycle cost for a given enterprise facility is far from
   optimal.
   100201     A second candidate approach involves deployment of a DAS along with a
   centralized group of base stations dedicated to the DAS. A conventional DAS deployment
   falls into one of two categories. The first type of DAS is "fixed", where the system
15 configuration doesn't change based on time of day or other information about usage. The
   remote units associated with the DAS are set up during the design process so that a particular
   block of base station radio resources is thought to be enough to serve each small group of
   DAS remote units. A notable disadvantage of this approach is that most enterprises seem to
   undergo frequent re-arrangements and re-organizations of various staff groups within the
20 enterprise. Therefore, it's highly likely that the initial DAS setup will need to be changed
   from time to time, requiring deployment of additional direct staff and contract resources with
   appropriate levels of expertise regarding wireless networks.
   [00211     The second type of DAS is equipped with a type of network switch which allows
   the location and quantity of DAS remote units associated with any particular centralized base
25 station to be changed manually. Although this approach would appear to support dynamic
   DAS reconfiguration based on the needs of the enterprise or based on time of day, it
   frequently implies that additional staff resources would need to be assigned to provide real
   time management of the network. Another issue is that it's not always correct or best to
   make the same DAS remote unit configuration changes back and forth on each day of the
30 week at the same times of day. Frequently it is difficult or impractical for an enterprise IT
   manager to monitor the subscriber loading on each base station. And it is almost certain that
   the enterprise IT manager has no practical way to determine the loading at a given time of
   day for each DAS remote unit; they can only guess the percentage loading.
                                                     4

   [00221     Another major limitation of conventional DAS deployments is related to their
   installation, commissioning and optimization process. Some challenging issues which must
   be overcome include selecting remote unit antenna locations to ensure proper coverage while
   minimizing downlink interference from outdoor macro cell sites, minimizing uplink
 5 interference to outdoor macro cell sites, and ensuring proper intra-system handovers while
   indoors and while moving from outdoors to indoors (and vice-versa). The process of
   performing such deployment optimization is frequently characterized as trial-and-error.
   Therefore, the results may not be consistent with a high quality of service.
   [00231     Based on the conventional approaches described herein, it is apparent that a highly
10 efficient, easily deployed and dynamically reconfigurable wireless network is not achievable
   with conventional systems and capabilities. Embodiments of the present invention
   substantially overcome the limitations of the conventional approach discussed above. The
   advanced system architecture provided by embodiments of the present invention provides a
   high degree of flexibility to manage, control, enhance and facilitate radio resource efficiency,
15 usage and overall performance of the distributed wireless network. This advanced system
   architecture enables specialized applications and enhancements including, but not limited to,
   flexible simulcast, automatic traffic load-balancing, network and radio resource optimization,
   network calibration, autonomous/assisted comntissioning, carrier pooling, automatic
   frequency selection, radio frequency carrier placement, traffic monitoring, and/or traffic
20 tagging. Embodiments of the present invention can also serve multiple operators, multi-mode
   radios (modulation-independent) and multiple frequency bands per operator to increase the
   efficiency and traffic capacity of the operators' wireless networks.
   [00241     Accordingly, embodiments of this architecture provide a capability for Flexible
   Simulcast. With Flexible Simulcast, the amount of radio resources (such as RF carriers, LTE
25 Resource Blocks, CDMA codes or TDMA time slots) assigned to a particular DRU or group
   of DRUs can be set via software control to meet desired capacity and throughput objectives
   or wireless subscriber needs. Applications of the present invention are suitable to be
   employed with distributed base stations, distributed antenna systems, distributed repeaters,
   mobile equipment and wireless terminals, portable wireless devices, and other wireless
30 communication systems such as microwave and satellite communications.
   [00251     According to an embodiment of the present invention, a traffic monitoring unit is
   provided as a component of one or more elements of the system, enabling measurement of
   the network traffic in the network. A network optimization goal and optimization algorithm
   is also provided so that based on traffic measurements, which is typically a function of the

   number of users on the system, performance of the network is optimized using the goal and
   associated algorithm.
   [00261    As an example of traffic monitoring, the system could track the power of the down
   link or the power of the uplink. Another example, would include some signal processing,
 5 including examining certain control signals, for example, pilot signals sent by mobile
   devices. By locking onto these control signals, the traffic monitor can obtain information on
   the number of users using various components of the system.
   [00271    A distributed antenna system (DAS) provides an efficient means of utilization of
   base station resources. The base station or base stations associated with a DAS can be
10 located in a central location and/or facility commonly known as a base station hotel. The
   DAS network comprises one or more digital access units (DAUs) that function as the
   interface between the base stations and the digital remote units (DRUs). The DAUs can be
   collocated with the base stations. The DRUs can be daisy chained together and/or placed in a
   star configuration and provide coverage for a given geographical area. The DRUs are
15 typically connected with the DAUs by employing a high-speed optical fiber link. This
   approach facilitates transport of the RF signals from the base stations to a remote location or
   area served by the DRUs. A typical base station comprises 3 independent radio resources,
   commonly known as sectors. These 3 sectors are typically used to cover 3 separate
   geographical areas without creating co-channel interference between users in the 3 distinct
20 sectors.
   100281    Traffic monitoring in a DAS network is provided by embodiments of the present
   invention, which has not been performed in conventional systems. As described herein, the
   traffic monitoring unit can be implemented as a stand-alone unit in conjunction with one or
   more system components, including DAUs, DRUs, a BTS, a BTS hotel, or the like.
25 [00291    Once traffic resources are aggregated into eNodeB hotels, the discrete resources of a
   single eNodeB are still allocated to a specific set of antennas associated with that eNodeB
   and providing coverage to a specific geographic area. The traffic resources are fixed, i.e.,
   only the resources associated with a specific eNodeB can be allocated to the antennas
   associated with that eNodeB. However, because the eNodeBs are collocated in an eNodeB
30 hotel, the system can use the aggregated traffic resources of the discrete eNodefis as a single,
   pooled traffic resource that can be allocated according to various algorithms. Assumptions
   are typically predicated on worst-case traffic assets in all areas, network design is wasteful 99
   percent of the time, inevitably resulting in over- or under-provisioning of fixed resources.
                                                    6

   Traffic resources either go unused (idle channels), or are under-provisioned and are
   insufficient to handle the offered traffic. Both circumstances give rise to the same outcome:
   lost revenue and lost opportunity. When a site's traffic resources are idle and unused, the
   traffic asset fails to provide an optimal return on investment. But a site that lacks sufficient
 5 capacity to support the offered traffic at any point during the day garners dropped calls, lost
   revenue opportunity, and dissatisfied customers. The traffic information derived from an
   extensive sensor network will be used to dynamically allocate the traffic resources to the
   required geographical areas only for the time period the service is needed. Once the service is
   supplied and the traffic sensor network determines that the traffic resources are no longer
10 required, they are returned to the resource pool for reallocation. The entire network
   automatically reconfigures itself based on the perceived (sensed) need or in the event of
   disruption due to natural or manmade events. Geographic load balancing using DAS is
   recognized as a new approach for traffic load balancing which provides dynamic load
   redistribution in real time according to the current geographic traffic conditions. It can be
15 used to improve the performance for any distributed systems containing non--uniformly
   distributed traffic, especially for resolving traffic hot spots.
   [00301     The network's performance (expressed by the number of KPIs (Key Performance
   Indicators) from different parts of the network) determines the QoS values. Different
   operators may have different defined business goals and different services of interest. Based
20 on these considerations, efficient and cost effective network performance management varies
   from operator to operator. Therefore, QoS metrics could be defined and mapped to a set of
   KPIs.
   [00311     An embodiment shown in FIG. I illustrates a basic DAS network architecture
   according to an embodiment of the present invention and provides an example of a data
25 transport network, traffic monitoring and network optim ization scenario between a 3 sector
   Base Station and multiple DRUs. In this embodiment, the DRUs are daisy chained together
   to achieve coverage in a specific geographical area. Each individual sector covers an
   independent geographical area, which is identified as a Cell. Although embodiments are
   discussed in terms of optimization of DAS networks, the term optimization is properly
30 understood to include performance improvements in comparison to conventional systems,
   even if complete optimization is not achieved. Thus, optimization does not require the
   maximum values for traffic management metrics, but also includes distribution of traffic that
   improves system performance while remaining short of maximum performance.

   [00321    FIG. I depicts a DAS system employing multiple Digital Remote Units (DRUs) and
   multiple Digital Access Units (DAUs). In accordance with the present invention, each DRU
   provides unique information associated with each DRUl which uniquely identifies uplink data
   received by that particular Digital Remote Unit.
 5 100331    One feature of embodiments of the present invention is the ability to route Base
   Station radio resources among the DRUs or group(s) of DRILs. In order to route radio
   resources available from one or more Base Stations, it is desirable to configure the individual
   router tables of the DAUs and DRUs in the DAS network. This functionality is provided by
   embodiments of the present invention.
10 [0034]    The DAUs are networked together to facilitate the routing of DRUJ signals among
   multiple DAUS. The DAUs support the transport of the RF downlink and RF uplink signals
   between the Base Station and the DRUs. This architecture enables the various Base Station
   signals to be transported to and from multiple DRts. PEER ports are used for
   interconnecting DAUs and interconnecting DRJs.
15 [00351    The DAUs have the capability to control the gain (in small increments over a wide
   range) of the downlink and uplink signals that are transported between the DAU and the base
   station (or base stations) connected to that DAU. This capability provides flexibility to
   simultaneously control the uplink and downlink connectivity of the path between a particular
   DRU (or a group of DRUs via the associated DAU or DAUs) and a particular base station
20 sector.
   100361    Embodiments of the present invention use router tables to configure the networked
   DAUs. The local router tables establish the mapping of the inputs to the various outputs.
   Internal Merge blocks are utilized for the Downlink Tables when the inputs from an External
   Port and a PEER Port need to merge into the same data stream. Similarly, Merge blocks are
25 used in the Uplink Tables when the inputs from the LAN Ports and PEER Ports need to
    merge into the same data stream.
   [00371    The remote router tables establish the mapping of the inputs to the various outputs.
   Internal Merge blocks are utilized for the Downlink Tables when the inputs from a LAN Port
   and a PEER Port need to merge into the same data stream. Similarly, Merge blocks are used
30 in the U-plink Tables when the inputs from the External Ports and PEER Ports need to merge
   into the same data stream.
                                                   8

   [00381    As shown in FIG. 1, the individual base station sector's radio resources are
   transported to a daisy-chained network of DRUs. Each individual sector's radio resources
   provide coverage to an independent geographical area via the networked DRUs. FIG. I
   demonstrates how three cells, each cell comprising an independent network of 7 DRUs,
 5 provide coverage to a given geographical area. A server is utilized to control the switching
   function provided in the DAS network. Referring to FIG. I and by way of example, DAU
   (102) receives downlink signals from BTS Sector I (101). DAU I translates the RF signals
   to optical signals and the optical fiber cable 103 transports the desired signals to DRU 2
   (104). Optical cable 105 transports all the optical signals to DRUi 3 (106). The other DRUs
10 in the daisy chain are involved in passing the optical signals onward to DRU I1(07).      DAU I
   (102) is networked with DAU 2 (108) to allow the downlink signals from Sector 2 (109) and
   Sector 3 (110) to be transported to all the DRUs in Cell 1. The system's switching and
   routing functions enable the selection of which sectors' signals are transmitted and received
   by each DRU.
15 [00391    An embodiment illustrating a Traffic monitoring unit (121) at the DAUs is included
   to track the traffic load at each DAU in the network. The traffic load associated with each
   DAU is collected and stored in the Network Optimization Unit (120). The optimization unit
   (120) calculates the overall DAS network performance and determines the optimum
   reconfigured network to improve or maximize performance. Utilizing the traffic monitoring
20 unit 121 in conjunction with the DAUs provides for optimization of the DAS network
   through a traffic monitoring unit external to the DAUs. Thus, embodiments of the present
   invention provide for traffic monitoring in a DAS network. Optimization of the DAS
   network can then be performed using information related to the traffic monitoring.
   [00401     Referring to FIG. 1, the traffic monitor unit 121 can be a server determining the
25 num ber of users on each DAU, with each DAU having multiple ports in some embodiments.
   Data from the traffic monitor unit 121 is then provided to the network optimization unit 120,
   which can be the same server including the traffic monitor unit or a different server. The
   network optimization unit 120 (which can be software running on a server) can model the
   rebalancing of the traffic load and, after determining that the performance will be acceptable,
30 implements the load rebalancing by communicating with the DAUs and shifting traffic
   between sectors. Although the network optimization unit 120 is illustrated as coupled to the
   DAUs in FIG. 1, this is not required by embodiments of the present invention and the
   network optimization could be performed at one of the DRUs, with data regarding network
   optimization being transmitted back to the DAUs using, for example, using an Ethernet
                                                    9

   backhaul connecting the DRUs to the DAUs. Thus, the network optimization server could be
   located at one of the DRUs, controlling the entire network front that location. One of
   ordinary skill in the art would recognize many variations, modifications, and alternatives.
   [00411     The network optimization unit can implement a network optimization goal, which
 5 may relate to the number of users per sector, for example, that each sector carry a percentage
   of traffic less than 50% of the total traffic, less than 40% of the total traffic, or less than 35%
   of the total traffic, that each sector have less than 50% of the users, less than 40% of the
   users, less than 35% of the users, or that each sector have 33% of the users, or the like. Thus,
   the optimization goals can include metrics of the system performance. Although the system
10 may not reach the goals, progress toward the goals can be provided, improving the user
   experience.
   100421     FIG. 2 shows an embodiment illustrating how a single base station can be used to
   provide coverage for a larger geographical area when a frequency reuse pattern of N=1 is
   used. Referring to FIG. 2, cell I and cell 8 would share the radio resources of sector 1 of the
15 base station. Similarly, cell 2 and cell 10 would share the radio resources of sector 2.
   [00431     The DAUs control the routing of data between the base station and the DRUs. Each
   individual data packet is provided with a header that uniquely identifies which DRU it is
   associated with. The DAUs are interconnected to allow transport of data among multiple
   DAUs. This feature provides the unique flexibility in the DAS network to route signals
20 between the sectors and the individual DRUs. A server is utilized to control the switching
   function provided in the DAS network. Referring to FIG. 2, and by way of example, DAU 1
   (202) receives downlink signals from BTS 1 Sector 1 (201). DAU I translates the RF signals
   to optical signals and the optical fiber cable 203 transports the desired signals to DRU 2
   (204). Optical cable 205 transports all the optical signals to DRt 3 (206). The other DRUs
25 in the daisy chain are involved in passing the optical signals onward to DRU 1 (207). DAUT          1
   (202) is networked with DAU 2 (208) to allow the downlink signals from Sector 2 and Sector
   3 to be transported to all the DRUs in Cell 1. Optical fiber cable 209 transports the desired
   signals to DRU 23 (210). Optical cable 211 transports all the optical signals to DRU 24
   (212). The other DRUs in the daisy chain are involved in passing the optical signals onward
30 to DRU 22 (213). An embodiment illustrating a Traffic monitoring unit (221) at the DAUs is
   included to track the traffic load at each DAU in the network. The traffic load associated with
   each DAU is collected and stored in the Network Optimization Unit (220). The optimization
   unit (220) calculates the overall DAS network performance and determines the optimum
   reconfigured network to maximize performance.
                                                      10

   [00441     FIG. 3 shows an embodiment illustrating an application employing a base station
   hotel where N BTSs are interconnected to serve a given geographical area. The base stations
   may represent independent wireless network operators and/or multiple standards (WCDMA,
   LTE, etc.) or they may represent provision of additional RF carriers. The base station signals
 5 may be combined before they are connected to a DAUIT, as may be the case for a Neutral 1-lost
   application. Referring to FIG. 3 and by way of example, DAU 1 (302) receives downlink
   signals from BTS Sector 1 (301). DAU 1 translates the RF signals to optical signals and the
   optical fiber cable 303 transports the desired signals to DRU 2 (304). Optical cable 305
   transports all the optical signals to DRU 3 (306). The other DRUs in the daisy chain are
10 involved in passing the optical signals onward to DRU 1 (307). DAU 1 (302) is networked
   with DAU 2 (308) to allow the downlink signals from BTS 1 Sector 2 to be transported to all
   the DRUs in Cell 1. DAUJ 1 (302) receives downlink signals from BTS Sector N (309).
   DAT] 1 translates the RF signals to optical signals and the optical fiber cable 303 transports
   the desired signals to DRU 2 (304). Optical cable 305 transports all the optical signals to
15 DRU 3 (306). The other DRUs in the daisy chain are involved in passing the optical signals
   onward to DRU] 1 (307). The additional base stations provide the capability to add capacity
   for Cell 1.
   [00451     In order to efficiently utilize the limited base station resources, the network of
   DRUs should have the capability of re-directing their individual uplink and downlink signals
20 to and from any of the BTS sectors. Because the DRts data traffic has unique streams, the
   DAU Router has the mechanism to route the signal to different sectors. An embodiment
   illustrating a Traffic monitoring unit (321) at the DAUs is included to track the traffic load at
   each DAU in the network. The traffic load associated with each DAU is collected and stored
   in the Network Optimization Unit (320). The optimization unit (320) calculates the overall
25 DAS network performance and determines the optimum reconfigured network to maximize
   performance.
   100461     FIG. 4 shows the two primary elements in a DAL, the Physical Nodes (400) and the
   Local Router (401). The Physical Nodes translate the RE signals to baseband for the
   Downlink and from baseband to RF for the Uplink. The Local Router directs the traffic
30 between the various LAN Ports, PEER Ports and the External Ports. The physical nodes
   connect to the BTS at radio frequencies (RF). The physical nodes can be used for different
   operators, different frequency bands, different channels, or the like. The physical nodes can
   combine the downlink and uplink signals via a duplexer or they can keep them separate, as
   would be the case for a simplex configuration. In one embodiment, Traffic monitoring (416)
                                                      11

   capability is provided in each DAU for determining the traffic load at each of the DAU ports.
   In this embodiment, the traffic monitoring function is performed in each DAU in comparison
   with other implementations in which the traffic monitoring is performed externally.
   [00471    FIG. 4 shows an embodiment whereby the physical nodes have separate outputs for
 5 the uplinks (405) and separate inputs for the downlink paths (404). The physical node
   translates the signals from RF to baseband for the downlink path and from baseband to RF for
   the uplink path. The physical nodes are connected to a Local Router via external ports
   (4091,410)). The router directs the uplink data stream from the LAN and PEER polls to the
   selected External U ports. Similarly, the router directs the downlink data stream from the
10 External D ports to the selected LAN and PEER ports.
   [00481    In one embodiment, the LAN and PEER ports are connected via an optical fiber to a
   network of DAUs and DRUs. The network connection can also use copper interconnections
   such as CAT 5 or 6 cabling, or other suitable interconnection equipment. The DAU is also
   connected to the internet network using IP (406), An Ethernet connection (408) is also used
15 to communicate between the Host Unit and the DAU. The DRU can also connect directly to
   the Remote Operational Control center (407) via the Ethernet port.
   [00491    FIG. 5 shows the two primary elements in a DRU, the Physical Nodes (501) and the
   Remote Router (500). The DRU includes both a Remote Router and Physical Nodes. The
   Remote Router directs the traffic between the LAN ports, External Ports and PEER Ports.
20 The physical nodes connect to the BTS at radio frequencies (RF). The physical nodes can be
   used for different operators, different frequency bands, different channels, etc. FIG. 5 shows
   an embodiment whereby the physical nodes have separate inputs for the uplinks (504) and
   separate outputs for the downlink paths (503). The physical node translates the signals from
   RF to baseband for the uplink path and from baseband to RF for the downlink path. The
25 physical nodes are connected to a R emote Router via external ports (506,507). The router
   directs the downlink data stream from the LAN and PEER ports to the selected External D
   ports. Similarly, the router directs the uplink data stream from the External U ports to the
   selected LAN and PEER ports. The DRU also contains a Ethernet Switch (505) so that a
   remote computer or wireless access points can connect to the internet.
30 [00501    In one embodiment, the traffic monitoring (516) capability is provided in each DRU
   for determining the traffic load at each of the DRU ports. In this embodiment, the traffic
   monitoring function is performed in each DRU] in comparison with other implementations in
   which the traffic monitoring is performed externally.
                                                   12

   [00511     As shown in FIG. 6, the base station hotel (610) is comprised of multiple Picocells.
   The Picocells are typically wireless operator dependent and frequency band dependent.
   Picocells that operate in the same frequency band are combined at RF and input to the
   respective DAUs. The DAU radio resources from the combined Picocells are transported to a
 5 daisy-chained network of DRUs. Each individual DAUs radio resources provide coverage to
   an independent geographical area via the networked DRUs. FIG. 6 demonstrates how
   multiple DAUs, each cell comprising an independent network of 7 DRUs, provide coverage
   to a given geographical area. In one embodiment, the traffic monitoring functionality is
   located in an external Traffic Monitoring Unit (621), which is connected to the network of
10 DAUs.
   [00521    As shown in FIG. 7, the base station hotel (710) is comprised of multiple Picocells.
   The Picocells are typically wireless operator dependent and frequency band dependent.
   Picocells that operate in the same frequency band are combined at RF and input to the
   respective DAUs. The DAU radio resources from the combined Picocells are transported to a
15 daisy-chained network of DRUs. Each individual DAUs radio resources provide coverage to
   an independent geographical area via the networked DRUs. FIG. 7 demonstrates how
   multiple DAUs, each cell comprising an independent network of 7 DRUs, provide coverage
   to a given geographical area. In one embodiment, the traffic monitoring functionality is
   located in an external Traffic Monitoring Unit (721), which is connected to the Picocells.
20 The BTS Hotel 710 includes a plurality of Picocells that are coupled to traffic monitoring unit
   720. The traffic information flows from the Picocells to the traffic monitoring unit, which
   uses this traffic information to optimize the DAS network. The traffic monitoring unit 820
   works in conjunction with network optimization unit 721, which can include traffic
   management algorithms used to distribute traffic efficiently throughout the DAS network.
25 [00531     FIG. 8 shows an embodiment of a base station hotel (810), which is comprised of
   multiple picocells that are interconnected to a network of DAUs via. a.digital interface (830).
   100541     FIG. 9 illustrates one embodiment of the DAS network optimization flow diagram.
   The Key Performance Indicators (KPIs) of' the network traffic are collected at the various
   network nodes (910). KPI may comprise information such as: number of blocked calls,
30 number of active calls, average power of uplink channels, average power of downlink
   channels, traffic on each sector, failed calls, number of satisfied users, number of unsatisfied
   users, number of users operating through a given DRU, and the like,
                                                    13

   [00551     The DAS network performance is then analyzed in the context of the available DAS
   network radio resources (912). An optimization algorithm is applied to the existing DAS
   network with the objective to determine the optintun routing of network traffic (914). Once
   an optimum DAS network has been determined then an estimate of the reconfigured DAS
 5 network performance is determined (916). The reconfigured DAS network is evaluated prior
   to an implementation to insure that the performance will be acceptable. If the reconfigured
   DAS network has been determined to be acceptable then the reconfigured DAS network is
   implemented (918) and the entire process is repeated. In an embodiment, the load on the
   sectors prior to reconfiguration and after the proposed reconfiguration can be compared to
10 determine if the shifting of the DRiUs to the other sectors improves the system performance.
   [00561     Thus, using the KPIs of the network traffic, the DAS network can be modified to
   improve system performance. As an example, if a particular DRU has a higher load than
   other adjacent DRis, traffic can be routed to the adjacent DRUs in order to reduce the load
   on the particular DRU. Additional description related to load balancing is provided in U.S.
15 Patent Application No. 61/600,530, filed on February 17, 2012, entitled "Evolutionary
   Algorithms for Geographic Load Balancing Using a Distributed Antenna System," the
   disclosure of which is hereby incorporated by reference in its entirety for all purposes.
   [00571    As an example of optimizing network performance, a base station typically has
   three sectors. The DRU can be allocated to different sectors in order to improve performance
20 by shifting traffic from a first sector (e.g., a high traffic sector) to a second sector (e.g., a low
   traffic sector) by shifting a DRUT allocated to the first sector to the second sector. Although
   some embodiments of the present invention will not optimize performance of the system, the
   system performance can be improved using the techniques described herein, for example, by
   measuring the traffic load on the DRUs, performing load balancing of the traffic on the
25 DRUs, to reduce the load on a first DRU characterized by a first traffic load by shifting the
   load to a second DRU characterized by a second traffic load less than the first traffic load. In
   the optimization process, system performance can be measured against a predetermined
   threshold, with the optimization process terminating once the predetermined threshold has
   been reached. One of ordinary skill in the art would recognize many variations,
30 modifications, and alternatives.
   [00581    As another example, power settings for the DRUs can be modified to improve
   system performance as discussed in additional detail in U.S. Patent Application No.
   61/669,572, filed on July 9, 2012 and entitled, "A Self-Optimizing Distributed Antenna
                                                      14

   System Using Soft Frequency Reuse," the disclosure of which is hereby incorporated by
   reference in its entirety for all purposes.
   [00591    FIG. 10 illustrates one embodiment of the DAS network calculation of the KPIs and
   QoS. The important parameters for determining the DAS network QoS include the number
 5 of users allocated to a given DRU, the spatial distance between the various DRUs, as well as
   identifying which DRUs are assigned to which BTS sector.
   [00601    FIG. I1 illustrates one embodiment of the flow chart for the optimization algorithm.
   In this embodiment an Estimation Distribution Algorithm (EDA) is used. Various DRU
   allocation scenarios are investigated to determine the optimum DRU scenario that achieves
10 the highest QoS. In an embodiment, the initial population is generated (1110). The traffic
   information (KPIs) is analyzed and traffic performance (QoS) for all sectorization is analyzed
   (1112). A sort procedure is performed (1114) and a determination is made if the convergence
   criterion are satisfied (1116). If so, the process is terminated. If not, then the generation
   counter is updated (1118), a sort operation is performed (1120), the parameter F is computed
15 (1122) and a new population is generated (1124). Then the method proceeds to the traffic
   information and performance analysis (1112).
   [00611    Network Optimization
   [00621    The network's performance (expressed by the number of KPIs from different parts
   of the network) determines the QoS values. Different operators may have different defined
20 business goals and different services of interest. Based on these considerations, efficient and
   cost effective network performance management varies from operator to operator. Therefore,
   QoS metrics could be defined and mapped to a set of KPIs. When a set of KPIs is used, then
   the mapping needs to be represented by a weighted normalized function.
   100631    In this section we formulate the sectorization problem with mixed integer
25 programming to balance traffic among sectors and to minimize handoffs with connected and
   compact sectors. Given the sectorization of DRUs at time period t, our problem is to obtain
   new sectorization at time period t+1 that adaptively balances the change in traffic demands.
   [00641    In order to formulate the problem, we consider a service coverage area with N
   DRUs. Each DRU is assumed to have traffic demand              =     N . Note that, UEA belongs
30 to DR U. if the received uplink power from UTEA at DR U, is greater than the otherDRUs .
   Let p,, be the transition probability of mobiles from DR U, to DR U,. Then, the handoff calls
   from DR U, to DR U become h, = pT.          The distance between DR U, and D R U] is inversely
                                                     15

   proportional to p<       . Assume that an eNodeB hotel has M VBSs. Let SOS, and SODk b
   the set of sectors in VBS, and the set of DRUs allocated to Sector,, respectively, such that
     SOS I=3 (if each eNodeB/VBS has three sectors), m=i,.A.,lM and k=i,..., K. We consider
   the following three cost factors (KPIs) in the sectorization problem:
 5 [00651     KPhIc (Inverse of the number ofBlocked Calls): The penalty of the blocked calls
   caused by hard capacity and soft capacity. Let HC, and SC be the hard capacity of VBS,
   and soft capacity of Sector.respectively such that HC,       =         SC, . The binary variable
                                                                   k-SOS,
    xI  = 1, when DR U, belongs to Sector, . y,,     =          , then    yi    I when DR U, belongs to
                                                        ke SOS,
    VBS
                        0if           x < SCk
    SCx
                      -SC        otherwise
10  1,   heN'TT       --11,C          I
                                   T-xSOS t--    5
                                               kCSOS
                                                     SC5
                    T'~                              SCTx.S
           k-SOS"
                  Isc
   (1)
   Since a penalty occurs only when the calls are blocked, we apply just sc, to the objective
   function, because the he, is a function ofsc, and there is no need to add it as another term to the
   objective function. sc, is a nonnegative real variable. So,
15  KPIB
   (2)
   [00661      KPIHO (Inverse of the number of Handoffs): we consider three different types of
     -landoffs :
20 [00671     A. Inter-eNodeB Handoff: When user equipment (UE) with an ongoing call moves
   from one VBS to another VBS, then the UE needs an inter- eNodeB handoff. Inter- eNodeB
   handoff is executed using the X2 interface (as long as the UE does not leave the LTE
                                                       16

   coverage area) or SI interface (when the UE leaves the serving cell). The X2 handoff
   includes establishing a signaling connection using the X2 Application Part (X2AP) from the
   source to the target eNodeB. The target eNodeB updates the MME (Mobility Management
   Entity) with the new geographic position of the UE. To enable this procedure, the MME
 5 needs to communicate with S-GW (Serving Gateway) to negotiate the new endpoint. During
   the SI handoff, the MME receives the relocation preparation request of the source eNodeB, it
   starts the handoff resource allocation procedure to request the necessary radio resource from
   the target eNodeB. After the target eNodeB sends the required radio interface parameters
   embedded in a handoff command message; the MME forwards this handoff command
10 message transparently to the UE, which executes the handoff. The main procedure is
   triggered by the MME and executed by S-GW.
   100681     Let the binary variablesz  =  , when DRU, and DRU,belong toVBS.           Then the
   inter-eNodeB handoff cost is computed by using the variable z. = I-     Z     ,  the cost
   becomes    7 7 hz, .
15 100691     Note that inter-eN odeB handoff occurs when DR U, and DIR U belong to different
   VBS, i.e., z,     0.
    00 79JB. 1ntra-eNodeB Handoff When a UE with an ongoing call moves from one sector
   to another in a VBS, then the mobile needs an intra-eNodeB handoff. This procedure doesn't
   need to involve MME or S-GW because it can be handled entirely within that VBS. Now by
20 letting the binary variable ,v = 1 when DR U, and DR U, belong to sector k, the intra
   eNodeB handoff cost is computed by using two variables w>-z where w          ---       w, , the
   cost becomesZ        (      --zif)
   [00711     An intra-eNodeB handoff occurs when DR LI and DR U, belong to different sectors
   of the same VBS.
25 100721     C ForcedHandiff When a DRU changes its sector, all ongoing calls in the cell
   have to change their pilot PN offsets for WCDMA. The cost of forced handoff is computed
   by employing the current sectorization a,,, which is equal to zero when DR U, is in Sector .
                                                  17

   Since the cost occurs when DR L, currently in another sector moves into Sectorq, the cost
   becomes              alx
   100731       The weighted combination of these three handoff cost would be:
        KPIJ= c                  zT,.,w.-            ;+cZ      , ah x
                          ,0 j-          ik                i k      ,
 5 (3)
   [00741       KPI c, (Inverse of the Compactness Index): we will try to minimize the length of
   handoff border with the compactness index C1 which is introduced in Section ILB . In
   Equation (4) the numerator term represents the number of handoff DRUJ sides between two
   different sectors.
10  KPIJ =[Ci7 =
   (4)
   Where B        :  1, if DR U, and DR U. are adjacent.
     Tow we consider the following constraints required in the formulation:
   1.         each DRU has to belong to a sector, that is,
15  Zx, =I                                                                                    for   all i
   (5)
   2.         The relationship between any two DRUs in a Sector, has to satisfy w, =1 if and only if
       = x     =1.Thus we have:
     v  - x;,,        < x    ad w,.    xik  -x  ---I                         for     all    j     and   k
20 (6)
   [00751       The relationship between two DRUs in a VBS,. z<, =       if and only if
    y  =  yv,   =   1 which leads to:
    z,< y,,l, z,       ; y,.an d zl    y, + y,,I -1                     for      all     ij     and     k
   (7)
                                                     18

   3.           Connected sectorization., if a sector has more than one DRU, then the DRUs of the sector
   have to be connected. For the formulation of connected sectors we employ the cut theorem [26]
   onSODk' If Sector5 is connected, then any cut that separates cells in SOD, has at least one
   common side of the hexagonal cells. Let S1, be a proper subset of SOD,              that is, S14 c SOD,
 5  Si, ##,       and Si, #SOD,        Also let S2,be the opposite set of S1, , that is, S2, = SOD, -SSI.
   Because two subsets are connected, there exists at least one common side of the DRUs separated
   by the subsets. Thus we have
     7'     >    B,   1
    ie S] je,Z)
   (8)
10 [00761         Now, our QoS function is the weighted combination of three KPIs (cost factors)
   which we have already introduced. Obviously our objective function is to maximize the QoS
   function. They are penalties of blocked calls by hard and soft capacities and handoff calls.
   The DRU sectorization can be formulated as the following mixed integer linear
   programming.
    Minimize
                QoS     =wKPI          +w.KPHO         iv,4 . KPI.--                                       (9)
    Subject to:
          x     I1r                 all i
                  k
             y,,V,      ;x    and z. y,,, ,,,+   i, -1         for all i,jand m
    z =1- E z,,,                jI all fn
    hI =                                       all i and i o        lr
    hc, =              .                   jr all
              0               if    27rx, < SC
    sc    =                                                  jor all k
              i l7Ax, -    S,      other wise
    x,,,,       zi m F   e {0,14          for all , j k and m
                                                             19

    [00771        Note that many grouping problems which are special cases of the sectorization
    problem are well-known NP-hard problems. Since our problem is NP hard, the time it takes
    to execute the algorithm is exponentially increasing with the size of the problem. Such an
    algorithm is thus in most cases unusable for real-world size problem. As an encouraging
  5 result on NP-hard problems, we investigate evolutionary algorithms to solve the sectorization
    problem and compare the performance with the solutions obtained by the mixed integer
    programming.
    [00781         Estimation distribution algorithm (EDA)
    [00791         Unlike other evolutionary algorithms, in EDA a new population of individuals in
10  each generation is generated without crossover and mutation operators. Instead, in EDA a
    new population is generated based on a probability distribution, which is estimated from the
    best selected individuals of previous generation. We introduce each main-vector as an
    individual for our EDA approach, and also our fitness function is objective function that we
    mentioned it in section III. In general, conventional EDAs can be characterized by parameters
15  and notations:
     (is ,F ,Ai,9;i,psf'j2 I                                                                             hr,)
     where
    I)         Is is the space of all potential solutions (entire search space of individuals).
20  2)         F denotes a fitness function.
    3)         A, is the set of individuals (population) at the   hh generation.
    4)          q, is the set of best candidate solutions selected from set A, at the lA generation.
    5)         We denote i -- Ai - r 2- A     ) nf  . where  q- is the complement of r.
    6)         ps is the selection probability. The EDA algorithm selects p|Ai individuals from set A, to
2   make up set il.
    7)         We denote by f          the distribution estimated from       , (the set of selected candidate
    solutions) at each generation.
    8)          Tr,  are the maximum number of generation
    In conventional EDAs, each individual is designated by a string. A typical EDA is described in
30  the following steps:
    Step 0: Generate initial population A,.            The initial population (|'Al individuals) is typically
    obtained by sampling according the uniform (equally likely) distribution:
                                                          20

                                     I1
       i=1,2.,      and p, (  =         (, =S)==
                                      PSp,            p, (0, =S1
                                                                         SOS. 1(12)
   For generation I = 1,2,.       follow steps 1 through 6
   Step 1: Evaluate the individuals in the current population A,,1 according to the fitness function F.
   Sort the candidate solutions (individuals in the current population) according to their fitness
   orders.
 5 Step 2: If the best candidate solution satisfies the convergence criterion or the number of
   generation exceeds its limit I, , then terminate; else go to step 3.
   Step 3: Select the best p,zx       candidate solutions (individuals) from current population A11 . This
   selection is accomplished according to the sorted candidate solutions.
   Step 4: Estimate the probability distribution p(l,0,.)            on the basis of |rq-l best candidate
10 solutions. We denote this estimation by
                                   =       P(e              Bos            o.10m)(13)
   Step 5: Generate new Ag|J -|im          | individuals on the basis of this new estimated probability
   distribution ' . Replace the bad Fini individuals with newly generated |A-j        |i|  individuals.
   Step 6: Go to step 1 and repeat the steps
      We followed the steps of the above pseudo code for our EDA implementation.                   In our
15 experimentation, for estimation (13), we used a simple scheme of estimating the marginal
   distributions separately and using product form
                                                     ni/                        j(14)
   Where 3 is an indicator function and it can be expressed as
                       /  1  ifx;'=0                                                                       (5
                         '0 otherwise
   [00801     It is also understood that the examples and embodiments described herein are for
   illustrative purposes only and that various modifications or changes in light thereof will be
20 suggested to persons skilled in the art and are to be included within the spirit and purview of
   this application and scope of the appended claims.
   100811     Appendix I is a glossary of terms used herein, including acronyms.
                                                      21

                                          APPENDIX I
   Glossary of Terms
   ACLR          Adjacent Channel Leakage Ratio
   ACPR          Adjacent Channel Power Ratio
 5 ADC           Analog to Digital Converter
   AQDM          Analog Quadrature Demodulator
   AQM           Analog Quadrature Modulator
   AQDMC         Analog Quadrature Demodulator Corrector
   AQMC          Analog Quadrature Modulator Corrector
10 BPF           Bandpass Filter
   CDMA          Code Division Multiple Access
   CFR           Crest Factor Reduction
   DAC           Digital to Analog Converter
   DET           Detector
15 DHMPA         Digital Hybrid Mode Power Amplifier
   DDC           Digital Down Converter
   DNC           Down Converter
   DPA           Doherty Power Amplifier
   DQDM          Digital Quadrature Demodulator
20 DQN           Digital Quadrature Modulator
   DSP           Digital Signal Processing
   DUC           Digital Up Converter
   EER           Envelope Elimination and Restoration
   EF            Envelope Following
25 ET            Envelope Tracking
   EVM           Error Vector Magnitude
   FFLPA         Feedforward Linear Power Amplifier
   FIR           Finite Impulse Response
   FPGA          Field-Programmable Gate Array
30 GSM           Global System for Mobile communications
   I--Q          In-phase / Quadrature
   IF            Intermediate Frequency
   LINC          Linear Amplification using Nonlinear Components
   LO            Local Oscillator
35 LPF           Low Pass Filter
   MCPA          Multi-Carrier Power Amplifier
   MDS           Multi-Directional Search
   OFDM          Orthogonal Frequency Division Multiplexing
   PA            Power Amplifier
40 PAPR          Peak-to-Average Power Ratio
   PD            Digital Baseband Predistortion
   PLL           Phase Locked Loop
   QAM           Quadrature Amplitude Modulation
   QPSK          Quadrature Phase Shift Keying
45 RF            Radio Frequency
   RRH           Remote Radio Head
   RRU           Remote Radio Head Unit
   SAW           Surface Acoustic Wave Filter
   UMTS          Universal Mobile Telecommunications System
50 UPC           Up Converter
                                                22

WCDMA Wideband Code Division Multiple Access
WLAN  Wireless Local Area Network
                                  23

                                                24
CLAIMS:
1.         A system for dynamically routing signals in a Distributed Antenna System, the
system comprising:
       a plurality of Digital Access Units (DAUs), wherein the plurality of DAUs are coupled
and operable to route signals between the plurality of DAUs;
       a plurality of Digital Remote Units (DRUs) coupled to the plurality of DAUs and
operable to transport signals between DRUs and DAUs;
       a plurality of Base Transceiver Stations (BTS);
       a plurality of traffic monitoring modules; and
       a network optimization goal and optimization algorithm.
                                      Dali Systems Co. Ltd.
                               Patent Attorneys for the Applicant
                                   SPRUSON & FERGUSON

<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
