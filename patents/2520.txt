                                                   20
  Abstract
  The present invention relates to a system for operating a boat equipped with an electric drive,
  comprising a component controller which comprises a component interface for connecting a system
5 component of the electric drive and a communication interface for connecting the component
  controller to a system bus of the drive control.

                        1/2
          ozz
                           c:     ciz
             0)            x        )
  Co                       0               (1)
             <        0    M              UC)     C/)  LU
                .02               E
   >U)
       >, 0 a)
                    >      a)
                           0      C/)
                                      _   .
                                                )
                                                  a2)m
                               U,      U)
                0i-     0      a)
                         0             -)
                0       75    7 ~-0
o                       0      0       0      ~0
00
        LD
         Q
     U)
  0
      0

                                                          1
                         System for operating a boat equipped with an electric drive
 5
   Technical Field
   The present invention relates to a system for operating a boat equipped with an electric drive,
 o preferably a boat equipped with one or more electric motors and/or a boat equipped with a hybrid
   drive comprising at least one internal combustion engine and at least one electric motor.
   Technical Background
 5 It is known to power boats with an electric drive and, in this regard, fundamentally different
   installation types for the electric motor are known. Furthermore, in addition to the installation types
   of an electric motor which are known in the domain of internal combustion engines, directly on the
   shaft system of the propeller shaft in the interior of the boat or the installation of the electric motor in
   the interior of the boat on a Z-drive or a sail drive, installation types are also known in which the
 o electric motor is arranged outside the hull of the boat, for example, in the form of outboard engines
   or under the hull in a drive gondola or pod drives provided on the rudder system.
   In order to supply the electric motor of a boat drive with electrical energy, it is known to provide
   corresponding battery banks in the boat. The batteries of the battery banks can be charged, for
25 example, by means of a charging device which is connected to a shore connection, provided the
   boat is in the region of a shore connection - that is, typically in a port. For this purpose, a charging
   device is normally provided in the boat, by means of which a controlled charging of the batteries of
   the battery banks can be achieved. Herein, the charging device can either be provided on the boat
   itself - this is then referred to as AC charging, or the charging device can be on land and the boat is
30 supplied directly with a direct current - this is then referred to as DC charging.
   In a hybrid system which, aside from the drive by means of the electric motor, also has an internal
   combustion engine, in principle two different variants are known.
35 In a first variant, the electric motor and the internal combustion engine act together on the shaft
   system of the boat, so that optionally an individual or a simultaneous driving of the propeller is

                                                         2
   possible via the internal combustion engine and/or the electric motor. The two drives are coupleable
   into the shaft system by means of corresponding transmissions. Both the electric motor and the
   internal combustion engine can accordingly act simultaneously or one after the other, via the
   transmissions, on the shaft system and thereby on the propeller.
 5
   In a second variant, only the electric motor has an effect on the propeller and the internal
   combustion engine is coupled to a generator which undertakes the supply of the electric motor and
   the charging of the batteries of the battery banks. Thus the batteries of the battery banks can also
   be charged when the boat is not in the region of a shore power connection. In this variant, an
 o energy supply to the electric motor which is used for travelling can be carried out either by means of
   the battery banks or by means of an operation of the generator simultaneously with the electric
   motor.
   It is further known also to charge the batteries of the battery bank by means of regenerative energy
 5 converters provided on the boat, for example, by means of solar cells which are arranged, for
   example, on a roof of the boat, or by means of a wind generator which is provided on the boat.
   The system provided for operating the electric drive can be used, apart from the supply of the actual
   electric drive, also for supplying other consumers on board, for example, for supplying
 D communications devices, lights and other consumers on the boat which are not directly linked to the
   electric drive.
   A corresponding system is known, for example, from EP 2 330 030 A2.
25 In the known systems, it is required that a central system control, such as is known for example
   from the cited prior art, is individually adapted to the respective components of the system.
   Accordingly, a simple exchange of system components cannot be carried out, but a renewed
   programming must always be carried out in order in this way to provide anew a function of the
   system after a component exchange or a defect.
30
   Summary of the Invention
   Starting from the known prior art, it is an object of the present invention to provide a system for
   operating a boat equipped with an electric drive which provides a simplified design and increased
35 reliability.

                                                         3
   A system with a simplified design and increased reliability is provided through a system having the
   features of claim 1. Advantageous further embodiments are disclosed by the description, the
   subclaims and the drawings.
 5 Accordingly, a system for operating a boat equipped with an electric drive is proposed, comprising a
   component controller which comprises a component interface which is configured to connect a
   system component of the electric drive and a communication interface which is configured to
   connect the component controller to a system bus of a drive control.
 o In that the component controller comprises a component interface for connecting a system
   component of the electric drive and a communication interface for connecting the component
   controller to a system bus, the component controller effectively functions as an intermediate
   member between the specific physical system components which can be, for example, a battery, an
   electric motor, a generator, a converter or an internal combustion engine drive, and the system bus.
 5
   Thus, the specific system components are in communication with the system bus of the drive
   control only via the component controller, whereas a direct communication of the system
   components with the system bus does not take place. Thus, the system bus of the drive control can
   be configured clearly defined, robust and reliable. An adaptation of the system bus on an exchange
 o of system components is correspondingly not necessary. The respective component controller
   connected to the system components is connected therebetween and, in each case, assumes the
   translation and preparation of the signals, states and data communication of the specific system
   components for the system bus. Furthermore, a decoupling of the system components from the
   system bus takes place so that defects in individual system components cannot disrupt the system
25 bus.
   The system for operating a boat equipped with an electric motor should be understood, in particular,
   as one which comprises and puts into relation with one another system components necessary at
   least for the driving of the boat. For the driving of a boat equipped with an electric motor, apart from
30 the actual drive comprising the electric motor with a propeller or a jet drive, an energy supply for the
   electric motor is also provided which can be provided in the form of a battery, but also in the form of
   a generator. Such a system further comprises an input unit for defining a desired drive level by the
   operator of the system.
35 Apart from the aforementioned system components that are necessary for the actual driving, a
   system for operating a boat equipped with an electric motor can also comprise further auxiliary

                                                         4
   system components, such as charging devices for charging a battery, DC/DC converters, DC/AC
   converters, generators and a plurality of auxiliary consumers such as communication devices,
   navigation lights, navigation devices, entertainment devices, illumination, kitchen appliances,
   cooling devices, etc.
 5
   Particularly preferably, the component controller comprises an abstraction module by means of
   which a specific component of the electric drive connected to the system interface is represented on
   the communication interface as a generic system component.
 o By means of the abstraction module, the component controller enables the respective specific
   system components to be abstracted to a generic level, so that the system component can easily be
   detected, addressed and controlled by a higher-level drive control or system control.
   A generic system component should be understood as such which comprises the control and state
 5 parameters necessary for operating the system as well as data communication and/or control
   commands in a general form without having to take account of the specific technical parameters of
   the connected system component.
   For example, in the case of a battery or battery bank, a switch-on signal for the system start may be
 o necessary as a control parameter. On the generic components, only the command "Switch On" is
   present - the component-specific implementation is then undertaken by the component controller on
   the basis of the specific properties of the battery or battery bank connected via the component
   interface. If the command is received accordingly at the communication interface via the system bus
   to switch on the battery bank on a system start, then the component controller converts this
25 command, dependent upon the battery connected to the component interface in that with a first
   battery type, for example, a 12 V ignition signal is transferred, with a second battery type, a 24 V
   ignition signal is transferred and with a third battery type, a pulse is transferred to switch a load
   relay.
30 As a state parameter, for example, a charging state can be transferred from the battery to the
   component controller which then provides at the communication interface, for example abstracted, a
   percentage charging state or an actual residual capacity.
   Thus, all the system components of one system component type connected to the component
35 controller behave equally. In other words, at the communication interface, a generic battery is

                                                        5
   always displayed and addressed the same, regardless of the actual technical manifestation of the
   battery.
   As a further example, an electric motor can be provided with which as a generic electric motor, for
 5 example, only one drive level can be transferred as a drive command. Accordingly, the drive
   command, e.g. "Half ahead", "Full ahead", "Full reverse" or a percentage drive command, e.g. "80%
   ahead", "20% reverse", is transferred from a higher-order drive control via the system bus, said
   command then being converted in the component controller into a corresponding rotary speed
   stipulation, torque stipulation or power stipulation for the specific electric motor connected to the
 o component interface and being converted into a control command according to the respective
   power electronics connected to the component interface.
   In the case of an electric motor, for example, state parameters such as the temperature, preferably
   a percentage temperature relative to a maximum temperature permissible for the specific electric
 5 motor connected via the component interface are also transferred at the communication interface. A
   higher-order drive control can correspondingly read out the current percentage temperature loading,
   regardless of the absolute thermal loading capacity of the specific electric motor.
   In other words, a higher-order control system which communicates with the component controller
 o via the system bus can address a system component connected to the component controller via the
   component interface directly and generally without having to take account of technical peculiarities
   or particular specifications of the specific system components. Equally, the higher-order control
   system only receives state parameters and data communication in a generic format.
25 Accordingly, even on an exchange of system components - for example, the installation of a more
   powerful motor or the exchange of the battery bank for a battery bank with greater capacity - no
   change need be made to the higher-order control system and the overall system can be constructed
   as easy to maintain and scalable.
30 Preferably, at least two different system components can be alternatively connectable to a single
   component interface and the component controller can be configurable, dependent upon the system
   component connected, such that the respective specific system component connected is
   represented as a generic system component.
35 Thus, system components, for example, a battery or an electric motor can be connected
   alternatively to one component controller. In other words, if a battery is connected to the component

                                                         6
   interface of the component controller, a generic battery can be represented at the communication
   interface and if, in place of the battery, an electric motor is connected to the component interface of
   the same component controller, a generic electric motor can be represented at the communication
   interface. Thus, by means of a single of type of component controller, depending on the system
 5 component connected to the communication interface, in each case a corresponding generic
   system component can be represented and it is not necessary to provide a specific component
   controller for each type of system component. Only the component controller is adapted to the
   specific system component connected thereto in that the corresponding parameters are updated. In
   other words, an initialization of the component controller takes place in that the component
 o controller is adapted to the respective system component connected to the component interface
   by means of a corresponding parameterization and/or by means of the use of corresponding
   conversion tables for the data communication and/or by means of a corresponding internal wiring.
   Thus, the possibility exists in the overall system of the boat to provide identical component
 5 controllers for connection to a plurality of different or even all types of system components. Thus,
   the number of possible identical parts within the system is greater, which also has an advantageous
   effect on the serviceability and the costs.
   In this way, it is also possible to exchange system components and/or component controllers
 o against one another, for example, on occurrence of a defect without having to intervene in the
   higher-level control system. The system controller further controls the generic components
   represented by means of the component controller.
   In the event of a defect in a component controller on the component interface of which the electric
25 motor is arranged, the electric motor can be disconnected, for example, from the defective
   component controller and connected to a functioning component controller which is not essential for
   pure vehicle operation - for example, to a component controller to the component interface of which
   the charging device of the shore connection is connected. Thus, in an emergency situation at sea,
   the vehicle operation can accordingly be maintained even with a defective component interface.
30
   In that the component controller can, in principle, be connected to any desired system components,
   for example, to a battery or to the power electronics of an electric motor of the electric drive or a
   charging device for charging the battery or a generator for charging the battery and the component
   controller provided therefore are always identically designed, apart from the simplified configuration
35 of the programming of a higher-order control system, an efficient design of the device can also be

                                                         7
   provided. Furthermore, in this way, redundancies in the system can be built up such that on failure
   of a component controller, another component controller can take its place.
   In this way, it is possible to maintain the driving function of the boat and thus the maneuvering
 5 capability and, in this way, to construct a redundant and secure system.
   Preferably, a connection unit controller is provided which communicates with the component
   controller via the system bus and by means of which the component controller receives drive
   commands. Particularly preferably, the connection unit controller communicates with an input
 o device, for example, a remote throttle lever to specify a drive level by means of an operator and the
   connection unit controller controls the predetermined drive level according to one or more
   component controllers via the system bus in order to achieve the pre-determined drive level.
   Preferably, the connection unit controller combines at least two component controllers into an
 5 organizational connection unit, in particular as a core system and controls the underlying drive
   functions.
   Preferably, the connection unit controller communicates with a device for specifying a desired drive
   level, for example, with a remote throttle lever, by means of which, accordingly, the respective drive
 o level of the electric drive is specified. Thus, by means of a direct communication between the
   remote throttle lever and the connection unit controller, the connection unit controller can control the
   respective components represented as generic system components by the component controller
   with regard to the underlying drive functions.
25 For example, by means of a drive command pre-determined by the user by means of the remote
   throttle lever and transferred to the connection controller, the connection unit controller can transfer
   the drive command via the system bus and the communication interface directly to the addressed
   component controller.
30 The connection unit controller can accordingly be used, firstly, for the organization of the connection
   unit and, secondly, for processing the respective drive commands, so that here short reaction times
   and, in particular, also short system start times can be achieved. Rapid booting up of the system
   and conversion of a drive command is significant particularly when, during maneuvering of the boat,
   a rapid reaction is needed, for example, in a suddenly occurring emergency stop situation in which
35 an emergency stop maneuver must be carried out or if other maneuver functions are significant.

                                                       8
   It is accordingly possible, without involvement of a system controller or even a whole-boat network,
   to transfer the drive commands immediately and directly by means of the transfer of the respective
   drive commands or drive level wishes from the remote throttle lever to the connection unit controller
   and from this via the internal communication bus within the connection unit to the respective
 5 component controllers. Thus, the maneuverability of the boat can be provided rapidly and robustly
   sustained.
   In a preferred development, the system controller is configured by means of a corresponding
   initialization also to serve as a connection unit controller. Thus, a separate connection unit controller
 o can be dispensed with and the number of identical parts in the system can be further increased.
   Preferably, the component controllers and the connection unit controller are structurally integrated
   into one housing which is designated a connection unit. In the connection unit which accordingly
   consists of a connection unit controller and a plurality of component controllers, a communication
 5 takes place between the communication interface of the component controller and the
   communication interface of the connection unit controller via a system bus which is provided within
   the connection unit. A system bus can be, for example, a bus which communicates via a known
   protocol, for example a CANopen bus or another standardized protocol. However, a proprietary
   protocol can also be used.
 D
   Both each component controller as well as each connection unit controller and also each system
   controller comprises its own microprocessor by means of which the corresponding applications can
   be processed and by means of which the communication via the corresponding buses can be
   handled.
25
   In the system, also, at least two connection units, can each be provided with at least one
   component controller, a connection unit controller and a system controller and the system
   controllers of the connection units then communicate with one another wherein one system
   controller then functions as a master system controller and all the other system controllers are
30 operated as slave system controllers.
   In this way, a distributed system can be provided in the boat, wherein, for example, on provision of
   an electric drive with more than one electric motor, a connection unit is associated with each electric
   motor and the battery banks associated with each electric motor. A further connection unit can be
35 provided, for example, for a generator spaced apart from the electric motors. The battery banks,
   when they are arranged spaced from the electric motors associated with them in the boat can also

                                                        9
   be provided with their own connection unit. By means of the communication of the system
   controllers of the individual connection units among one another, such a distributed system can also
   be designed as easily scalable and easily serviceable.
 5 In a particularly preferred embodiment, the component controller is configured to detect, on the
   basis of the system components connected via the component interface, which system component
   is actually connected and accordingly to carry out an initialization according to the respective
   specific system component.
 o Brief Description of the Drawings
   Preferred further embodiments of the invention are described in detail with the following description
   of the drawings. In the drawings:
 5 Fig. 1 is a schematic illustration of the system architecture described;
   Fig. 2 is a schematic illustration of the layered structure of the implementation;
   Fig. 3 is a schematic representation of a service access.
 D
   Detailed Description of Preferred Exemplary Embodiments
   Preferred exemplary embodiments will now be described with reference to the drawings. Herein,
   identical, similar or similarly acting elements are provided with the same reference signs in the
25 different drawings, and repeated description of these elements is in part dispensed with for the
   avoidance of redundancy.
   The system is shown schematically in Fig. 1 wherein, in a connection unit (Connection Box) at least
   one component controller (Device Control Unit - DCU) is provided which is connectable to individual
30 system components (Device) via the component interface.
   Furthermore, a connection unit controller (Box Control Unit - BCU) is provided by means of which
   the component controllers are organized in the connection unit and can be controlled via the system
   bus.
35

                                                         10
   In the component controller, aside from the hardware control system, an abstraction module
   (Abstraction) is also provided which enables a representation of the specific system components
   connected via the component interface as a generic system component at the communication
   interface to the system bus.
 5
   In the component controller, aside from the abstraction of the abstraction module by means of
   which the system component actually connected to the component controller is abstracted to a
   generic system component, corresponding control signals are also output at the component
   interface to the system component.
 0
   For example, at the component interface of the component controller, on connection of a battery, a
   corresponding ignition voltage can be output in order to bring the battery into the operating mode.
   For this purpose, for example, an ignition voltage of 12 V can be transferred to the battery when the
   connection unit controller transfers a request for switching on the battery via the system bus within
 5 the connection unit to the component controller to which the battery is connected. With another
   battery type, however, the component controller can be configured at its component interface such
   that another ignition voltage which is suitable for the respective specific battery type is transferred or
   a different ignition signal or switch-on signal is transferred to the battery.
 D Furthermore, the component controller can assume fundamental control functions and safety
   functions for the respective system component (Low Level Controlling and Safety).
   By means of the component interface, a bus communication can also be carried out with the system
   components in order, by means of the component interface, also to enable data communication with
25 the system components. This can be achieved, for example, through the provision of a CAN bus or
   by means of a serial bus such as UART or LIN or RS485 or RS232 or another bus which can be in
   communication with the respective system component.
   The bus communication with the system component is independent of the communication of the
30 component controller with the system bus by means of its communication interface. In other words,
   the system bus is not in direct communication with the system components, but rather a data
   exchange takes place with the system components only via the interposition of the component
   controller. A direct communication of the system components with the system bus is therefore not
   possible. Rather, the communication with the system components from the standpoint of the system
35 bus takes place exclusively via the respective component controller.

                                                       11
   The exemplary battery transfers via the component interface, for example, its temperature, its
   charge level, the current discharging, the residual capacity or other parameters which can be of
   significance for the boat operation.
 5 If, for example, an electric motor is connected to the component controller via the component
   interface, then the component interface is connected to the power electronics of the motor and can
   accordingly provide the sensor signals which are provided by the power electronics to the
   communication interface in a general form without the specific knowledge having to be passed on
   for the respective electric motor on the system bus. In other words, for example, a rotary speed, a
 o torque generated, the power, a temperature and other parameters can be transferred from the
   electric motor via the component interface to the component controller, which then abstracts the
   specific data and provides them generically by means of the communication interface.
   Furthermore, in this case, it is possible by means of the component controller to convert a
 5 corresponding drive command which is obtained from the connection unit controller via the system
   bus into a specific drive signal or operating signal for the specific power electronics of the respective
   electric motor and to provide it via the component interface of the respective power electronics.
   Accordingly, the component controller can then instruct the power electronics to operate the specific
   electric motor with the drive level pre-determined by the operator of the electric drive by means of
 D the remote throttle lever.
   Furthermore, in the component controller, dependent upon the system component connected via
   the component interface, apart from the underlying control functions which are dependent on the
   connected system components, at the same time, fundamental safety functions are implemented for
25 these specific system components. For example, on the basis of the knowledge of the respectively
   connected system component, for example an electric motor, then a current limitation, a torque
   limitation or a temperature limitation already in the component controller can be implemented
   specifically for the system component connected. Accordingly, if a drive command is communicated
   by the connection unit controller, the component controller will take account of the pre-determined
30 safety parameters and if necessary put the implemented safety functions into play and in this way
   avoid damage or overloading of the system components connected.
   In the component controller, in order to switch from system components connected via the
   component interface, inter alia, current management components such as switches, fuses and
35 current or voltage meters can be provided in order, in this way, to enable switching of the respective

                                                        12
   connected system components to the required switching voltages or switching currents and on the
   other hand also to prevent, by means of a fuse, that system components become damaged.
   The connection unit controller can serve as a master of the respective connection unit, and
 5 numbers and oversees the logical and, via the component controller, abstracted system
   components. If at least one abstracted battery, one abstracted motor and one abstracted throttle
   handle are to be found, the connection unit controller also provides the underlying functions for
   driving. In this way, the pure driving of the boat with an electric drive is possible in a simple, robust
   and error-reduced manner and the function can further be readily monitored. In this way, the targets
 o regarding a rapid system start and rapid operability following the system start can also be achieved.
   Furthermore, in a connection unit, a system controller (System Control Unit) can also be provided
   which, firstly, accepts the statuses and signals communicated via the system bus and, secondly,
   also processes the information provided from the wider environment of the system or the boat. The
 5 system controller can also, for example, undertake communication with a further connection unit in
   order to be able to determine the corresponding overall system state, given the presence of more
   than one connection unit.
   Accordingly, the system controller can, for example, also transfer the entire system state to a
 o central display unit, equalize the loading of different battery banks against one another, on use of
   charging devices, distribute the charging currents to the different battery banks efficiently and also
   balance the other loads that are present in the overall system, for example, auxiliary consumers and
   additional consumers which have nothing to do with the actual electric drive such that an efficient
   use of the system is achieved. Furthermore, by means of the system controller, the charging of
25 batteries in a hybrid system by means of a generator or the states which occur through the
   switching of a drive with an internal combustion engine in the electric drive system can be taken into
   account in the overall distribution and load balancing.
   The system controller is, firstly, connected to the system bus which is provided in the connection
30 unit for communication of the component controllers with the connection unit controller and is
   connected via a network to the further system controllers which are provided in the respective
   system and, in particular, in other connection units. The system controller can further also be
   connected to a whole-boat communication network, in particular a boat bus, for example, an
   NMEA2k bus in order to be able simultaneously to receive information regarding further consumers
35 or the environmental conditions into the representation of the system state or the prediction of
   ranges and other system states.

                                                        13
   The system controller which is provided in each connection unit forms, via the network with other
   system controllers of other connection units, a network wherein only a single system controller
   functions as master, whereas the other system controllers function as slaves. In this way, a freely
   selectable scalability of the system is possible with a plurality of connection units.
 5
   The system controller, apart from the connection to the NMEA2k bus, correspondingly gathers the
   overall abstracted system component data and, in this way, can implement a system-wide energy
   management and bring together the individual connection units into an overall system.
 o The system controller can accordingly develop a tree of system components so that all the
   connection units are coupled to one another into a complete system.
   From a configuration file, the master of the system controllers detects how the respective
   connection units are connected to one another and in the event of a system error, can make a
 5 decision such that particular contacts are made or broken.
   Furthermore, the master system controller can also implement and define an energy management
   strategy which is applied on the respective energy-generating devices and the energy-consuming
   components on board.
 D
   The master system controller can also gather information and detect warnings and errors in order to
   react and to communicate them to the respective user or to incorporate them into the system event
   log.
25 Furthermore, a display server can be provided in the master system controller which combines
   different displays that are provided in the system with one another and operate these as notification
   clients or display clients wherein different displays can also supply different representations on the
   basis of the same data. The master system controller can also communicate with mobile hand-held
   devices, for example, a smartphone or a tablet in order also thereby to display system data.
30
   The master system controller can further serve as a service access point wherein a service
   technician can log into the system by means of the master system controller, for example, via an
   encrypted channel, and find an error or upload software updates. A possible implementation is
   illustrated in Fig. 3.
35

                                                       14
   With the construction of the connection unit on the basis of a plurality of component controllers and
   a connection unit controller in combination with a system controller, as compared with
   conventionally constructed systems in which each system component must be controlled
   individually, the number and length of the necessary cable connections can be significantly
 5 reduced. By means of the reduction of the cable connections, the reliability of the overall system
   can be further improved.
   Preferably, the high voltage distribution is also provided in the connection unit or in a housing
   structure accommodating the connection unit, wherein for example in a first layer of the connection
 o unit controller, the component controller and the system controller can be provided and in a second
   layer, for example, the high voltage distribution can be arranged underneath the circuit boards
   forming the component controller, the connection unit controller and the system controller.
   With regard to the communication between the connection unit controller and the component
 5 controllers, a system bus is preferably provided, by means of which the abstracted system
   components can exchange information or the abstracted component information packets can be
   exchanged between the component interfaces and the connection unit controllers. For this purpose,
   for example, a CANopen protocol or another standardized or proprietary protocol can be used.
 o In this way, also, the main structure for an emergency drive function can be provided, wherein for
   this a combination of component controllers and connection unit controllers are sufficiently provided
   in order to provide the emergency drive function. A communication for the emergency drive function
   takes place between the connection unit controller to which, for example, a remote throttle handle is
   connected, and at least one of the component controllers. The communication between the
25 connection unit controller and the component controller takes place via the system bus which is
   self-contained in relation to other communication partners of third parties.
   The connection unit with the component controllers, the connection unit controller and also the
   system controller can be provided self-contained in the connection unit and can communicate via
30 this system bus. Further components are not permitted herein, so that the bus for communication
   between the component controllers, the connection unit controller and the system controller is
   occupied within the connection unit exclusively by these components and no other components
   acting from outside, for example, from third party providers can communicate via this bus.

                                                       15
   The communication between individual connection units and, in particular, between the system
   controllers of the individual connection units can be created, for example, via an Ethernet
   connection.
 5 The connections to the indicator displays and, for example, to multifunction displays (MFD), boat
   networks etc. are preferably also achieved via an Ethernet connection within the boat.
   Both each component controller and also each connection unit controller and also each system
   controller comprises its own microprocessor by means of which the corresponding applications can
 o be processed and by means of which the communication via the corresponding buses can be
   handled.
   Regarding the structure of the implementation, as shown in Fig. 2, a layered structure is provided in
   which the code (Driver) of the component controller is provided, in relation to the component
 5 interface (Hardware) to which a component of the electric drive can be connected, in a separate
   layer. The abstraction module (Hardware Abstraction Layer) by means of which an abstraction of
   the specific control parameters and state parameters of the respective system components is
   abstracted at the level of a generic system component, is also provided in a separate layer.
 o A delimitation of the individual layers between one another can be achieved in that the software is
   written as self-contained encapsulated classes without any direct coupling to a specific system
   component.
   In order to be as flexible as possible, the software code is provided in a layered architecture. In the
25 hardware abstraction layer, a simple Round Robin Scheduler is provided which makes it simple to
   carry out differently prioritized tasks.
   The communication protocol (Communication Protocol) and the actual application code (Application
   Code) are furthermore fully decoupled from the specific hardware and also from the other layers.
30
   Accordingly, a developer developing a specific system component can focus, when constructing the
   system, on a reliable and safe implementation of this specific system component and must not take
   account of the remainder of the system. Accordingly, highly complex systems with a large number
   of different system components and a large number of auxiliary components can be safely
35 constructed in a simple manner. Each detected system component results in an instance of the

                                                       16
   specific component class and is accordingly represented by the abstraction module as a logical
   system component or a generic system component on the internal CANopen bus.
   The code is particularly preferably generated automatically on the basis of a corresponding design
 5 pattern and on the basis of a corresponding database in which all the component-specific data are
   included. Furthermore, the data for the component abstraction, the data types, the transfer objects
   and the component errors are defined in this database. Through the use of this database, all the
   changes and updates of component-specific data can be automatically incorporated and
   implemented in all hardware platforms and, in particular, in the component controllers and also the
 o connection unit controllers as well as the system controllers. In this way, the complexity that results
   from the distributed control structure can be reduced or eliminated since a central data definition is
   provided. Thus normally, an interface must be defined on both sides thereof. On the basis of the
   provision of the component controller which provides via the abstraction module an abstracted or
   generic system component, the system errors which typically occur due to the programming by
 5 different developers, can be reduced or prevented.
   In other words, on the basis of a clear definition of the interfaces between the individual layers and
   a central storage of the definitions and generation of the code, a consistent and error-reduced or
   error-free system can be achieved.
 D
   Furthermore, on the basis of the distributed structure with the component controllers, the connection
   unit controller, the system controller and the connection of different connection units via the
   communication of the system controllers to one another, by means of a central update function, new
   software or updated data can be transferred to all the controllers in the whole system, so that a
25 consistent version is always present on the master system controller and the slave system
   controllers.
   The master system controller and the slave system controllers force the component controller and
   the connection unit controllers to implement the new software with the respective boat loaders and
30 also, via the CAN-bus, to be supplied with the respective components or system components.
   The system configuration per se can also be achieved by means of a central software distribution
   and, in particular, by means of a central file which is edited, for example, by the service technician
   and is then transferred to the master system controller which then further distributes the data
35 accordingly.

                                                      17
  The GUIs and other user interfaces can be written, for example, using QT/QML, so that accordingly,
  they are portable across different platforms on the basis of the same code base.
  The component controllers are preferably provided in the form of separate hardware components,
5 for example in the form of plug-in cards. For each of the specific physical system components which
  can be, for example, a battery, an electric motor, a generator, a converter or an internal combustion
  engine drive, a separate component controller can be available.
  As far as practicable, all the individual features which are described in the exemplary embodiments
o can be combined with one another and/or exchanged without departing from the scope of the
  invention.

                                                     18
   Claims
   1      System for operating a boat equipped with an electric drive, comprising a component
          controller which comprises a component interface configured to connect a system
 5        component of the electric drive and further comprising a communication interface
          configured to connect the component controller to a system bus of a drive control.
   2.     System according to claim 1, characterized in that the component controller comprises an
          abstraction module which is configured to represent a specific system component of the
 o        electric drive connected to the system interface on the communication interface as a
          generic system component.
   3.     System according to claim 2, characterized in that at least two different system
          components are alternatively connectable via a single component interface and the
 5        component controller is configurable, dependent upon the system component connected,
          such that the respective specific system component connected is represented as a generic
          system component.
   4.     System according to any one of the preceding claims, characterized in that the
 o        component interface of the component controller comprises signal outputs and sensor
          inputs and bus interfaces for communication with a bus of the system component,
          preferably a CAN bus, a serial bus, UART, LIN, RS485 or RS232.
   5.     System according to any one of the preceding claims, characterized in that a connection
25        unit controller is provided which communicates with the component controller via the
          system bus and by means of which the component controller receives drive commands.
   6.     System according to claim 5, characterized in that the connection unit controller
          communicates with an input device to specify a drive level by means of an operator and the
30        connection unit controller controls according to the predetermined drive level one or more
          component controllers via the system bus in order to achieve the predetermined drive level.
   7.     System according to claim 5 or 6, characterized in that the connection unit controller is
          configured to combine at least two component controllers into an organizational connection
35        unit and preferably to control the underlying drive functions of the electric drive.

                                                  19
   8.  System according to any one of the claims 5 to 7, characterized in that at least two
       component controllers and one connection unit controller are accommodated together in a
       housing forming a connection unit.
 5 9.  System according to any one of the preceding claims, characterized in that a system
       controller is provided which communicates with at least one component controller and one
       connection unit controller via the system bus, wherein the system controller is configured to
       receive and process state data from the component controllers and the connection unit
       controller.
 0
   10. System according to any one of the preceding claims, characterized in that at least two
       connection units are each provided with at least one component controller, a connection
       unit controller and a system controller and the system controllers of the connection units
       communicate with one another, wherein a system controller functions as a master system
 5     controller and all the other system controllers are operated as slave system controllers.
   11. System according to any one of the preceding claims, characterized in that the
       component controller is configured to detect the system component connected to the
       component interface and to carry out an initialization according to the respective specific
 0     system component.
   12. System according to any one of the preceding claims, characterized in that as system
       component, a battery, an electric motor, a charging device, a DC/DC converter, a DC/AC
       converter, a generator, an auxiliary aggregate etc. is connected to the component
25     controller.

                                                                        <removed-apn>      <removed-date>
                                   Connection Box
         Device Control Unit                                System Control Unit     ConBox
         Low Level       Abstraction                         Control Auxiliary      Network
Device                                                       Devices
         Controlling &
         Safety                        Box Control Unit
                                                            Event Log
                                        Control Motor
                                                            Control Box Coupling                 1/2
                                        Control Batteries
                                                            System Master/Slave
                                        Control Throttles
                                                            Display Server
                                        Drivetrain
                                        Controller          Remote Service
                                           Throttle            NMEA2 k             Fig. 1
                                                                                                       TOR17065DE

                                                             TOR17065DE
<removed-date>
                                 2/2
                       Application Code
<removed-apn>
              Communication
                Protocol
                  Hardware Abstraction Layer
                             Driver
                            Hardware                       Fig. 2
                       Remote
                       Service
                     WiFi/3G/4G
                      SatDSL
                                          Mobile Display
                        Router
                                             Device
                     Connection Box    System Display
                                                           Fig. 3

