                                         ABSTRACT
   Example embodiments include a method that improves calculations of surface
   roughness that map a planetary surface. The method includes calculating a V-system
 5 matrix with a size of a x a in an interval [0,1]; transforming the V-system matrix into
   an orthogonal matrix; improving calculations of the surface roughness of the planetary
   surface by calculating the surface roughness of a digital elevation model generated from
   data captured from the planetary surface; and generating a map of the planetary surface
   based on the surface roughness.
10
                                               29

                                             TITLE
                   Method for improving calculations of surface roughness
                               FIELD OF THE INVENTION
 5 The present invention relates to methods and apparatus for generating maps and in
   particular improved maps.
                                       BACKGROUND
10 Remote sensed data provides a huge number of elevations for representing the planetary
   surface. Properties of surface textures are crucial to analyze surface features, which are
   important in various types of applications. As a common land-surface parameter,
   surface roughness plays an important role in describing the waviness of surface textures.
   New methods and apparatus that assist in advancing technological needs and industrial
15 applications in effective computation for generating improved surface roughness maps
   are desirable.
                                                1

                            SUMMARY OF THE INVENTION
   One example embodiment is a method that improves calculations of surface roughness
   that map a planetary surface. The method includes calculating a V-system matrix with
 5 a size of a x a in an interval [0,1] such that the interval [0,1] is divided into a parts;
   transforming the V-system matrix into an orthogonal matrix; improving calculations of
   the surface roughness of the planetary surface by calculating the surface roughness of
   a digital elevation model generated from data captured from the planetary surface; and
   generating a map of the planetary surface based on the surface roughness.
10
   Another example embodiment is a computer system that reduces central processing
   unit (CPU) time to process instructions that generate a surface roughness map.
   The computer system includes a processor, a display and a non-transitory computer
   readable     medium.     The    non-transitory    computer-readable       medium       has
15 instructions stored therein that when executed cause the processor to calculate
   a V-system matrix with a size of a x a in an interval [0,1] such that the interval [0,1] is
   divided into a parts; transform the V-system matrix into an orthogonal matrix (P(x));
   reduce CPU time by calculating a surface roughness (R) for a digital elevation model
   (F (y)) and generate the surface roughness map by characterizing map values with color
20 on the display based on the surface roughness (R).
   Another example embodiment is a method that generates an improved map showing
   surface roughness of a planetary surface. The method includes calculating, by a
   computer, a V-system matrix with a size of a x a in an interval [0,1] such that the
25 interval [0,1] is divided into a parts; transforming, by the computer system, the V
   system matrix into an orthogonal matrix (P(x)); and generating the improved map of
   the surface roughness of the planetary surface by calculating a surface roughness (R)
   of a digital elevation model (F (y)) generated from data captured from the planetary
   surface.
30
   Other example embodiments are discussed herein.
                                               2

                      BRIEF DESCRIPTION OF THE DRAWINGS
   The patent or application file contains at least one drawing executed in color. Copies
   of this patent or patent application publication with color drawing(s) will be provided
 5 by the Office upon request and payment of the necessary fee.
   Figure 1 shows a method that improves calculations of surface roughness that map a
   planetary surface in accordance with an example embodiment.
10 Figure 2 shows basis functions of the V-system of degree k = 0 in accordance with an
   example embodiment.
   Figure 3 shows basis functions of the V-system of degree k = I in accordance with an
   example embodiment.
15
   Figure 4 shows basis functions of the V-system of degree k = 2 in accordance with an
   example embodiment.
   Figure 5 shows basis functions of the V-system of degree k = 3 in accordance with an
20 example embodiment.
   Figure 6 shows basis functions (continue) of the V-system of degree k = 3 in
   accordance with an example embodiment.
25 Figure 7 shows a first part of pseudo code for calculating a V-system matrix in
   accordance with an example embodiment.
   Figure 8 shows a second part of the pseudo code in Figure 7 in accordance with an
   example embodiment.
30
   Figure 9A shows a roughness map with 57 m median absolute slope. Figure 9B shows
   a roughness map generated in accordance with an example embodiment.
                                                3

   Figure 10 shows Root-mean-square-error (RMSE) of surface roughness properties for
   lunar topography with 57 m median absolute slope and with the method executed in
   accordance with an example embodiment.
 5 Figure II shows the statistical results of surface properties in nearside terrains (Maria)
   and farside terrains (Highlands) at multiresolution in different statistical parameters in
   accordance with an example embodiment.
   Figure 12A shows surface roughness calculation of Mare Serenitatis with degree k = I
10 in accordance with an example embodiment.
   Figure 12B shows surface roughness calculation of Herzsprung basin with degree k =
   1 in accordance with an example embodiment.
15 Figure 13A shows the surface roughness map generated by different methods (Slope,
   Fourier, Haar and V-system in accordance with an example embodiment) using
   moving window sizes 8 x 8 and 16 x 16.
   Figure 13B shows the surface roughness map generated by different methods (Slope,
20 Fourier, Haar and method in accordance with an example embodiment) using moving
   window sizes 32 x 32 and 64 x 64.
   Figure 14A shows frequency density of roughness values in Maria based on the
   DEMs at spatial resolution of 4 pixels/ degree and the calculated region is 8 x 8 pixels
25 in accordance with an example embodiment.
   Figure 14B shows frequency density of roughness values in Maria based on the
   DEMs at spatial resolution of 8 pixels/ degree and the calculated region is 8 x 8 pixels
   in accordance with an example embodiment.
30
   Figure 14C shows frequency density of roughness values in Maria based on the
   DEMs at spatial resolution of 16 pixels/ degree and the calculated region is 8 x 8
   pixels in accordance with an example embodiment.
                                                4

   Figure 14A shows frequency density of roughness values in Highlands based on the
   DEMs at spatial resolution of 4 pixels/ degree and the calculated region is 8 x 8 pixels
   in accordance with an example embodiment.
 5 Figure 14B shows frequency density of roughness values in Highlands based on the
   DEMs at spatial resolution of 8 pixels/ degree and the calculated region is 8 x 8 pixels
   in accordance with an example embodiment.
   Figure 14C shows frequency density of roughness values in Highlands based on the
10 DEMs at spatial resolution of 16 pixels/ degree and the calculated region is 8 x 8
   pixels in accordance with an example embodiment.
   Figure 15 shows a computer system reduces central processing unit (CPU) time to
   process instructions that generates a surface roughness map in accordance with an
15 example embodiment.
                                               5

                                DETAILED DESCRIPTION
   Example embodiments relate to apparatus and methods that improve calculations of
   surface roughness that map a planetary surface.
 5
   A single, practical definition of surface roughness does not exist. Conventionally,
   surface roughness is defined as some gradient-based parameters. These parameters
   utilize typical elevation variations to characterize surface features. For example, the
   deviations in substrate surface is utilized to create interference patterns for calculating
10 the roughness. Furthermore, the gradient-based measures are widely used in different
   geological studies. For example, surface roughness is defined by several parameters,
   including the RMS height, correlation length and the form of autocorrelation function
   for microwave scattering analysis from sea ice. Root mean square slope is defined as
   the average square of the difference between elevations and the mean elevation of
15 remote sensed data. For the analysis of silicon direct bonding, surface roughness is
   modeled and defined by a Gaussian distribution. However, the gradient-based
   parameters only use limited points in source data and cannot provide an accurate
   quantification because most of the measures are sensitive to the local mean value 2. If
   source data have negative numbers, some deep-concave terrains, such as bowl-shape
20 craters, sometimes show higher roughness values than those in rough highlands.
   Also, conventional methods are not suitable for usages in digital elevation models
   (DEMs). Most of them can only be used in the spatial remote sensed data for fixed
   requirements.    Conventional methods       cannot provide a complete mathematical
25 description of surface information of DEMs. On the other hand, roughness maps should
   help the geologists to focus upon the typical surface characteristics. A roughness
   measure should be helpful to highlight the prominent waviness of surface textures, but
   the local highest or most distinguishable deviations between the data points is not
   enough to reflect these wavy variations. The low-wavy profiles sometimes also indicate
30 rough morphologies, such as the chaotic terrains on planetary surface. However,
   conventional methods cannot show these roughness variations because only several
   points in source data are used for roughness calculation.
                                                6

   Fourier transform has wide usages in geological studies. However, Fourier parameters
   can only be approximated by using finite numbers of Fourier coefficients. If the Fourier
   series has the discontinued points, Gibbs phenomenon occurs. The Gibbs phenomenon
   shows the fact that Fourier sums overshoot at a jump discontinuity in the fractured
 5 structures of terrains. For example, as shown in Figure 2, the jump discontinuities can
   be seen clearly in the Fourier series of the square wave. As a consequence, the Gibbs
   phenomenon makes unreasonable Fourier values. These values cannot reflect the real
   surface waviness. As an effective robust algorithm for discrete system, wavelet
   transform is a tool for determining and identifying surface roughness parameters.
10 However, the wavelet transform cannot avoid Gibbs phenomenon in the wavelet
   reconstruction. Haar wavelet, as shown in Figure 3, is one of the complete orthogonal
   systems and can indicate the multiresolution capability of the discrete system without
   Gibbs phenomenon because it uses both continuous and discontinuous functions to
   characterize the most topographic variations on the surface. Nevertheless, Haar wavelet
15 takes the values -1, 0, and 1 only. V-system is an orthogonal expansion of Haar wavelet
   and it can characterize more complicated morphological variations based on its various
   functions.
   One or more example embodiments solve the above-stated problems or difficulties by
20 providing new methods and apparatus that improve or facilitate the computation of
   surface roughness that map a terrain surface, e.g. a planetary surface.
   Example embodiments include a method that involves a V-system algorithm for
   roughness mapping. The scale-dependence of surface roughness is reflected by the
25 different sizes of orthogonal matrixes.
   Example embodiments provide a roughness measure for the broad area on the
   quantification of surface textures using DEMs. DEMs provide an objective overview
   of global topography. The development of remote sensed equipment, such as Mars
30 Orbiter Laser Altimeter, SRTM DEM, ASTER GDEM and the Lunar Orbiter Laser
   Altimeter (LOLA), brings huge number of elevations to ensure the high-resolution wide
   availability. In order to quantify surface roughness significantly by using high
   resolution DEMs, example embodiments involve a discrete V-system algorithm.
                                               7

   Example embodiments provide a definition of surface roughness that ensures the
   resulting maps can indicate the multiresolution properties of surfaces. Furthermore, the
   major surface characteristics can be quantified accurately because the V-system utilize
   the continuous and discontinuous functions to characterize the major and subtle
 5 roughness variations. Finally, the roughness textural jump discontinuities in heavily
   fractured terrains can be avoided because V-system use specific functions to remove
   the effect of Gibbs phenomenon, which occurs in the roughness constructions of
   fractured terrains and in the case that roughness textures change abnormally.
10 Example     embodiments      have   advantages     over   other    wavelets    that   include
   characterization of morphological variations based on multiresolution properties; and
   directly processing of source data by V-system functions with simple operations and
   reduced computational time.
15 Example embodiments also provide improved methods for calculating surface
   roughness over conventional methods. In one example embodiment, a method is
   executed by a computer system that improves calculations of surface roughness (R) that
   map a planetary surface. A V-system matrix is calculated with a size of a x a in an
   interval [0,1]. The V-system matrix is transformed into an orthogonal matrix (P(x)).
20 Calculations of the surface roughness (R) of the planetary surface is improved by
   calculating the surface roughness (R) of a digital elevation model (F (y)) generated
   from data captured from the planetary surface. An improved map of the planetary
   surface is generated based on the surface roughness (R).
25 Another example embodiment includes a computer system that reduces central
   processing unit (CPU) time to process instructions that generate a surface
   roughness map. This enables surface roughness to be calculated more quickly with less
   computer processing resources. The computer system includes a processor, a display
   and    a non-transitory     computer-readable       medium having           stored   therein
30 instructions that when executed cause the processor to calculate a V-system
   matrix with a size of a x a in an interval [0,1] such that the interval [0,1] is divided into
   a parts; transform the V-system matrix into an orthogonal matrix (P(x)); reduce CPU
   time by calculating a surface roughness (R) for a digital elevation model (F (y)); and
                                                 8

   generate the surface roughness map by characterizing map values with color on
   the display based on the surface roughness (R).
   By way of example, the V-system matrix is calculated by the integral operation based
 5 on the V-system basis function Vt(x), x is a variable in the interval [0,1]. t is a number
   of each part in the V-system matrix and t =1, 2, ... , a, a is the total number of the
   functions in the V-system.
   By way of example, (R) is expressed as:
10                                R = P (x) x F (y) x P (x)'
   where P (x) is used as a moving window sliding over the digital elevation model,
   P(x)' is the conjugate transpose of P(x), and y denotes elevations in the digital
   elevation model. R obtained is denoted by { R(1,1), R(1,2), -- , R(ij)       ,    , R(n,n) 1,
   where n is the total number of the function in the V-system.
15
   By way of example, to quantify the roughness value (Ro), the absolute mean
   value of R is used as the definition of the V-system roughness:
                         RO --                    R(ij)| - |R(l, 1)|
                                  Of Xa i1    j=1
20 By way of example, the computer system includes a mapper that connects with a
   remote sensing device, wherein the mapper collects data of a terrain's surface from the
   remote sensing device and generates the digital elevation model.
   By way of example, the V-system matrix is transformed into the orthogonal matrix by
25 a Gram-Schmidt process.
   By way of example, the instructions in the computer system when executed further
   cause the processor to compute a V-system of degree 1, wherein the V-system of degree
   1 is divided in n group and is defined as:
                                                9

                    VII(x) = 1, X E [0, 11
             V121 (x)  = v5(1 - 2x), X E [0, 1]
                           5,F(1 - 4x), x E [0,    ),
               (X) 2()
                     =
                         v/5-(4x - 1), x E [ , 1),
              V2(x~                            2-x
                            1 - 6x, X E [1,),
               12           5 - 6x, E [-,1).
   where n < 3.
   By way of example, the instructions in the computer system when executed further
   cause the processor to compute a V-system of degree 1, wherein the V-system of degree
 5 1 is divided in n group and is defined as:
                                       =2n-2W
                                       Vfn                             x(2n-2       '2n-2)
                                                              0               others.
                                         y2        V1   2 [2n- 2 (X _       (    _,        j)]
                                         1  =0                                others.
      where j = 1, 2,-       ,2n- 2 , and n = 3,4,-- -.
   By way of example, the digital elevation model has a resolution selected from a group
10 consisting of 4, 8 and 16 pixels/degree.
   Example embodiments also include methods that generate improved surface roughness
   maps over conventional maps. One or more example embodiments include a method
   that generates an improved map showing surface roughness of a planetary surface on a
15 display. The method is implemented based on a complete orthogonal V- system. Based
   on the continuous and discontinuous functions in V-system, the V-system roughness
   can not only characterize major roughness variations of DEMs with different scales and
   spatial resolutions, but also can indicate subtle small roughness textures in large data.
   Moreover, V-system roughness can accurately reflect surface features in the fractured
20 structures of terrains.
                                                     10

   Figure 1 shows a method executed by a computer program that improves calculations
   of surface roughness (R) that map a planetary surface in accordance with an example
   embodiment.
 5
   Block 102 shows calculating a V-system matrix with a size of a x a in an interval [0,1]
   by the computer system. The V-system matrix is calculated by the integral operation
   based on the V-system basis function Vt(x), x is a variable in the interval [0,1]. t is a
   number of each part in the V-system matrix and t =1, 2, ... , a, a is the total number of
10 the functions in the V-system.
   By way of example, the interval [0,1] is divided into a parts.
   By way of example, a V-system of degree 1 is computed by the computer system. The
15 V-system of degree 1 is divided into n group and is defined as:
                     V 1 (x) = 1, x E [0, 11
             V12 1 (x) = v'5(1 - 2x), x E [0, 1]
                                               [0,   )
                          v (1 - 4x), X E
             V,2(X)=
                          v 53(4x  - 1), x E [ ,)
                             1 - 6x, x E [0,      ),
               12,2(x)  =
                             5 -  6x, x E  [-,  1).
   where n<3.
   By way of example, the instructions in the computer system when executed further
20 cause the processor to compute a V-system of degree 1, wherein the V-system of degree
   1 is divided in n group and is defined as:
                                                       11

                                     V(     =    2 [2n 2(x -        )], x E (    _ ,L    )
                                                      0                       others.
                          V 2 (X)  =          V12[2     (X -    2   )], x E (    _       )
                                                      0                       others.
      where j = 1, 2,.--  , 2n-2, and n = 3,4,- -.
   Block 104 shows transforming the V-system matrix into an orthogonal matrix (P(x))
   by the computer system.
 5
   By way of example, a Gram-Schmidt process is applied to transform the V-system
   matrix into the orthogonal matrix.
   Block 106 shows improving calculations of the surface roughness (R) of the planetary
10 surface by calculating the surface roughness (R) of a digital elevation model (F (y))
   generated from data captured from the planetary surface by the computer system. The
   surface roughness (R) is expressed as:
                                  R = P (x) x F (y) x P (x)'
   where P (x) is used as a moving window sliding over the digital elevation
15 model , P(x)' is the conjugate transpose of P(x) and y denotes elevations in the
   digital elevation model. R is denoted by {R(1,1), R(1,2), ---, R(ij) ,          R(n,n)},
   where n is the total number of the functions in the V-system.
   To quantify the roughness value (Ro), the absolute mean value of R is used as
20 the definition of the V-system roughness:
                     Ro=        -
                                Ct XCti1
                                            t
                                           j=1
                                                  R (ij      - |R (1, 1))
   By way of example, the digital elevation model is generated by collecting data of
   the planetary surface using a remote sensing device.
25
   By way of example, the digital elevation model has a resolution selected from a
   group consisting of 4, 8 or 16 pixels/degree.
                                              12

   By way of example, the computer system slides a moving window with a size selected
   from a group consisting of 8 x 8, 16 x 16, 32 x 32, and 64 x 64 pixels.
 5 Block 108 shows generating a map of the planetary surface based on the surface
   roughness (R) by the computer system.
   By way of example, a two-dimensional roughness map is generated.
10 In accordance an example embodiment, Figure 2 to Figure 6 show basis functions of
   the V-system of degree k, where k = 0, 1, 2, 3. The V-system is marked as V           (x)
   V" (x) means the j'h function in the ith class of the n'i group in V-system of degree k,
   where k = 0, 1, 2,... ;n = 3,4,...and j= 1,2,...,2"-2. The first group (n = 1) contains
   only one class that consists of the first k + 1 functions, which are the Legendre
15 polynomials on [0, 1]. It is denoted as {V k,(x), V             (x),...,V      (x)}. The
   second group (n = 2) also contains only one class consisting of the second k + 1
   functions,   which      are   the    k"-order     generators.     It   is  denoted      as
   {V i,2 (x),   , (x),...,V k, (x)}. From the beginning of the third group of the V
   system (n = 3), each group consists of k + 1 classes and each class has   2 n-2 functions.
20
   Figure 2 shows the first 16 basis functions with k = 0. The V-system of degree
   k=O is Haar wavelets in one example embodiment.
   Figure 3 shows the first 16 basis functions with k =1 in one example embodiment.
25
   Figure 4 shows the first 24 basis functions with k=2 in one example embodiment.
   Figure 5 and Figure 6 show the first 32 basis functions with k=3 in one example
   embodiment.
30
   Example embodiment uses V-system for roughness calculation by involving a discrete
   V-system algorithm. The surface roughness is calculated by using V-system of degree
                                               13

   1 (k=1). The V-system is divided into n groups. Therefore, the V-system of degree 1 is
   defined as follows.
   When n<3,
                    V111(x) =1, x E [0, 1]
              V 2 (r) = v/5(1 - 2x), x E [0, 1]
                         v/5_(1 - 4x), x E [0, ),
                     1,1(x)1)
                          v/5(4x - 1), z E [2    )
                            1 - 6x, x E [0,   ),
                            5 - 6x, T E [-2 1).
 5
   By way of example, the instructions in the computer system when executed further
   cause the processor to compute a V-system of degree 1, wherein the V-system of degree
   1 is divided in n group and is defined as:
                                                            0                      others.
                                 Vi, =  {X
                                         2' Vn-z)   2FV[2-2(X
                                                     1  2 1
                                                            0
                                                              ~
                                                                _  j     )
                                                                         )],
                                                                    2n-22n22
                                                                             x2E  jE( ,
                                                                             xe ((2?2[2
                                                                                   others.
                                                                                            )
                                 2
      where j = 1, 2,..      ,2    , and n = 3,4,.
10
   Figure 7 shows a pseudocode 700 for calculating an orthogonal matrix P (x) in one
   example embodiment. Let                1  1,I    1,1' .      1,
   Thus, the V-system of degree 1 can be marked as V={V 1 ,V2, ... V.}, where n is the total
   number of the V-system. In order to calculate the V-system matrix with the size of a x
15 a, the interval [0,1] is divided into a parts. Then, the V-system matrix is calculated by
   the integral operation based on the V-system basis function Vt(x), x is a variable in the
   interval [0,1]. t is a number of each part in the V-system matrix and t =1, 2, ... , a, a is
   the total number of the functions in the V-system. Next, Gram-Schmidt process is
   applied to transform the V-system matrix (I) into the orthogonal matrix (P(x)). Then,
                                                   14

   P(x) is used as a moving window to slide over the digital elevation model (DEM). In
   order to obtain a two-dimensional roughness map, the surface roughness is defined as
                                 R = P (x) x F (y) x P (x)'
   where P(x)' is the conjugate transpose of P(x).
 5
   In one example embodiment, lunar DEMs are used for roughness calculations. For
   comparison, Figure 9A shows a roughness map obtained from conventional method for
   57 m median absolute slope (57 m slope), i.e the point-to-point slopes have been
   calculated along track at the 57 m baseline. Figure 9B shows mapping roughness by
10 using V-system with degree k = 1 in one example embodiment, where the global DEM
   called LDEM16 at a resolution of 16 pixels/degree by 16 pixels/degree is used, mapping
   of global roughness is achieved using 8 x 8 orthogonal matrix. In order to provide a
   convenient comparison, all the values in roughness maps are normalized from 0 to 1.
   In the same range of the normalized roughness contrast (0 to 0.5), the example
15 embodiment show more gradient variations of map values than those in 57 m slope in
   Figure 9A. For example, the Orientale basin (19.4'S, 92.8'W) is visible in 57 m slope.
   The surface roughness map of the example embodiment also show these prominent
   topographic variations. Moreover, the example embodiment characterizes clearer
   roughness textures in some typical areas at this scale. On the other hand, the secondary
20 crater chains, which emerge radially from the continuous ejecta deposit in the
   northwestern of Orientale basin, provides a clearer textural contrast than that in 57 m
   slope. The floor of Oceanus Procellarum (20.67'N, 56.68"W) appears a cluster of small
   dots, which has map values nearly 0.3. These roughness contrasts reflect the
   morphological features of small craters or concave units. Nevertheless, no effective
25 slope contrast can show these roughness variations and many roughness contrasts of
   small concave units are overlapped by the map values of background.
   The statistical measure Root-mean-square-error (RMSE) is used to analyze the
   differences between the results of the roughness measures of the 57 m slope and the
30 example embodiment.
                           RMSE =
                                              15

   where M x N is the total number of pixels in roughness map, R denotes the map value
   and is the mean value of all the pixels. All the values are from 0 to 1.
   Figure 10 shows the statistical results of surface properties in global lunar surface, while
 5 Figure II shows the statistical results of surface properties in nearside terrains (Maria)
   and farside terrains (Highlands). Higher values demonstrate that the roughness
   contrasts are easier to characterize the morphological variations. For the whole
   topography, the textural contrasts of V-system (0.3489) in the example embodiment
   perform a greater observation than that of 57 m slope (0.3478), which can also be seen
10 in Figure 9A and 9B. For Maria (Nearside), although the RMSE of V-system (0.2946)
   is less than that of 57 m slope (0.3017), the roughness textures of V-system of the
   example embodiment provides more detailed contrasts in small zones, such as the small
   dots in Oceanus Procellarum and Mare Imbrium (34.72*N, 14.91*W). For Highlands
   (Farside), V-system (0.3947)         of the example embodiment provides            a better
15 identification of geological variations than 57 m slope (0.3688). The reason is that slope
   is very sensitive to a small proportion of very steep structures in the sample. However,
   Highlands show complicated, fractured and irregular morphologies. These geological
   variations cannot be characterized by the steep slopes easily. The example embodiment
   reflect these features more significantly because it focus upon the waviness in
20 everywhere on the surface.
   Figure 12A shows surface roughness calculation of Mare Serenitatis with degree k = 1
   in one example embodiment. The small dots, interior craters and channel networks
   indicate prominent roughness contrasts in the floor of the Mare. Compare with the
25 surroundings (>0.2), the whole floor of Mare Serenitatis shows low roughness
   characteristics with a range from 0 to 0.1, which associate with the smooth and flat
   morphologies of the Mare. The high-resolution map obtained in the example
   embodiment in Figure 12A show more details of roughness variations. In the floor of
   Mare Serenitatis, the calculated map values correlate well with the characteristic
30 features on the Moon. The voluminous volcanic materials (basaltic lava) fill the
   Serenitatis impact basin forming the relatively flat flooding basalt plain. The basin
   basalt plain has a relatively flat surface and displays the lowest surface roughness value
   (purple color in Figure 12A). Wrinkle ridges are basin-inside contractional landforms
                                                 16

   resulting from loading of the thick sequences of mare basalts. They are linear features
   arranged in a basin- concentric pattern, and commonly have a flat top and both of their
   sides are relatively steep. On the surface roughness map, they correspond to blue and
   green color for their flat tops and steep sides, respectively. The higher surface roughness
 5 values (blue to white color in Figure 12A) are exhibited in the crater rim regions and
   basin-outer marginal zones. This is because these areas have a relatively high terrain
   fluctuation caused by impact effect.
   Figure 12B shows V-system roughness calculation of Herzsprung basin with degree k
10 = 1 in one example embodiment. Most of roughness contrasts are characterized by the
   rough deposits on crater rims. The center floor of this basin has lower map values than
   those in other units. Generally, highlands show opposite morphologies of Mare. As an
   example of highlands terrains, the Hertzsprung basin is a multi-ring basin having three
   rings clearly seen from topography and gravity signature. The inner ring and the
15 intermediate ring are distinct from surrounding mare surfaces on their both sides, basing
   on the color difference indicated in Figure 12B. The blue color regions in the surface
   roughness map between the inner and intermediate rings of the Hertzsprung basin are
   in correspond to lava patches with relatively flat surface.
20 Scale dependence is the fundamental properties of surface roughness and utilized to
   analyze the reliabilities and abilities of roughness measures. As an example for
   roughness calculation, the Orientale basin (19oS, 92.8-W) is extracted from high
   resolution DEM. In order to indicate the scale-dependent behavior of the example
   embodiment, other three roughness measures (slope, Fourier transform and Haar
25 wavelet) are utilized to provide a comparative discussion with the example embodiment
   using V-system as shown in Figure 13A and 13B. Furthermore, the roughness
   parameters are calculated in moving windows with sizes of 8 x 8, 16 x 16, 32 x 32 and
   64 x 64 pixels for multiscale analysis of surface roughness. In order to discuss the scale
   effect of the V-system roughness in the example embodiment in the Orientale basin,
30 the three ring structures found within Cordillera Ring (CR): the Outer Rook Ring
   (ORR), the Inner Rook Ring (IRR) and the Inner Ring (IR). The structure of Center
   Floor (CF) is also analyzed. The impact sheet stretches out the ORR and show
   prominent roughness variations in Figure 13A and 13B in all the sizes of moving
   windows from 8 x 8 to 64 x 64. Following the increase of moving windows, the
                                                 17

   roughness contrasts of impact sheet are clearer outside of CR. Between ORR and CR,
   roughness variations in the Montes Rock Formation are characterized with map values
   from purple to light blue color. In all the scales, the roughness variations in IRR are
   stable with values from 0.25 to 0.35, which correspond with that the morphology of
 5 IRR is analogous to a peak ring. The other stable roughness variations can be seen in
   CF. The purple regions in CF corresponds to the inner depression of the mare. Between
   IR and IRR, the light blue regions associate with the morphological variations of
   Maunder formation. As the changes of moving windows, more types of colors can be
   seen in Maunder formation. This phenomenon is interpreted that example embodiment
10 has multiresolution properties and there are more detailed roughness textures at a large
   scale.
   To compare with other roughness measures, the example embodiment show more
   reasonable scale-dependent behaviors for the following reasons. First, the roughness
15 contrasts are strong enough to reflect the morphological variations in the inner
   depression, Maunder Formation and the impact sheet outside of CR with the moving
   window sizes 8 x 8. Haar wavelet can also characterize these variations. However,
   Fourier roughness fails to indicate the prominent roughness characteristics in these
   regions and slopes show less strong roughness contrasts than those in Haar wavelet and
20 the example embodiment. Moreover, when the moving window size increases, slope
   ignores the morphological variations of small units in flat plain by using low map values
   (purple color) to overlap these regions. In the moving window with size 16 x 16, the
   roughness textures of V-system are also similar as those in Haar wavelet. However,
   following the changes of moving windows (from 32 x 32 to 64 x 64), the roughness
25 textures of Haar wavelets are distorted. Some small and typical roughness variations
   are overlapped by the major and prominent roughness contrasts. Haar wavelet is
   interpreted to only use the constant (Figure 9A) for roughness calculation. As the
   expansion of Haar wavelets, V-system of example embodiment reserves the roughness
   textures affected by more different types of geological units.
30
   In order to demonstrate the reliability and practicability of V-system roughness in
   DEMs with multiresolution in example embodiment, Figures 14A to 14C show the
   histogram of V-system roughness in Maria and Figures 15A to 15C show the histogram
   of V-system roughness in Highlands based on DEMs with different resolutions (4, 8
                                              18

   and 16 pixels/degree) are calculated. The calculated region is 8 x 8 pixels. Furthermore,
   the roughness values are quantified by using RMSE and Median values. For convenient
   comparison, all the roughness values are normalized from 0 to 1. The example
   embodiment satisfies the basics of surface roughness. First, most the roughness values
 5 of Maria are lower than those of Highlands. Second, following the increase of DEM's
   resolution, the roughness contrasts of major regions become smaller and smaller
   because the data in the fixed calculated regions can characterize less information of
   terrains. Third, Figure 11 illustrates that Highlands are rougher than Maria in all the
   DEMs. This result means that the V-system roughness is a stable roughness measure.
10 The stability of roughness measure is very important because the roughness of
   geological units over a large data should be similar as the results in a small subset of
   the same data.
   The example embodiment provides a reasonable comparison between roughness
15 variations in Maria and Highlands. To observe the frequency density of map values in
   Figures 14A to 14C and Figures 15A to 15C, most of roughness values vary from 0.01
   to 0.02 based on the DEM with a resolution of 4 pixels/degree show in Figure 14A.
   Following the increase of the spatial resolutions, the percentages of the roughness
   values from 0 to 0.01 increase 7% as shown in Figure 14B and 12% as shown in Figure
20 14C, respectively. The same intervals of roughness values in Highlands are also
   increasing. Based on the DEM at a resolution of 4 pixels/degree, only 1% percentage
   of roughness values can be seen from 0 to 0.01. After that, the percentage increases
   slowly and reaches a peak with a value of 2% at the spatial resolution of 8 pixels/degree.
   As a conclusion, this result can associate with the fact that the roughness variations in
25 Highlands are much stronger than those in Maria.
   Figure 16 shows a computer system that executes and reduces central processing unit
   (CPU) time to process instructions that generates a surface roughness map in one
   example embodiment. The computer system includes one or more of a server 1310,
30 electronic device 1410 and database 1110 in communication via one or more networks
   1210.
   The server 1310 includes a processor or processing unit 1312, a memory 1314, a display
   1316, and improved map generator 1318.
                                               19

   The electronic device 1410 includes one or more of a processor or processing unit 1412,
   memory 1414, display 1416 and improved map generator 1418. Examples of an
   electronic device include, but are not limited to, laptop computers, desktop computers,
 5 tablet computers, handheld portable, electronic devices (HPEDs), and other portable
   and non-portable electronic devices.
   The database 1110 includes electronic storage or memory and can store data or other
   information to assist in executing example embodiments.
10
   The network(s) 1210 can include one or more of a wired network or wireless network,
   such as the internet, cellular network, etc.
   The processor, memory, and/or improved map generator in the server 1310 and/or
15 electronic device 1410 execute methods in accordance with example embodiments. The
   improved map generator can include software and/or specialized hardware to execute
   example embodiments.
   The processor unit includes a processor (such as a central processing unit, CPU,
20 microprocessor, microcontrollers, field programmable gate array (FPGA). application
   specific integrated circuit (ASIC), etc.) for controlling the overall operation of memory
   (such as random access memory (RAM) for temporary data storage, read only memory
   (ROM) for permanent data storage, and firmware). The processing unit and improved
   map generator communicate with each other and memory and perform operations and
25 tasks that implement one or more blocks of the flow diagrams discussed herein. The
   memory, for example, stores applications, data, programs, algorithms (including
   software to implement or assist in implementing example embodiments) and other data.
   In some example embodiments, the methods illustrated herein and data and instructions
30 associated therewith are stored in respective storage devices, which are implemented as
   computer-readable and/or machine-readable storage media, physical or tangible media,
   and/or non-transitory storage media. These storage media include different forms of
   memory including semiconductor memory devices such as DRAM, or SRAM, Erasable
   and Programmable Read-Only Memories (EPROMs), Electrically Erasable and
                                                20

   Programmable Read-Only Memories (EEPROMs) and flash memories; magnetic disks
   such as fixed and removable disks; other magnetic media including tape; optical media
   such as Compact Disks (CDs) or Digital Versatile Disks (DVDs). Note that the
   instructions of the software discussed above can be provided on computer-readable or
 5 machine-readable storage medium, or alternatively, can be provided on multiple
   computer-readable or machine-readable storage media distributed in a large system
   having possibly plural nodes. Such computer-readable or machine-readable medium or
   media is (are) considered to be part of an article (or article of manufacture). An article
   or article of manufacture can refer to any manufactured single component or multiple
10 components.
   Blocks and/or methods discussed herein can be executed and/or made by a user, a user
   agent (including machine learning agents and intelligent user agents), a software
   application, an electronic device, a computer, firmware, hardware, a process, a
15 computer system, and/or an intelligent personal assistant. Furthermore, blocks and/or
   methods discussed herein can be executed automatically with or without instruction
   from a user.
   The methods in accordance with example embodiments are provided as examples, and
20 examples from one method should not be construed to limit examples from another
   method. Further, methods discussed within different figures can be added to or
   exchanged with methods in other figures. Further yet, specific numerical data values
   (such as specific quantities, numbers, categories, etc.) or other specific information
   should be interpreted as illustrative for discussing example embodiments. Such specific
25 information is not provided to limit example embodiments.
   As used herein, "central processing unit time" or "CPU time" is an amount of time for
   a processor to execute instructions of a computer program.
30 As used herein, "DEM" or "Digital elevation model" is a digital model or 3D
   representation of a terrain's surface.
   As used herein, "orthogonality" has following definition. By using integral calculus, it
   is common to use the following to define the inner product of two functions     f and g.
                                                21

                               < f,g > =     fbf(x)g(x)dx,
  f and g  are orthogonal (with respect to this inner product) if the value of this integral
  is zero:
5                                  f  f(x)g(x)dx     = 0.
                                              22

                                           CLAIMS
   1.  A method executed by a computer system that improves calculations of surface
       roughness (R) that map a planetary surface, the method comprising:
              calculating, by the computer system, a V-system matrix with a size of a x
 5    a in an interval [0,1] such that the interval [0,1] is divided into a parts, wherein the
      V-system matrix is calculated by an integral operation based on a V-system basis
      function V1(x), x is a variable in the interval [0,1], t is a number of each part in the
      V-system matrix and t =1, 2, ... , a, a is the total number of the functions in the V
      system;
10            transforming, by the computer system, the V-system matrix into an
      orthogonal matrix (P(x));
              improving calculations of the surface roughness (R) of the planetary surface
      by calculating the surface roughness (R) of a digital elevation model (F (y))
      generated from data captured from the planetary surface, wherein (R) is expressed
15    as:
                                 R=P (x)xF (y)xP (x)'
              wherein P (x) is a moving window sliding over the digital elevation model,
      P(x)' is the conjugate transpose of P(x) and y denotes elevations in the digital
      elevation model; and
20            generating, by the computer system and based on the surface roughness (R),
      a map of the planetary surface.
   2.  The method of claim I further comprising:
              generating, by the computer system, the digital elevation model by
25    collecting data of the planetary surface using a remote sensing device.
   3.  The method of claim 1 further comprising:
              applying, by the computer system, a Gram-Schmidt process to transform
      the V-system matrix into the orthogonal matrix.
30
   4.  The method of claim 1 further comprising:
              computing, by the computer system, a V-system of degree 1, wherein the
      V-system of degree 1 is divided into n group and is defined as:
                                               23

                         V 1 (x) = 1, X E [0, 1]
                   V12,(x) =    5(1   - 2x), x E [0, 1]
                               V(1 - 4x), X e [0, )
                V1,2 (X)  =
                                 53-(4x - 1), X E [
                       V2         1  - 6x, x E [0,12),
                                  5-6x, xE [        1)
               where n<3.
                                         {
                           V1 1 (x)
                                ()=
                                Vln
                                      =
                                         {f--     V 12 [2n-2(x _
                                                V 1,2 [2      X
                                                         n-2)],
                                                                     _ )], x E (o3 r.
                                                                  2n-2
                                                                            x E(
                                                                                  2-
                                                                                         n2
                                                                                         n2
                                                           0                     others.
      where j = 1, 2,... ,2"-    2
                                   , and n = 3,4,- -.
 5
   5.   The method of claim 1 further comprising:
               calculating, by the computer system, an absolute mean value of R by
               RIO=                            R (i, j)     - R (1 1)|
                                   \ i=1 j=1                           /,
               where R is denoted by {R(1,1), R(1,2),             , R(ij) ,  , R(n,n)}, n is the
10      total number of the functions in the V-system.
   6.   The method of claim 1 further comprising:
               sliding, by the computer system, the moving window with a size selected
        from a group consisting of 8 x 8, 16 x 16, 32 x 32, and 64 x 64 pixels.
15
   7.   The method of claim 1, wherein the digital elevation model has a resolution
        selected from a group consisting of 4, 8 or 16 pixels/degree.
                                                  24

   8.   A computer system that generates an improved map showing surface roughness
        of a planetary surface, the computer system comprising:
                 a processor;
                 a display;
 5               a non-transitory computer-readable medium having stored therein
       instructions that when executed cause the processor to:
                            calculate a V-system matrix with a size of a x a in an interval
                   [0,1] such that the interval [0,1] is divided into a parts, wherein the V
                   system matrix is calculated by the integral operation based on the V
10                 system basis function Vt(x), x is a variable in the interval [0,1], t is a
                   number of each part in the V-system matrix and t =1, 2,      ... , a, a is the
                   total number of the functions in the V-system;
                             transform the V-system matrix into an orthogonal matrix (P(x));
                             reduce CPU time by calculating a surface roughness (R) for a
15                  digital elevation model (F (y)), wherein (R) is expressed as:
                                     R = P (x) x F (y) x P (x)'
                                     where P (x) is a moving window sliding over the digital
                    elevation model, P(x)' is the conjugate transpose of P(x) and y denotes
                    elevations in the digital elevation model; and
20                           generate the improved map by characterizing map values with
                    color on the display based on the surface roughness (R)
   9.   The computer system of 8 further comprising:
                 a mapper that connects with a remote sensing device, wherein the mapper
25      collects data of a terrain's surface from the remote sensing device and generates
        the digital elevation model.
   10. The computer system of 8, wherein the V-system matrix is transformed into the
        orthogonal matrix by a Gram-Schmidt process.
30
   11.  The computer system of 8, wherein the instructions when executed further cause
        the processor to compute a V-system of degree 1, wherein the V-system of degree
        1 is divided in n group and is defined as:
                                                 25

                         V 1(x) = 1, X E [0, 11
                  V121 (x) = v53(1 - 2x), x E [0, 1]
                                3/(1 - 4x), x e [0, ),
                                5()
                V I2(x) =
                                53(4.T - 1), X E [ ,)
                                 1 - 6x,     E 0, 1)
                                 5-6x,
                                   (X)       E [.,1).
         where n < 3.
                           V1 1 (z) =    {           1 [2n-2(x _
                                                  Vn-2n-2/
                                                      2
                                                          0
                                                                 j1 _2)]      E (ohr3
                                                                                    l
                                                                                 others.
                                                                                         .
                                                                                         n2
                                                    Z2V22[2n-(z
                                                                        )]n-2(n
                                                                      2)]
                           V2,j(z) ==        2V  1  n2 1          2n-22n2n2
                                                          0                      others.
      where j = 1, 2,... ,2"-    2
                                    , and n = 3,4,- -.
 5
   12. The method of claim 8 further comprising:
               calculating, by the computer system, an absolute mean value of R by
               RIO=                            R (i, j)    - R (1, 1)
                                  ( i=1 j=1                            /,
               where R is denoted by {R(1,1), R(1,2),             , R(ij) , , R(n,n)}, n is the
10      total number of the functions in the V-system.
   13.  The computer system of 8, wherein the moving window have a size selected from
        a group consisting of 8 x 8, 16 x 16, 32 x 32, and 64 x 64 pixels.
15 14. The computer system of 8, wherein the digital elevation model has a resolution
        selected from a group consisting of 4, 8 and 16 pixels/degree.
                                                   26

   15.  A method that generates an improved map showing surface roughness of a
        planetary surface, the method comprising:
                calculating, by a computer, a V-system matrix with a size of a x a in an
       interval [0,1] such that the interval [0,1] is divided into a parts, wherein the V
 5     system matrix is calculated by the integral operation based on the V-system basis
       function Vt(x), x is a variable in the interval [0,1], t is a number of each part in the
       V-system matrix and t =1, 2, ... , a, a is the total number of the functions in the V
       system;
                 transforming, by the computer system, the V-system matrix into an
10     orthogonal matrix (P(x)); and
                 generating the improved map of the surface roughness of the planetary
       surface by calculating a surface roughness (R) of a digital elevation model (F (y))
       generated from data captured from the planetary surface, wherein (R) is expressed
       as:
15                                   R = P (x) x F (y) x P (x)'
                 where P (x) is used as a moving window sliding over the digital elevation
        model, P(x)' is the conjugate transpose of P(x) and y denotes elevations in the
        digital elevation model.
20 16. The method of claim 15 further comprising:
                 generating, by the computer system, the digital elevation model by
        collecting data of a planetary surface using a remote sensing device.
   17. The method of claim 15 further comprising:
25               applying, by the computer system, a Gram-Schmidt process to transform
        the V-system matrix into the orthogonal matrix.
   18.  The method of claim 15 further comprising:
                 computing, by the computer system, a V-system of degree 1, wherein the
30      V-system of degree 1 is divided into n group and is defined as:
                                                27

                         V 1 (x) = 1, x E [0, 1]
                  V2,(x) =      5(1  - 2x), x E [0, 1]
                              JV5(1 - 4x), X E [0,       )
               V1,2 (X)  =
                                53-(4x - 1), X E [2      )
                                 1 - 6x, x E 0,      )
                  Vt 2 (    =                  12
                                 5 -6x,   X E [2 1)
                where n<3.
                                             V22 V2n-
                                                   /       2
                                                              (  _ 2   )], x E (tes      2n2)
                           V1 g(x) =
                                                            0                    others.
                           V2g(x) =     {     nn2rrn-2/
                                                 V 1 ,2[2 n-2(
                                                            0
                                                                -  2
                                                                    1
                                                                       )
                                                                           X
                                                                             E j     Ii J
                                                                                 others.
     where j = 1, 2,--     ,2"- 2
                                  , and n = 3,4,- -.
 5
   19. The method of claim 15 further comprising:
              calculating, by the computer system, an absolute mean value of R by
              R1                              R (i j) - R(1, 1)
                                  \ i=1 j=1                           /,
              where R is denoted by {R(1,1), R(1,2), ---, R(ij) , -, R(n,n)}, n is the
10     total number of the functions in the V-system.
   20. The method of claim 15 further comprising:
              sliding, by the computer system, the moving window with a size selected
       from a group consisting of 8 x 8, 16 x 16, 32 x 32, and 64 x 64 pixels.
15
                                                 28

<removed-date>
                                             1/16
              100
                    Calculating a V-system matrix with a size of ! x ! in an
                interval [0,1] such that the interval [0,1] is divided into ! parts,
<removed-apn>
                   wherein the V-system matrix is calculated by an integral
                      operation based on a V-system basis function Vt(x)
                                               102
                    transforming the V-system matrix into an orthogonal matrix
                                             (P(x))
                                              104
                   improving calculations of the surface roughness (R) of a
                planetary surface by calculating the surface roughness (R) of
                a digital elevation model (F (y)) generated from data captured
                   from the planetary surface, wherein (R) is expressed as:
                                     R = P (x) <U+2701> F (y) <U+2701> P (x)'
                                               106
                    generating an improved map of the planetary surface based
                                   on the surface roughness (R)
                                                108
                                          Figure 1

           <removed-apn>   <removed-date>
                            200
Figure 2                          2/16

           <removed-apn>   <removed-date>
                            300
Figure 3                          3/16

           <removed-apn>   <removed-date>
                           400
Figure 4                         4/16

           <removed-apn>   <removed-date>
                           500
Figure 5                         5/16

           <removed-apn>   <removed-date>
                          600
Figure 6                         6/16

           <removed-apn>   <removed-date>
            700
Figure 7                         7/16

           <removed-apn>         <removed-date>
                        800
Figure 8                               8/16

<removed-date>
                      9/16
<removed-apn>
              92
                    Figure 9A
               94
                    Figure 9B

<removed-date>
                      10/16
              102
<removed-apn>
                    Figure 10
              112
                    Figure 11

<removed-date>
                      11/16
              122
<removed-apn>
                    Figure 12A
              124
                    Figure 12B

             <removed-apn>   <removed-date>
                             132
                                   12/16
Figure 13A

             <removed-apn>   <removed-date>
                               134
                                     13/16
Figure 13B

<removed-date>
                    14/16
              142
<removed-apn>
                    Figure 14A
              144
                    Figure 14B
              146
                    Figure 14C

<removed-date>
                      15/16
              152
<removed-apn>
                    Figure 15A
              154
                    Figure 15B
              156
                    Figure 15C

<removed-date>
                                         16/16
                    162
                                        Database
<removed-apn>
                                          1110
                                    Network(s)
                                      1210
                  Server 1310                      Electronic Device 1410
              Processor        Memory              Processor     Memory
                1312            1314                 1412         1414
                     Display                              Display
                      1316                                 1416
              Improved map generator               Improved map generator
                       1318                                 1418
                                    Figure 16

