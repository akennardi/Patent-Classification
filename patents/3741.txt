ABSTRACT
        An information processing apparatus (10) includes a measurement unit (31) that
measures environmental information about an environment surrounding the information
processing apparatus (10); a reception unit (34) that receives environmental information from
an external device or a device (20) associated with the external device (20) in response to
receiving a processing request from the external device (20); a comparison unit (35) that
compares the environmental information measured by the measurement unit (31) with the
environmental information received by the reception unit (34); and a processing unit (36) that
executes a process based on the received processing request in a case where the
environmental information received by the reception unit (34) and the environmental
information measured by the measurement unit (31) that are compared by the comparison unit
(35) are determined to be measured in a same environment.

                                              -1
                                    AUSTRALIA
                                    PATENTS ACT 1990
                    COMPLETE SPECIFICATION
                             FOR A STANDARD PATENT
Name of Applicant:           Fuji Xerox Co., Ltd.
Actual Inventors:            Jiro Matsuda and Tohru Fuse
            Address for Service is:
            SHELSTON IP PTY LTD
            60 Margaret Street                 Telephone No:           (02) 9777 1111
            SYDNEY NSW 2000                    Facsimile No.           (02) 9241 4666
            CCN: 3710000352
            Attorney Code: SW
Invention Title:             Information processing apparatus, image forming apparatus, and
                             program
The following statement is a full description of this invention, including the best method of
performing it known to us:
File: 91005AUP00

                                                 -2
     INFORMATION PROCESSING APPARATUS, IMAGE FORMING APPARATUS, AND
                                             PROGRAM
DESCRIPTION
Background
Technical Field
[0001]      The present invention relates to an information processing apparatus, an image
forming apparatus, and a program.
Related Art
[0002]      Any discussion of the prior art throughout the specification should in no way be
considered as an admission that such prior art is widely known or forms part of common
general knowledge in the field.
[0003]      JP-A-2012-529873 discloses a system that tracks a position of a mobile device, such
as a mobile phone, based on communication using electromagnetic waves, and that makes
various proposals to the user based on the tracked movement pattern.
[0004]      JP-A-2014-023119 discloses position information providing device that estimates an
installation place of the device using an acceleration sensor, a gyro sensor, or the like when
the installation place of the own device is calculated based on a received positioning signal
and position information is not included in the received positioning signal.
[0005]      JP-A-2014-192813 discloses a method for estimating a position of a terminal device
based on radio wave intensity received from a wireless access point, even when the terminal
device is positioned in an indoor environment.
[0006]      In general, an authentication process using identification information, a password, or
the like is carried out for ensuring security in the authentication of an external device when the
information processing device is connected to the external device or when a processing
request from the external device is executed by the information processing device.
[0007]      Further, for more robust security protection, the information processing device may
execute only a processing request from an external device installed in a specific area.

                                               -3
[0008]     However, since the authentication process using identification information, a
password, or the like is merely performed, the information processing device executes a
processing request from the external device even when the installation place of the external
device has moved from the specific area. In such case, it is not possible to realize execution
of only a processing request from the external device installed in the specific area.
[0009]     Embodiments of the present invention seek to provide an information processing
apparatus, an image forming apparatus, and a program capable of executing a processing
request only when an external device is present in a specific environmental area.
Summary
[0010]     [1] An aspect of the present invention provides an information processing apparatus
including: a measurement unit that measures environmental information about an environment
surrounding the information processing apparatus; a reception unit that receives environmental
information from an external device or a device associated with the external device in
response to receiving a processing request from the external device; a comparison unit that
compares the environmental information measured by the measurement unit with the
environmental information received by the reception unit; and a processing unit that executes a
process based on the received processing request in a case where the environmental
information received by the reception unit and the environmental information measured by the
measurement unit that are compared by the comparison unit are determined to be measured
in a same environment.
[0011]     [2] Another aspect of the present invention provides an information processing
apparatus comprising: a measurement unit that measures environmental information about an
environment surrounding the information processing apparatus; a comparison unit that
compares environmental information included in file data generated by an external device with
the environmental information measured by the measurement unit; and a permitting unit that
permits a process for the file data in a case where the comparison unit determines that the
environmental information included in the file data and the environmental information
measured by the measurement unit that are compared by the comparison unit are determined
to be measured in a same environment.
[0012]     [3] Another aspect of the present invention may provide the information processing
apparatus according to [1], wherein the environmental information is a feature pattern obtained
based on environmental data, the measurement unit includes an acquisition unit that acquires

                                                   -4
environmental data about an environment surrounding the information processing apparatus, a
calculation unit that calculates a feature pattern based on the environmental data acquired by
the acquisition unit, and a storage unit that stores the feature pattern calculated by the
calculation unit, the comparison unit compares the feature pattern stored in the storage unit
with the feature pattern received by the reception unit, and the processing unit executes a
process based on the processing request received in a case where a matching rate between
the feature pattern stored in the storage unit and the feature pattern received by the reception
unit is equal to or higher than a predetermined threshold.
[0013]     [4] Another aspect of the present invention may provide the information processing
apparatus according to [2], wherein the environmental information is a feature pattern obtained
based on environmental data, the measurement unit includes an acquisition unit that acquires
environmental data about an environment surrounding the information processing apparatus, a
calculation unit that calculates a feature pattern based on the environmental data acquired by
the acquisition unit, and a storage unit that stores the feature pattern calculated by the
calculation unit, the comparison unit compares the feature pattern stored in the storage unit
with the feature pattern included in the file data, and the permitting unit executes a process
received in a case where a matching rate between the feature pattern stored in the storing unit
and the feature pattern included in the file data is equal to or higher than a predetermined
threshold.
[0014]     [5] Another aspect of the present invention provides an information processing
apparatus including: an acquisition unit that acquires environmental data about an environment
surrounding the information processing apparatus; a calculation unit that calculates a feature
pattern based on the environmental data acquired by the acquisition unit; a storage unit that
stores the feature pattern calculated by the calculation unit; a comparison unit that compares
the feature pattern presently calculated by the calculation unit with the feature pattern
previously calculated by the calculation unit and stored in the storage unit; and a notification
unit that notifies that an installation place of the information processing apparatus has changed
in a case where the feature pattern presently calculated by the calculation unit and the feature
pattern stored in the storage unit compared by the comparison unit are different from each
other.
[0015]     [6] It may be the information processing apparatus according to any one of [3] to [5],
wherein the calculation unit calculates the feature pattern by performing a predetermined
conversion process on the environmental data acquired during a predetermined period.

                                                -5
[0016]     [7] Another aspect of the present invention may provide the information processing
apparatus according to any one of [3] to [6], wherein the storage unit stores the feature pattern
calculated by the calculation unit in association with time related information.
[0017]     [8] Another aspect of the present invention may provide the information processing
apparatus according to [7], wherein the storage unit stores the feature pattern calculated by
the calculation unit for a combination of at least one or more of a day, a time of day, and a day
of week.
[0018]     [9] Another aspect of the present invention may provide the information processing
apparatus according to any one of [3] to [8], wherein the acquisition unit includes at least one
of an atmospheric pressure sensor, a sound sensor, an acceleration sensor, a temperature
sensor, a humidity sensor, a luminance sensor, and a magnetic sensor, and the environmental
data includes at least one of atmospheric pressure data, audio data, acceleration data,
temperature data, humidity data, luminance data, and magnetic data.
[0019]     [10] Another aspect of the present invention provides an image forming apparatus
including: the information processing apparatus according to [2]; a reception unit that receives
a print instruction from the external device; and an output unit that outputs an image on a
recording medium based on the print instruction received by the reception unit in a case where
the permitting unit permits the process.
[0020]     [11] Another aspect of the present invention provides a program for causing a
computer to execute a process including: measuring environmental information about an
environment surrounding the computer; receiving environmental information from an external
device or a device associated with the external device in response to receiving a processing
request from the external device; comparing the measured environmental information with the
received environmental information; and executing a process based on the received
processing request in a case where the measured environmental information and the received
environmental information are determined to be measured in the same environment as a result
of the comparing.
[0021]     According to the information processing apparatus of [1], it is possible to execute a
processing request only when the external device is present in a specific environmental area.
[0022]     According to the information processing apparatus of [2], it is possible that the

                                                -6
processing for the file data generated by the external device can be permitted to be carried out
only by the information processing apparatus present in the same environmental area as the
external device.
[0023]     According to the information processing apparatus of [3], it is possible to executing
the processing request only when the external device is present in a specific environmental
area.
[0024]     According to the information processing apparatus of [4], it is possible to execute a
processing for the file data only when the external device is present in a specific environmental
area.
[0025]     According to the information processing apparatus of [5], it is possible to notify that
the installation place of the information processing apparatus is changed, even if position
detection means such as a GPS is not provided.
[0026]     According to the information processing apparatus of [6], it is possible to execute the
processing request only when an external device is present in a specific environmental area.
[0027]     According to the information processing apparatus of [7], it is possible to perform a
comparison of two feature patterns in consideration of time related information.
[0028]     According to the information processing apparatus of [8], it is possible to perform a
comparison of two feature patterns in consideration of a change in the environmental data
according to a day, a time of day, a day of week, or the like.
[0029]     According to the information processing apparatus of [9], it is possible to execute the
processing request only when the external device is present in a specific environmental area.
[0030]     According to the image forming apparatus of [10], it is possible to obtain an effect
that it is possible to detect that the installation place of the image forming apparatus is
changed by the external device monitoring the environmental information transferred from the
image forming apparatus.
[0031]     According to the program of [11], it is possible to execute the processing request only
when the external device is present in a specific environmental area.

                                                  -7
Brief Description of the Drawings
[0032]     Exemplary embodiment(s) of the present invention will be described in detail based
on the following figures, wherein:
[0033]     Fig. 1 is a diagram illustrating a system configuration of an information processing
system of a first embodiment of the present invention;
[0034]     Fig. 2 is a block diagram illustrating a hardware configuration of an image forming
apparatus 10 in the information processing system of the first embodiment of the present
invention;
[0035]     Fig. 3 is a block diagram illustrating a functional configuration of the image forming
apparatus 10 in the information processing system of the first embodiment of the present
invention;
[0036]     Fig. 4 is a block diagram illustrating a hardware configuration of a terminal device 20
in the information processing system of the first embodiment of the present invention;
[0037]     Fig. 5 is a block diagram illustrating a functional configuration of the terminal device
20 in the information processing system of the first embodiment of the present invention;
[0038]     Figs. 6A to 6C are diagrams             illustrating an example of acceleration data,
atmospheric pressure data, and audio data measured by an acceleration sensor 41, an
atmospheric pressure sensor 42, and a sound collection microphone 43 of an environmental
information measurement unit 31, respectively;
[0039]     Fig. 7 is a diagram illustrating a state in which FFT is applied to the acceleration data
shown in Fig. 6A to calculate a periodogram and obtain a feature pattern of the acceleration;
[0040]     Fig. 8 is a diagram for describing a method of generating a Lissajous figure in which
acceleration data is on an X-axis and audio data is on a Y-axis to obtain a feature pattern;
[0041]     Fig. 9 is a diagram for describing an operation when a print job including
environmental information is transmitted from the terminal device 20 to the image forming
apparatus 10;
[0042]     Fig. 10 is a flowchart of an operation when the image forming apparatus 10 receives

                                                 -8
a print job including environmental information;
[0043]     Fig. 11 is a diagram for describing an operation when image file data including
environmental information is transmitted from the image forming apparatus 10 to the terminal
device 20;
[0044]     Fig. 12 is a flowchart of an operation when the terminal device 20 receives image file
data including environmental information;
[0045]     Fig. 13 is a diagram for describing a state in which the image forming apparatus 10
including the environmental information measurement unit 31 has moved from an installation
place to another place;
[0046]     Fig. 14 is a diagram illustrating an example when the image forming apparatus 10
performs displaying on an operation panel of the own apparatus to warn that an installation
place has moved;
[0047]     Fig. 15 is a diagram illustrating a system configuration of an information processing
system of a second embodiment of the present invention; and
[0048]     Fig. 16 is a flowchart of an operation when a wireless LAN terminal device 82
receiving a request for an authentication process from a portable terminal device 81 performs
a comparison of feature patterns to execute the requested authentication process.
Detailed Description
[0049]     Next, exemplary embodiments of the present invention will be described in detail
with reference to the accompanying drawings.
[First Embodiment]
[0050]     Fig. 1 is a diagram illustrating a configuration of an information processing system of
a first embodiment of the present invention.
[0051]     In the information processing system of this embodiment, an image forming
apparatus 10 and a terminal device 20 are connected to each other by a network 30 as

                                                 -9
illustrated in Fig. 1. Further, the image forming apparatus 10 is connected to a server device
50 via an Internet communication network 40.
[0052]     The terminal device 20 generates print data and transmits the generated print data to
the image forming apparatus 10 over the network 30.             The image forming apparatus 10
receives the print data transmitted from the terminal device 20, and outputs an image
according to the print data onto a paper.         Further, the image forming apparatus 10 is a
apparatus referred to as a so-called multifunction apparatus having a plurality of functions such
as a printing function, a scanning function, a copying function, and a facsimile function.
[0053]      Next, a hardware configuration of the image forming apparatus 10 in the information
processing system of this embodiment is illustrated in Fig. 2.
[0054]     The image forming apparatus 10 includes a CPU 11, a memory 12, a storage device
13 such as a hard disk drive (HDD), a communication interface (IF) 14 that performs
transmission and reception of data to and from an external device or the like over the network
30, a user interface (UI) device 15 including a touch panel or a liquid crystal display, and a
keyboard, a scanner 16, and a print engine 17, as illustrated in Fig. 2. These components are
connected to each other via a control bus 18.
[0055]     The print engine 17 prints an image on a recording medium such as printing paper
through a process such as charging, exposure, development, transfer, and fixing.
[0056]     The CPU 11 executes a predetermined process based on a control program stored
in the memory 12 or in the storage device 13 to control an operation of the image forming
apparatus 10.
[0057]     While the CPU 11 has been described as reading and executing the control program
stored in the memory 12 or the storage device 13 in this embodiment, the program may be
stored in a non-transitory computer readable medium such as a CD-ROM and provided to the
CPU 11.
[0058]      Fig. 3 is a block diagram illustrating a functional configuration of the image forming
apparatus 10 realized by the above-described control program being executed.
[0059]     The image forming apparatus 10 of this embodiment includes an environmental
information measurement unit 31, a data transfer unit 32, a print job reception unit 33, an

                                                -10
environmental information reception unit 34, a comparison unit 35, a control unit 36, and an
image output unit 37, as illustrated in Fig. 3.
[0060]    The environmental information measurement unit 31             measures environmental
information of surroundings of a place for which the image forming apparatus 10 is set.
[0061]    Specifically, the environmental information measurement unit 31            includes an
acceleration sensor 41, an atmospheric pressure sensor 42, a sound collection microphone
43, a feature pattern calculation unit 44, and a feature pattern storage unit 45.
[0062]    The acceleration sensor 41 measures a temporal change of the acceleration to
acquire acceleration data. The atmospheric pressure sensor 42 measures a temporal change
of the atmospheric pressure to acquire atmospheric pressure data.           The sound collection
microphone (sound sensor) 43 measures audio signals of surroundings to acquire audio data.
[0063]    The feature pattern calculation unit 44 calculates a feature pattern based on the
environmental data such as the acceleration data, the atmospheric pressure data, and the
audio data acquired by the acceleration sensor 41, the atmospheric pressure sensor 42, and
the sound collection microphone 43, which are acquired by the acquisition unit. Specifically,
the feature pattern calculation unit 44 calculates the feature pattern by applying Fast Fourier
transform (FFT) to the environmental data. A specific method of calculating this feature pattern
will be described in detail below.
[0064]    The feature pattern storage unit 45 stores, as environmental information, the feature
pattern calculated by the feature pattern calculation unit 44. The feature pattern storage unit
45 may store the feature pattern calculated by the feature pattern calculation unit 44 in
association with time related information. More specifically, the feature pattern storage unit 45
may store the feature pattern calculated by the feature pattern calculation unit 44 for each
combination of at least one or more of a day, a time of day, or a day of week. For example, the
feature pattern storage unit 45 may store the feature pattern for the combination of working
hours and non-working hours, a time of date such as morning, afternoon and nighttime, or
ordinal days and holidays like public holiday. More specifically, the feature pattern storage unit
45 may store the feature pattern on a specific date and time such as 15:00 on October 10.
[0065]    While the case in which three sensors including the acceleration sensor 41, the
atmospheric pressure sensor 42, and the sound collection microphone 43 are used as

                                               - 11
acquisition means for acquiring environmental data has been described in this embodiment, a
type of sensor is not limited thereto. Any one of various sensors such as the three sensors, a
temperature sensor, a humidity sensor, a luminance sensor, and a magnetic sensor, or a
combination of at least two or more thereof may be used as the acquisition means for
acquiring environmental data.
[0066]     In this case, any one of atmospheric pressure data, audio data, acceleration data,
temperature data, humidity data, luminance data, and magnetic data, or a combination of at
least two or more thereof is acquired as the environmental data.
[0067]     The data transfer      unit 32 transfers the feature pattern          measured   by the
environmental information measurement unit 31 as environmental information to another
device such as the server device 50, for example, at predetermined time intervals such as
daily or weekly.
[0068]     The print job reception unit 33 receives a print job (print instruction) from an external
device such as the terminal device 20.
[0069]     The image output unit 37 outputs an image to the recording medium based on the
print job received by the print job reception unit 33.
[0070]     When the environmental information reception unit 34 receives the print job from the
external device such as the terminal device 20, the environmental information reception unit 34
receives the environmental information from the terminal device 20 or a device associated with
the terminal device 20. In this embodiment, the environmental information reception unit 34
receives, as the environmental information, the feature pattern data included in the print job
received by the print job reception unit 33.
[0071]     The comparison unit 35 compares the environmental information received by the
environmental information measurement unit 31 with the environmental information measured
by the environmental information reception unit 34.         Specifically, the comparison unit 35
compares the feature pattern stored in the feature pattern storage unit 45 with the feature
pattern received as the environmental information by the environmental information reception
unit 34.
[0072]     When the two pieces of environmental information compared by the comparison unit
35 are environmental information measured in the same environment, the control unit 36

                                                 - 12
executes a process based on a processing request for received print job or the like (processing
unit).    Specifically, when the two compared feature patterns match each other at a
predetermined matching rate (for example, 90%) or more, the control unit 36 causes the image
output unit 37 to execute a printing process based on the received print job.
[0073]      Further, the comparison unit 35 compares the feature pattern calculated by the
feature pattern calculation unit 44 with the feature pattern based on past environmental data
stored in the feature pattern storage unit 45. When the two feature patterns compared by the
comparison unit 35 are different from each other, the control unit 36 determines that the
installation place of the image forming apparatus 10 has moved to a different environmental
area, and notifies that the installation place of the image forming apparatus 10 has changed
(notification unit).
[0074]      Specifically, the control unit 36 may notify that the installation place of the image
forming apparatus 10 has moved by transmitting an e-mail to a preset destination, or may
perform notification to the user moving the apparatus by performing displaying on the
operation panel of the apparatus to warn that the installation place has moved.
[0075]      Next, a hardware configuration of the terminal device 20 in the information
processing system of this embodiment is illustrated in Fig. 4.
[0076]      The terminal device 20 includes a CPU 51, a memory 52, a storage device 53 such
as a hard disk drive (HDD), a communication interface (IF) 54 that performs transmission and
reception of data to and from the image forming apparatus 10 over the network 30, and a user
interface (UI) device 55 including a touch panel or a liquid crystal display and a keyboard, as
illustrated in Fig. 4. These components are connected to each other via a control bus 56.
[0077]      The CPU 51 executes a predetermined process based on the control program stored
in the memory 52 or the storage device 53 to control the operation of the terminal device 20.
[0078]      While the CPU 51 has been described as reading and executing the control program
stored in the memory 52 or the storage device 53 in this embodiment, the program may be
stored in a non-transitory computer readable medium such as a CD-ROM and provided to the
CPU 51.
[0079]      Fig. 5 is a block diagram illustrating a functional configuration of the terminal device
20 realized by the above-described control program being executed.

                                                 -13
[0080]     The terminal device 20 includes an environmental information measurement unit 61,
an image data reception unit 62, an environmental information reception unit 63, a comparison
unit 64, and a control unit 65, as illustrated in Fig. 5.
[0081]     The environmental information measurement unit 61 has the same function as the
environmental information measurement unit 31 in the image forming apparatus 10 illustrated
in Fig. 3, and measures the environmental information of surroundings of a place at which the
terminal device 20 is set.
[0082]     Specifically, the environmental information measurement unit 61         includes an
acceleration sensor 71, an atmospheric pressure sensor 72, a sound collection microphone
73, a feature pattern calculation unit 74, and a feature pattern storage unit 75. Since the
acceleration sensor 71, the atmospheric pressure sensor 72, the sound collection microphone
73, the feature pattern calculation unit 74, and the feature pattern storage unit 75 have the
same functions as the acceleration sensor 41, the atmospheric pressure sensor 42, the
microphone 43, the feature pattern calculation unit 44, and the feature pattern storage unit 45
in the environmental information measurement unit 31 illustrated in Fig. 3, respectively,
description thereof will be omitted.
[0083]     The image data reception unit 62 receives image data obtained by scanning a
document from an external device such as the image forming apparatus 10. Here, this image
data has a file format and is viewable using corresponding software on the terminal device 20.
[0084]     The environmental information reception unit 63 acquires the environmental
information from the image file data received by the image data reception unit 62.
[0085]     The comparison unit 64 compares the environmental information included in the
image file data generated by the image forming apparatus 10, which is obtained by the
environmental information reception unit 63, with the environmental information measured by
the environmental information measurement unit 61.
[0086]     When the two pieces of environmental information compared by the comparison unit
64 are environmental information measured in the same environment, the control unit 65
permits a process for the image file data, that is, permits a process of viewing content
(permission means).
[0087]     Next,   a   measurement       operation   of the environmental  information   in the

                                                - 14
environmental information measurement units 31 and 61 in the image forming apparatus 10
and the terminal device 20 will be described in detail with reference to the accompanying
drawings.       While   only a measurement        operation   of the environmental     information
measurement unit 31 in the image forming apparatus 10 will be hereinafter described, the
same process is also performed in the environmental information measurement unit 61.
[0088]      First, examples of the acceleration data, the atmospheric pressure data, and the
audio data measured by the acceleration sensor 41, the atmospheric pressure sensor 42, and
the sound collection microphone 43 of the environmental information measurement unit 31 are
illustrated in Figs. 6A, 6B, and 6C, respectively.
[0089]     The feature pattern calculation unit 44 generates a periodogram by applying a
Fourier transform process to the data of a processing time in the environmental data. This
periodogram is a plot of a frequency component and amplitude thereof extracted from the
environmental data, and includes data having characteristics in an environmental area in which
the environmental information has been measured.
[0090]     A state in which FFT is applied to the acceleration data as illustrated in Fig. 6A to
calculate the periodogram and obtain a feature pattern of the acceleration is illustrated in Fig.
7.
[0091]      Further, process other than the FFT may also be applied to the environmental data
such as acceleration data to calculate the feature pattern of the environmental data.
[0092]      For example, in the calculation method illustrated in Fig. 8, a method of obtaining a
feature pattern by generating a Lissajous figure in which the acceleration data is on the X-axis
and the audio data is on the Y-axis, and obtaining a circumscribed rectangle and an inscribed
rectangle of the Lissajous figure is illustrated. In this method, for example, an allowable range
is set for the circumscribed rectangle and the inscribed rectangle of one Lissajous figure
obtained from the two compared pieces of environmental information.              When the other
Lissajous figure falls within the allowable range, the two pieces of environmental information
can be determined as matching each other.
[0093]      Next, a specific operation performed between the image forming apparatus 10 and
the terminal device 20 using the measured environmental information will be described.
[0094]      First, an operation when a print job in which the environmental information is

                                                -15
included is transmitted from the terminal device 20 to the image forming apparatus 10 as
illustrated in Fig. 9 will be described. Fig. 10 is a flowchart illustrating an operation when the
image forming apparatus 10 receives the print job in which the environmental information is
included.
[0095]      In the image forming apparatus 10, when the print job is received by the print job
reception unit 33, the environmental information reception unit 34 extracts the environmental
information, that is, feature pattern data from the print job (step S101).
[0096]     Then, the comparison unit 35 compares the feature pattern of the environmental
information received by the environmental information reception unit 34 with the feature pattern
stored in the feature pattern storage unit 45 (step S1 02).
[0097]     When the two compared feature patterns match (yes in step S103), the control unit
36 determines that the terminal device 20 is installed in the same environmental area as the
environmental area in which the image forming apparatus 10 is set, executes the print job from
the terminal device 20 received by the print job reception unit 33, and controls the image
output unit 37 so that an image based on the print job is output onto the printing paper (step
S104).
[0098]     When the two compared feature patterns do not match (no in step S103), the control
unit 36 displays an indication showing that the print job cannot be executed, for example, on
the operation panel of the image forming apparatus 10 (step S105).
[0099]      Here, the same environmental area is, for example, an area in which an environment
such as sound, vibration, temperature or humidity is considered to be substantially the same,
such as the same room, the same floor, or the same building. That is, the environmental data
measured in the same area is considered to be data specific to an environmental area thereof,
and to be an environmental data measured in another environmental area.
[0100]      For example, since there is a unique weak vibration in each building, it can be
determined whether or not the areas are within the same building by measuring vibration data.
Further, since the atmospheric pressure is low when a ground height is high, the atmospheric
pressure is low at a high floor in the same building. Therefore, by performing a comparison
using an atmospheric pressure variation as the environmental data, it can be determined
whether or not the two pieces of environmental data have been measured in the same

                                                   -16
environmental area.
[0101]      Further, since office-specific sounds such as air conditioning sounds or mechanical
sounds may be generated if the areas are within the same room such as a narrow office, it can
be determined whether or not the areas are within the same room by measuring audio data.
[0102]      In particular, it is considered that, even when the determination cannot be performed
based on only single environmental data, it can be determined whether two pieces of
environmental data has been measured to be the same environmental data by combining a
plurality of environmental data.
[0103]      Next, an operation when image file data in which the environmental information is
included is transmitted from the image forming apparatus 10 to the terminal device 20 as
illustrated in Fig. 11 will be described. Fig. 12 is a flowchart illustrating an operation when
image file data in which environmental information is included is received from the terminal
device 20.
[0104]      In the terminal device 20, when the image file data is received by the image data
reception unit 62, the environmental information reception unit 63 extracts the environmental
information, that is, the feature pattern data from the image file data (step S201).
[0105]      For example, when the user has instructed to open and view the file by double
clicking the image file data (step S202), the comparison unit 64 compares the feature pattern
received by the environmental information reception unit 63 with the feature pattern stored in
the feature pattern storage unit 75 (step S203).
[0106]     When the two compared feature patterns match (yes in step S204), the control unit
65 executes a process of determining that the terminal device 20 is installed in the same
environmental area as the environmental area in which the image forming apparatus 10 is set,
and permitting viewing of the image file data for which an instruction to open the file has been
received such that the image file data is opened and displayed on the screen (step S205).
[0107]     When the two compared feature patterns do not match (no in step S204), the control
unit 65 displays on a display of the terminal device 20 for example, an indication showing that
the image file data cannot be opened (Step S206).
[0108]      Next, an operation when the image forming               apparatus   10 including the

                                               -17
environmental information measurement unit 31 has moved from a certain installation place to
another place will be described with reference to Fig. 13.
[0109]      As described above, the comparison unit 35 compares the feature pattern calculated
by the feature pattern calculation unit 44 with the feature pattern based on past environmental
data stored in the feature pattern storage unit 45 at predetermined time intervals, such as daily.
[0110]      Therefore, when the image forming apparatus 10 has moved from a certain
installation place to a place of another environmental area as above, it is determined that the
latest feature pattern and the feature pattern based on the past environmental data stored in
the feature pattern storage unit 45, compared by the comparison unit 35, differ from each
other.
[0111]      Then, the control unit 36 determines that the installation place of the image forming
apparatus 10 has moved to another environmental area, and notifies a preset destination that
the installation place of the own apparatus has moved by transmitting an e-mail to the
destination, and performs displaying on the operation panel of the apparatus to warn that the
installation place has moved, as illustrated in Fig. 14.
[0112]      Referring to Fig. 14, it can be seen that a sentence "Please contact OOO-OAEIO
when the installation place of this apparatus has moved" is displayed on the operation panel of
the image forming apparatus 10, and a display requesting the user moving the image forming
apparatus 10 to contact a service company managing maintenance of the apparatus is
performed.
[0113]      The movement of such an image forming apparatus 10 can be detected, for
example, if a position information measurement device such as a GPS receiver is included.
However, according to the method of detecting that the image forming apparatus 10 has
moved based on the environmental data as in this embodiment, the movement can be
detected, even when the image forming apparatus 10 is installed at a place where radio waves
from a GPS satellite cannot be received.
[0114]      Further, the data transfer unit 32 transfers the feature pattern measured by the
environmental information measurement unit 31 to the server device 50, for example, at
predetermined time intervals, such as daily or weekly.            Therefore, the feature pattern
transferred to the server device 50 continues to be monitored and, when a great change in this

                                               -18
feature pattern is detected, the installation place of the image forming apparatus 10 can be
detected to have moved.
[Second embodiment]
[0115]     Next, an information processing system of a second embodiment of the present
invention will be described.
[0116]    A configuration of the information processing system of this embodiment will be
described with reference to Fig. 15. The information processing system of this embodiment
includes a portable terminal device 81 such as a smart phone having an environmental
information measurement unit 91, a wireless LAN terminal device 82, and an environmental
information measurement device 83, as illustrated in Fig. 15.
[0117]    The environmental information measurement unit 91 has the same configuration as
that of the environmental information measurement unit 31 illustrated in Fig. 3 or the
environmental information measurement unit 61 illustrated in Fig. 5, and measures the
environmental information of surroundings of the portable terminal device 81.
[0118]     Further, the environmental information measurement device 83 has the same
configuration as that of the environmental information measurement unit 31 illustrated in Fig. 3
or the environmental information measurement unit 61 illustrated in Fig. 5, and measures the
environmental information of surroundings of the own device.
[0119]    The wireless LAN terminal device 82 is a device for performing a wireless connection
with the portable terminal device 81, and performs an authentication process based on an
authentication request from the portable terminal device 81 to start the wireless connection.
[0120]    The wireless      LAN terminal     device  82   and  the    environmental    information
measurement device 83 do not necessarily need to be connected to be able to transmit and
receive data, and may be associated with each other.
[0121]     First, an operation when a comparison of feature patterns is performed in the
wireless LAN terminal device 82 receiving a request for an authentication process from the
portable terminal device 81, and the requested authentication process is executed when the
two feature patterns match, will be described with reference to a flowchart of Fig. 16.

                                               -19
[0122]     Here,     the  feature  pattern   (environmental   information)  measured     by    the
environmental information measurement device 83 is transmitted to the wireless LAN terminal
device 82 by a wired or wireless connection.
[0123]     First, when the wireless LAN terminal device 82 receives an authentication request
from the portable terminal device 81 (step S301), the wireless LAN terminal device 82 acquires
the feature pattern from the environmental information measurement device 83.
[0124]     The wireless LAN terminal device 82 compares a feature pattern included in the
authentication request from the portable terminal device 81 with the feature pattern acquired
from the environmental information measurement device 83 (step S302).
[0125]     When the two compared feature patterns match (yes in step S303), the wireless LAN
terminal device 82 determines whether the portable terminal device 81 exists in the same
environmental area as the own device, and executes the authentication process requested by
the portable terminal device 81 (step S304).
[0126]     When the two compared feature patterns do not match (no in step S303), the
wireless LAN terminal device 82 rejects the authentication process requested by the portable
terminal device 81 (step S305).
[0127]     By performing such a process, only when the portable terminal device 81 exists in
the environmental area in which the environmental information measurement device 83 is
installed (that is, environmental area in which the wireless LAN terminal device 82 is installed),
a connection between the portable terminal device 81 and the wireless LAN terminal device 82
is permitted.
[0128]     While the comparison of the two feature patterns has been performed by the
wireless LAN terminal device 82 in the above description, a process of comparing the two
feature patterns may be performed by the portable terminal device 81.
[0129]     In this case, when an environmental information reception unit in the portable
terminal device 81 receives a processing request from the wireless LAN terminal device 82,
the environmental information reception unit receives the environmental information directly
from the wireless LAN terminal device 82 or receives the environmental information from the
environmental information measurement device 83 associated with the wireless LAN terminal
device 82.

                                              -20
[0130]     In the portable terminal device 81,    the received environmental information is
compared with the environmental information measured by the environmental information
measurement unit 91 of the portable terminal device 81, and the requested process is
executed when the two compared environmental information match.
[Modification example]
[0131]     The case in which each of the image forming apparatus 10 and the terminal device
20 measures the environmental information, the image forming apparatus 10 or the terminal
device 20 confirms that the measured pieces of environmental information match, and the
image forming apparatus 10 executes the print job from the terminal device 20 or the image
forming apparatus 10 permits viewing of the image file from the terminal device 20, has been
described in the first embodiment, but the present invention is not limited thereto. The present
invention can be similarly applied to a case in which each of the information processing
apparatus and an external device different from the information processing apparatus may
measure the environmental information, the information processing apparatus confirms that
the pieces of measured environmental information match and execute a specific process such
as a processing request from the external processing device.
[0132]     Further, while the case in which each of the portable terminal device 81 and the
environmental information measurement device 83 measures the environmental information,
and the wireless LAN terminal device 82 confirms that the pieces of measured environmental
information match each other and authenticates a wireless connection between the wireless
LAN terminal device 82 and the portable terminal device 81 has been described in the second
embodiment, the present invention is not limited thereto.       The present invention can be
similarly applied to a case in which each of a movable information processing apparatus and a
usually installed information processing apparatus measures environmental information, and
any one of the information processing apparatuses confirms that the measured pieces of
environmental information match, and executes a processing request from the other
information processing apparatus.
[0133]     Unless the context clearly requires otherwise, throughout the description and the
claims, the words "comprise", "comprising", and the like are to be construed in an inclusive
sense as opposed to an exclusive or exhaustive sense; that is to say, in the sense of
"including, but not limited to".

                                                - 21
[0134]     The foregoing description of the exemplary embodiments of the present invention
has been provided for the purposes of illustration and description. It is not intended to be
exhaustive or to limit the invention to the precise forms disclosed. Obviously, many
modifications and variations will be apparent to practitioners skilled in the art. The
embodiments were chosen and described in order to best explain the principles of the
invention and its practical applications, thereby enabling others skilled in the art to understand
the invention for various embodiments and with the various modifications as are suited to the
particular use contemplated.     It is intended that the scope of the invention be defined by the
following claims and their equivalents.

                                               - 22
CLAIMS
What is claimed is:
1.     An information processing apparatus comprising:
        a measurement unit that measures environmental information about an environment
surrounding the information processing apparatus;
        a reception unit that receives environmental information from an external device or a
device associated with the external device in response to receiving a processing request from
the external device;
        a comparison unit that compares the environmental information measured by the
measurement unit with the environmental information received by the reception unit; and
        a processing unit that executes a process based on the received processing request in
a case where the environmental information received by the reception unit and the
environmental information measured by the measurement unit that are compared by the
comparison unit are determined to be measured in a same environment.
2.      An information processing apparatus comprising:
        a measurement unit that measures environmental information about an environment
surrounding the information processing apparatus;
        a comparison unit that compares environmental information included in file data
generated by an external device with the environmental information measured by the
measurement unit; and
        a permitting unit that permits a process for the file data in a case where the comparison
unit determines that the environmental information included in the file data and the
environmental information measured by the measurement unit that are compared by the
comparison unit are determined to be measured in a same environment.
3.     The information processing apparatus according to claim 1,
        wherein the environmental information is a feature pattern obtained based on
environmental data,
        the measurement unit includes
                an acquisition unit that acquires environmental data about an environment

                                                - 23
surrounding the information processing apparatus,
                a calculation unit that calculates a feature pattern based on the environmental
data acquired by the acquisition unit, and
                a storage unit that stores the feature pattern calculated by the calculation unit,
        the comparison unit compares the feature pattern stored in the storage unit with the
feature pattern received by the reception unit, and
        the processing unit executes a process based on the processing request received in a
case where a matching rate between the feature pattern stored in the storage unit and the
feature pattern received by the reception unit is equal to or higher than a predetermined
threshold.
4.      The information processing apparatus according to claim 2,
        wherein the environmental information is a feature pattern obtained based on
environmental data,
        the measurement unit includes
                an acquisition unit that acquires environmental data about an environment
surrounding the information processing apparatus,
                a calculation unit that calculates a feature pattern based on the environmental
data acquired by the acquisition unit, and
                a storage unit that stores the feature pattern calculated by the calculation unit,
        the comparison unit compares the feature pattern stored in the storage unit with the
feature pattern included in the file data, and
        the permitting unit executes a process received in a case where a matching rate
between the feature pattern stored in the storing unit and the feature pattern included in the file
data is equal to or higher than a predetermined threshold.
5.      An information processing apparatus comprising:
        an acquisition unit that acquires environmental data about an environment surrounding
the information processing apparatus;
        a calculation unit that calculates a feature pattern based on the environmental data
acquired by the acquisition unit;
        a storage unit that stores the feature pattern calculated by the calculation unit;

                                                 -24
         a comparison unit that compares the feature pattern presently calculated by the
calculation unit with the feature pattern previously calculated by the calculation unit and stored
in the storage unit; and
         a notification unit that notifies that an installation place of the information processing
apparatus has changed in a case where the feature pattern presently calculated by the
calculation unit and the feature pattern stored in the storage unit compared by the comparison
unit are different from each other.
6.      The information processing apparatus according to any one of claims 3 to 5,
         wherein the     calculation unit    calculates the feature      pattern  by performing   a
predetermined conversion process on the environmental data acquired during a predetermined
period.
7.      The information processing apparatus according to any one of claims 3 to 6,
         wherein the storage unit stores the feature pattern calculated by the calculation unit in
association with time related information.
8.      The information processing apparatus according to claim 7,
         wherein the storage unit stores the feature pattern calculated by the calculation unit for
a combination of at least one or more of a day, a time of day, and a day of week.
9.      The information processing apparatus according to any one of claims 3 to 8,
         wherein the acquisition unit includes at least one of an atmospheric pressure sensor, a
sound sensor, an acceleration sensor, a temperature sensor, a humidity sensor, a luminance
sensor, and a magnetic sensor, and
         the environmental data includes at least one of atmospheric pressure data, audio data,
acceleration data, temperature data, humidity data, luminance data, and magnetic data.
10.     An image forming apparatus comprising:
         the information processing apparatus according to claim 2;
         a reception unit that receives a print instruction from the external device; and
         an output unit that outputs an image on a recording medium based on the print
instruction received by the reception unit in a case where the permitting unit permits the
process.

                                            - 25
11.     A program for causing a computer to execute a process comprising:
        measuring environmental information about an environment surrounding the computer;
        receiving environmental information from an external device or a device associated
with the external device in response to receiving a processing request from the external
device;
        comparing the measured environmental information with the received environmental
information; and
        executing a process based on the received processing request in a case where the
measured     environmental  information and the received environmental      information are
determined to be measured in the same environment as a result of the comparing.

                                             1/16
FIG. 1
       SAME ENVIRONMENTAL AREA
                                   IMAGE
                                  FORMING             INTERNET
                                 APPARATUS          COMMUNICATION
                                     10               NETWORK       SERVER DEVICE
                                                          40             50
                 30
        20
<removed-date>     <removed-apn>

                                            2/16
FIG. 2
                            IMAGE FORMING APPARATUS
                                       10
                    11          12             13                 14
                                                                           TO TERMINAL DEVICE 20
                                                                           AND SERVER DEVICE 50
                CPU       MEMORY         STORAGE           COMMUNICATION
                                          DEVICE                IF
                                                      18
              UI DEVICE   SCANNER      PRINT ENGINE
              15           16             17
<removed-date>        <removed-apn>

                                                         3/16
FIG. 3                                   IMAGE FORMING APPARATUS
                  TO SERVER DEVICE 50            10
                        DATA               ENVIRONMENTAL INFORMATION          ACCELERATION
                                               MEASUREMENT UNIT 44                           41
                      TRANSFER                                                  SENSOR
                        UNIT
                                                               FEATURE        ATMOSPHERIC
                                                                               PRESSURE      42
                                               FEATURE         PATTERN
                                               PATTERN       CALCULATION        SENSOR
                       32      31              STORAGE           UNIT            SOUND       43
                                                 UNIT                         COLLECTION
                                                             45               MICROPHONE
                                    35       COMPARISON                                 36
                                                                       CONTROL UNIT
                                                UNIT
                                            ENVIRONMENTAL         34
                              33             INFORMATION                         37
                                            RECEPTION UNIT
  FROM TERMINAL
    DEVICE 20
                         PRINT JOB                                     IMAGE OUTPUT
                       RECEPTION UNIT                                      UNIT
<removed-date>        <removed-apn>

                                         4/16
FIG. 4
                                         TERMINAL DEVICE
                                               20
                                    51                52          53
                                CPU             MEMORY      STORAGE
                                                             DEVICE
                                                             56
         TO IMAGE FORMING
           APPARATUS 10
                            COMMUNICATION       UI DEVICE
                                 IF
                               54                55
<removed-date>    <removed-apn>

                                                    5/16
FIG. 5                                        TERMINAL DEVICE
                                                   20
                                             ENVIRONMENTAL INFORMATION          ACCELERATION   71
                                                 MEASUREMENT UNIT 74              SENSOR
                                                                  FEATURE       ATMOSPHERIC
                                                                                 PRESSURE      72
                                                FEATURE           PATTERN
                                                PATTERN         CALCULATION       SENSOR
                                   61           STORAGE             UNIT           SOUND       73
                                                  UNIT                          COLLECTION
                                                              75                MICROPHONE
                                        64    COMPARISON                                  65
                                                                         CONTROL UNIT
                                                 UNIT
                                             ENVIRONMENTAL         63
                              62              INFORMATION
                                             RECEPTION UNIT
   FROM IMAGE FORMING
      APPARATUS 10
                          IMAGE DATA
                        RECEPTION UNIT
<removed-date>       <removed-apn>

<removed-apn> <removed-date>
                                    7/16
FIG. 7
                                                       FEATURE PATTERN OF ACCELERATION
                                                                 PERIODOGRAM
      ACCELERATION DATA
                              FFT
                                           AMPLITUDE
                                                                 FREQUENCY
<removed-date>      <removed-apn>

                                8/16
FIG. 8
                                          LISSAJOUS FIGURE
    X AXIS: ACCELERATION DATA
                                               Y AXIS
                                                        CIRCUMSCRIBED RECTANGLE
                                                                   X AXIS
     Y AXIS: AUDIO DATA
                                       INSCRIBED
                                       RECTANGLE
<removed-date>        <removed-apn>

                                       9/16
FIG. 9
                                   PRINT JOB
                                                       IMAGE FORMING APPARATUS
                                                          10
         20                ENVIRONMENTAL INFORMATION
                                (FEATURE PATTERN)
<removed-date>   <removed-apn>

                                         10/16
<removed-date>
              FIG. 10
<removed-apn>
                                                      START
                                                                        S101
                                                 RECEIVE PRINT JOB
                                                                        S102
                                          COMPARE FEATURE PATTERNS
                                                                     S103
                                  NO              DO TWO
                                         COMPARED FEATURE PATTERNS
                                                  MATCH?
                                       S105               YES
                 DISPLAY INDICATION                                     S104
                SHOWING THAT PRINT            EXECUTE PRINT JOB
                   JOB CANNOT BE
                     EXECUTED
                                                       END

                                       11/16
FIG. 11
                                 IMAGE FILE DATA
                                                        IMAGE FORMING APPARATUS
                                                           10
          20                ENVIRONMENTAL INFORMATION
                                 (FEATURE PATTERN)
<removed-date>    <removed-apn>

                                         12/16
<removed-date>   FIG. 12
<removed-apn>
                                                      START
                                                                           S201
                                              RECEIVE IMAGE FILE DATA
                                                                           S202
                                              INSTRUCT TO OPEN FILE
                                                                           S203
                                          COMPARE FEATURE PATTERNS
                                                                        S204
                                  NO              DO TWO
                                         COMPARED FEATURE PATTERNS
                                                  MATCH?
                                       S206               YES
                 DISPLAY INDICATION                                        S205
                SHOWING THAT IMAGE             OPEN IMAGE FILE DATA
                FILE DATA CANNOT BE
                      OPENED
                                                       END

                                              13/16
FIG. 13
    SAME ENVIRONMENTAL AREA
                                    IMAGE FORMING          IMAGE FORMING APPARATUS
                                      APPARATUS               10
                                    10
        ENVIRONMENTAL INFORMATION
            MEASUREMENT UNIT
                              31                      31
<removed-date>     <removed-apn>

                                        14/16
FIG. 14
                                 NOTICE
                       PLEASE CONTACT OOO-O       O
                          WHEN THE INSTALLATION
                         PLACE OF THIS DEVICE HAS
                                 MOVED.
                                                          10
                                                      IMAGE FORMING APPARATUS
<removed-date>   <removed-apn>

                                           15/16
FIG. 15
          SAME ENVIRONMENTAL AREA                      82
                                                    WIRELESS LAN
                                                   TERMINAL DEVICE
               ENVIRONMENTAL INFORMATION
                   MEASUREMENT UNIT
                                 91                ENVIRONMENTAL
                                                     INFORMATION
                                                    MEASUREMENT
                                                        DEVICE
                     81                                     83
<removed-date>   <removed-apn>

                                              16/16
<removed-date>
              FIG. 16
<removed-apn>
                                                        START
                                                                            S301
                                                RECEIVE AUTHENTICATION
                                                       REQUEST
                                                                            S302
                                               COMPARE FEATURE PATTERNS
                                                                         S303
                                  NO                   DO TWO
                                              COMPARED FEATURE PATTERNS
                                                       MATCH?
                                                           YES
                                       S305
                                                                            S304
               REJECT AUTHENTICATION            RECEIVE AUTHENTICATION
                     PROCESS                           REQUEST
                                                         END

