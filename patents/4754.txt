                                       Abstract
Various embodiments include apparatus and methods related to finding a position in an
underground formation. Apparatus and methods can include receiving signals from a
receiver in an underground formation in response to signals generated from
transmitting sources, each of the transmitting sources located at a known position; and
processing the received signals, based on the signals generated from the transmitting
sources, to determine the position of the receiver. A number of techniques can be
applied to processing the received signal. Additional apparatus, systems, and methods
are disclosed.

                                  1116
                       t x1 Surface          Rig    t X2
                                  Fig.     1
                                                 204
                                       Tx                Sufc
                                                   59 6
         Rf96 19
        r                                                   9
                          Pr=6
vie6 96
                 6Fig.                    2

                                                  1
          Apparatus and methods to find a position in an underground formation
            This application    is a divisional     of Australian  Patent Application    No.
   <removed-apn>, itself a divisional of Australian Patent Application No. 2012397815, the
 5 entire contents of which are incorporated herein by reference.
                                         Technical Field
           The present invention relates generally to apparatus and method for making
   measurements related to oil and gas exploration.
10
                                          Background
           In drilling wells for oil and gas exploration, understanding the structure and
   properties of the associated geological formation provides information to aid such
   exploration. Data to provide the information may be obtained using sensors located in
15 an     underground       formation    at     large    distances   from     the    surface.
   Knowing the position of these sensors in the underground formation can be used to
   formulate the information for exploration. Systems and techniques to determine the
   position of sensors in the underground formation can enhance the analysis process
   associated with a drilling operation.
20
                                Brief Description of the Drawings
           Figure 1 shows an example placement of transmitters and a receiver, which
   placement can be used to determine the position of the receiver, in accordance with
   various embodiments.
25         Figure 2 shows a simulation setup for the analysis of the effect of frequency, in
   accordance with various embodiments.
            Figures 3A-B show depth vs. voltage levels of received signals for different
   frequencies for the simulation setup of Figure 2, in accordance              with various
   embodiments.
30         Figures 4A.-B show depth vs. voltage levels of received signals for varying
   formation resistivities at a fixed operation frequency for the simulation setup of Figure
   2, in accordance with various embodiments.
           Figures 5A-B show depth vs. voltage levels of received signals for varying
   formation resistivities at another fixed operation frequency for the simulation setup of
35 Figure 2, in accordance with various embodiments.

                                       1A
        Figure 6 shows features of an example inversion scheme to determine the
position of a receiver in an underground formation, in accordance with various
embodiments.

            Figure 7 shows features of an example of a constrained inversion scheme
   to determine the position of a receiver in an underground formation, in
   accordance with various embodiments.
            Figure 8 shows features of a simulation to verify an inversion scheme
 5 and to analyze the accuracy obtained in determining the position of one or more
   sensors for different system configurations, in accordance with various
   embodiments.
            Figure 9 shows a simulation geometry for a positioning system with two
   x--directed transmitters at the surface, in accordance with various embodiments.
10          Figures 10 A-E show results of a Monte Carlo simulation for the
   simulation geometry of Figure 9, in accordance with various embodiments.
            Figures 1 A-E show results of a Monte Carlo simulation for the
   positioning system of figure 9 where a second receiver is used, whose position is
   constrained with respect to a first receiver, in accordance with various
15 embodiments.
            Figure 12 shows a simulation geometry for a two transmitter positioning
   system, where one of the transmitters is underground, in accordance with various
   embodiments.
            Figures 13A-E show results of a Monte Carlo simulation for the
20 positioning system of Figure 12, in accordance with various embodiments.
            Figure 14 shows a simulation geometry for a positioning system with
   four triad type transmitters, in accordance with various embodiments.
            Figures 15A-E shows results of a Monte Carlo simulation for the
   positioning system of Figure 14, in accordance with various embodiments.
25          Figure 16 shows a two-dimensional example with transmitters on the
   surface and a receiver underground to illustrate a method to find the position of
   the receiver relative to the sources from the known orientations of the sources., in
   accordance with various embodiments.
            Figure 17 shows a two-dimnemisional example with transmitters on the
30 surface and a receiver underground in which the receiver has a reference
   direction, in accordance with various embodiments.
            Figure 18 shows a three-dimensional example with transmitters on the
   surface and a receiver underground in which the receiver has no reference

   direction, in accordance with various embodinents.
           Figures 19A- B show Monte Carlo simulation results using a semi
   analytical solution for the positioning system shown in Figure 9, in accordance
   with various embodiments.
 5         Figure 20 shows an electric field at the receiver, due to a magnetic
   dipole, that is normal to the plane where receiver and transmitter are located, in
   accordance with various embodiments.
           Figure 21 shows a simulated system for electric field based positioning
   system, in accordance with various embodiments.
10         Figures 22A-C show Monte Carlo simulation results using an electric
   field based positioning system of Figure 21, in accordance with various
   embodiments.
           Figure 23 depicts a block diagram of features of an example system to
   find a position in an underground formation, in accordance with various
15 embodiments.
                                   Detailed Description
           The following detailed description refers to the accompanying drawings
   that show, by way of illustration and not limitation, various embodiments in
20 which the invention may be practiced. These embodiments are described in
   sufficient detail to enable those skilled in the art to practice these and other
   embodiments. Other embodiments may be utilized, and structural, logical, and
   electrical changes may be made to these embodiments. The various
   embodiments are not necessarily mutually exclusive, as some embodiments can
25 be combined with one or more other embodiments to form new embodiments.
   The following detailed description is, therefore, not to be taken in a linimting
   sense.
           In various embodiments, systems and methods to find the position of an
   underground receiver can include locating the position of the receiver, or
30 receivers, from measurements taken by the receivers and the known positions of
   the sources that generate the signals for the measurements. Sources can be used
   that are placed at known positions either at the surface or below the surface of
   the earth with the receiver or receivers located underground. The position of
                                              3

   underground receiver(s) from the measurements of the signals, generated by a
   number of transmitting sources whose positions are known precisely, may be
   determined.
           Electromagnetic type transmitting sources and receivers can be used in
 5 systems to determine a position underground. Such transmitting sources can
   include, but are not limited to, dipole transmitters, sources generating large
   distribution of current aboveground or near ground that generate electromagnetic
   fields below ground, where the electromagnetic fields measurable at the receiver,
   or other sources that can generate a signal measurable at a receiver deep in an
10 underground formation. Dipoles of sources can be oriented in a direction
   perpendicular to the area of interest, where the area of interest includes a
   receiving source to be located. This orientation can account for a null point
   along the direction of the dipole. Transmitting sources can be realized by one or
   more triad transmitters. A triad transmitter is a structure having three
15 transmitting sources at the same location, where the position or orientation of the
   three transmitting sources is different from each other. The three transmitting
   sources of the triad can be mounted on the same structure at a given location.
   Transmitting sources aboveground or near ground can be operated to generate
   signals having a low frequency to penetrate deeply underground such that the
20 signals are measurable in an underground volume extending from a hundred feet
   to thousands feet in depth and from a hundred feet to thousands of feet across the
   depth. Alternatively, other types of transmitters used in oilfield exploration
   industry, such as, but not limited to, acoustic sensors and seismic sensors, can be
   used in systems to determine a position underground. The number of
   transmitting sources may include three or more transmitting sources. In an
   embodiment, three transmitting sources can be realized by a single triad
   transmitter.
           The receiver or receivers can be controlled by electronics disposed
   underground. In addition, a processing unit can be located downhole to analysis
30 the signals received by the receiver. The processing unit can be realized by
   electronics integrated with the receiver, where the information concerning the
   known locations of the transmitting sensors is stored with the electronics along
   with instructions to process the signals. The processing unit can be realized by
                                              4

   electronics disposed on the structure on which the receiver is disposed and
   separated from the receiver. The processing unit and receiver control located
   downhole can allow for automated geosteering. Alternatively, the processing
   unit can be located at the surface, responsive to receiving the signals or data
 5 regarding the signals frotn the receiver.
            Figure 1 shows an example embodiment of placement of transmitters and
   a receiver, which placement can be used to determine the position of the
   receiver. In Figure 1, three transmitters, denoted as Txi, Tx2, and Txl, are
   illustrated, as an example, in different locations with respect to a receiving
10 sensor, Rx 1 . Tx1 and Tx2 are on surface 104, while Tx 3 is underground inside a
   well different from the one in which Rxj is disposed. This figure is a 2
   dimensional (2D) figure, shown for illustration purposes, in which the
   transmitters line in the same plane. In various embodiments, transmitting
   sources used to locate the position of a receiving sensor lie in a plane common to
15 no more than two transmitters and the receiver sensor. With the transmitting
   sensors satisfying this condition, better resolution can be obtained in the received
   signals in a measurement process. In addition, the number of transmitters, the
   number or receivers, or the number of transmitters and receivers can be
   increased to improve resolution.
20           The number of transmitters and transmitter locations can also be
   optimized using known optimization techniques, depending on the application.
   However, in the discussion of embodiments, the effects of the number of
   transmitters and their locations are analyzed using numerical modeling results.
   Receiver sensors and transmitters were selected to be triads antennas, as
   illustrated in Figure 1, in simulations to improve inversion accuracy, although
   that is not necessary for the operation of embodiments of methods to determine a
   position in an underground formation. As shown in Figure 1, transmitting
   sources TxI, TX2, and Tx 3 structured as three triads can provide 9 transmitting
   sources at three locations, with 9 positions or orientations. Receiving sensor,
30 Rx], can also be structured as a triad receiving sensor having three receivers at
   one location with three positions or orientations.
            Increasing the number of transmitting sources with each transmitting
   source at a known location can increase the amount of information used to
                                              5

   determine the position of a receiver or receivers in underground formations. In
   addition, the transmitting sources are not limited to using the same type of
   transmitting source. For example, arrangements can include two triad
   transmitters among three or more transmitters distributed over a significantly
 5 large region. Other arrangements can include a transmitting source structured as
   a circuit distributed over a significantly large region on the surface or near the
   surface. The circuit can include a closed loop having a current-carrying wire,
   where the current-carrying wire is at a known position and the current-carrying
   wire is arranged along a straight-line path such that signals received at the
10 receiver from the closed loop are negligible from portions of the closed loop that
   follow a path different from the straight-line path. The signal at the receiver can
   be primarily provided by this single curren-carrying wire with the other portions
   of the circuit that close the loop located at such distances from the receiver that
   signals from these other portions are effectively attenuated prior to the receiver.
15 Alternatively, a transmitting source can be structured as a circuit having a closed
   loop with a number of current-carrying wires with each current-carrying wire
   being at a known position and arranged along a straight-line path such that
   signals received at the receiver from the closed loop are negligible from portions
   of the closed loop that follow a path different from these respective straight-line
20 paths. The received signals at the receiver can be processed based on a model of
   the number of current-carrying wires and their corresponding straight-line paths.
            Low frequency electromagnetic waves can penetrate deeply below the
   surface of the earth. By using low frequency sources (f<10Hz), the fields
   generated by the sources will be measurable at positions buried deeply
   underground. In an embodiment, low frequency sources having a frequency less
   than or equal to 50 Hz can be used. A receiver placed in a borehole under the
   surface can measure the signals generated by the sources. These signals from
   each one of the sources can be processed to find the distance, orientation, or both
   distance and orientation. In various embodiments, position determination at
30 depths as large as 10,000 meters may be performed.
           A first consideration includes the effect of frequency on the signals that
   penetrate the formation. As frequency increases, attenuation underground
   increases such that, at higher frequencies, attenuation is more severe and could
                                              6

   reduce signals below the noise level. Another factor to consider is that higher
   frequencies are also more sensitive to the formation, which can significantly
   affect the received signal. That is, at higher frequencies, the solution for the
   position of a receiver(s) would be sensitive to the parameters of the complex and
 5 in most cases not accurately known formation information. Example
   embodiments of methods to determine a position underground can be performed
   under a single frequency operation. However, in other embodiments, features of
   methods to determine a position underground can be performed tinder a multi
   frequency operation.
10          Figure 2 shows a simulation setup for the analysis of the effect of
   frequency. To analyze the effect of frequency, the variation of the signal level
   with depth is computed as a function of frequency when a single transmitter is
   present. Transmitter and receiving sensor were simulated as coil antennas with
   their normal parallel to the radial direction of earth. Henceforth, the axis normal
15 to the surface of earth will be denoted as z-axis. With this convention, the
   simulated case shows the ZZ-coupling. Other orthogonal components (XX
   coupling and YY-coupling) show similar characteristics and are not shown.
            In this simulation, receiving sensor Rx is directly below the transmitter
   Tx. For illustration purposes, both the receiver and transmitter coils are assumed
20 to have a unit area with 400 turns each and the transmitter is assumed to carry 25
   A current. Design parameters can vary as dictated by engineering concerns for a
   given application. However, to be able to transmit signal to such great depths,
   transmitted power level should be high and the receiving sensor structured as a
   highly sensitive receiver. This concern for power level may also make putting
25 transmitters on the surface 204 more practical than cases where some or all of
   the transmitters are tinder ground. Formation parameters used in the simulation
   are also shown in Figure 2. A somewhat worst-case scenario with a conductive
   formation of resistivity, Rf, equal to 1 Q-m was considered. Relative
   permittivity ()    and permeability (it) were selected as 5 and 1, respectively.
30          Figures 3A-B show depth vs. voltage levels of received signals for
   different frequencies for the simulation setup of Figure 2. Figure 3A shows the
   change of the absolute value of the voltage with depth for four different
   frequencies, and Figure 3B shows the change of the phase of the voltage with

   depth for the four different frequencies. Curves 342, 344, 346, and 348 show
   depth as a function of the absolute value of voltage at frequencies of 0.01 Hz, 0.1
   Hz, I Hz, and 10 Hz, respectively. Curves 352, 354, 356, and 358 show depth as
   a function of the phase of the voltage at frequencies of 0.01 Hz, 0.1 Hz, 1 Hz,
 5 and 10 Hz, respectively. For 1Hz and 10 Hz, signal quickly attenuates. Wrap
   around in the phase can also be seen which can make the inversion difficult. In
   comparison, as the frequency gets lower, signal attenuation becomes less of a
   problem. However, for these lower frequencies, initial strength of the signal is
   already low. Thus, even for 0.01 Hz and 0.1 Hz, the voltage level goes to as low
10 as 10 fentoVolts at 10,000 m for the simulated transmitter and receiver
   configurations. Results suggest that for the parameters used there is little
   improvement in attenuation for frequencies lower than 0.1 Hlz. Thus, in other
   simulations discussed herein, the frequency of operation was assumed to be 0.1
   Hz.
15          Figures 4A-B show depth vs. voltage levels of received signals for
   varying formation resistivities at a fixed operation frequency. To analyze the
   effect of formation resistivity, the same setup shown in Figure 2 was used with
   the frequency set to a constant 0. 1 Hz and the formation resistivity varied
   between 0.1 0-ni to 100 0--m. Curves 442, 444, 446, and 448 show depth as a
20 function of the absolute value of voltage at formation resistivities of 0.1 Q-m, 1
   0-r, 10 Q-m, and 100 Q-m, respectively. Curves 452, 454, 456, and 458 show
   depth as a function of the phase of the voltage at formation resistivities of 0.1 0
    i, I Q--m, 10 Q-in, and 100 -n-m, respectively. Effect of formation resistivity
   on the received signal can be seen to be small except for extremely conductive
25 formations. Thus, this effect can be neglected, or it can be eliminated using a
   basic correction scheme. Nevertheless, for examples discussed herein, formation
   resistivity was assumed to be exactly known.
            Figures 5A-B show depth vs. voltage levels of received signals for
   varying formation resistivities at another fixed operation frequency, in
30 accordance with various embodiments. The same setup shown in Figure 2 was
   used with the frequency set to a constant 0.01 Hz and the formation resistivity
   varied between 0.1 0-m to 100 Q-m. Curves 542, 544, 546, and 548 show depth
   as a function of the absolute value of voltage at formation resistivities of 0.1 0
                                             8

   m, I 0-n, 10 0-n, and 100 0-m, respectively. Curves 546 and 548 overlap
   such that the differences are not discernible at the scales of Figure 5A. Curves
   552, 554, 556, and 558 show depth as a function of the phase of the voltage at
   formation resistivities of 0.1 Q-n, 1 0-m, 10 0-rn, and 100 Q-m, respectively.
 5 Results for 0.01 Hz shown in Figure 5 exhibit very little dependence oi the
   formation resistivity for the depth range considered. However, such a low
   frequency may cause difficulties in an implementation of the system hardware.
            Figure 6 shows features of an example inversion scheme to determine the
   position of a receiver in an underground formation. This inversion scheme
10 demonstrates how the position of the receiving sensor may be determined using
   an array of transmitters at previously known locations. At 610, the measurement
   of signals due to N different transmitters at the receiver is acquired. These
   signals are combined into a column vector, denoted as V, at 620. Although a
   single receiver relative to N transmitters is discussed at 610 and 620, more
15 complicated measurements can be considered in a similar or identical manner.
   For example, if receivers or transmitters are multi-component, each individual
   entry (VrxIp)   becomes a vector with individual components as the element of the
   vector. Examples of such receivers and transmitters include triad receivers and
   triad transmitters. If there are multiple frequencies, results of these
20 measurements may be appended to the measurement vector and so on. Once this
   voltage is obtained, it may be further processed depending on the application,
   For example, if signal front one of the transmitters is too strong compared to the
   others, amplitudes of received signal from different transmitters may be
   normalized to ascertain that weight of each transmitter in the inversion is same.
25          In the inversion scheme, the determination of the position and the
   direction of the receiving sensor(s) is the object of interest. Thus, parameters of
   interest are denoted as the location of the receiver sensor (x, y, z), its azimuth
   (0), and its elevation angle (p). At 630, an initial guess of the location and
   direction parameters (x', y', z', 0', Q') is made. The signal corresponding to an
30 initial guess of the location and direction parameters (x', y', z', 0', Q') is
   simulated using a forward model, which is denoted as V' at 640. As in every
   inversion scheme, an accurate forward model that relates parameters to be
   inverted to the measured signal is used in this method.
                                               9

            At 650, the norm of the difference between V and V is compared to a
   threshold. If the norn of the difference between V and V is lower than a
   predetermined threshold, the processing may stop and the processed parameters
   (x', y', Z, 0', p') may be deemed to be accurate approximations to the true
 5 parameters (x, y, z, 0, p), at 660. Other convergence criteria may also be applied
   in this step.
            If convergence is not satisfied, an iteration number can be increased by
   one, at 670. To prevent, for example, infinite simulations for cases where no
   solution below the threshold is possible such as at highly noisy environments, or
10 to restrict the simulation time, the number of iterations may be compared with a
   previously set maximum iteration number, at 680. If the maximum number of
   iterations is reached, the processing may stop with the latest guess, or a previous
   guess that minimized the error, returned as the answer, at 685. Otherwise, the
   parameter guess vector is updated at 690, V' is simulated again, at 640, based on
15 this guess and the above process of comparing the process signal with the
   measured signal and subsequent comparisons can be repeated. The update of the
   guess vector may be based on the calculation of a gradient that minimizes the
   error,
            Alternative inversion schemes may be used with equal success. Such
20 inversion schemes can include using a lookup table. Another alternative
   inversion scheme can include applying a brute force search method that tries a
   large number of possible input combinations and selects the one that minimizes
   the error between the measured data and the forward model. Alternative
   inversion schemes are not limited to these alternatives, but may include other
25 alternative inversion schemes or combinations thereof.
            Figure 7 shows features of an example of a constrained inversion scheme
   to determine the position of a receiver in an underground formation, in
   accordance with various embodiments. A constraint may be applied as one of a
   number of different techniques may be employed to reduce the error in
30 inversion. One such technique is the addition of a second sensor whose position
   relative to the first sensor is exactly known. Although these two sensors will
   have to be close to each other in the electrical sense, thus providing little
   independent information, the fact that the noise at separate sensors should be
                                              10

   mostly independent will improve the inversion accuracy. Inversion in this case
   can be similar to the inversion with a single receiver associated with Figure 6.
            At 710, the measurement of signals due to N different transmitters at the
   two receivers is acquired. These signals are combined into a colun         vector,
 5 denoted as V, at 720, providing twice as many components as the measured
   signal in methods related to Figure 6. These measured signals can be acquired
   and processed in a manner similar to the variations of processing measured
   signals with respect to Figure 6.
            In the inversion scheme, the determination of the position and the
10 direction of the receiving sensor(s) is the object of interest. Thus, parameters of
   interest are denoted as the location of the receiver sensor (x, y, z), its azimuth
   (0), and its elevation angle (e). At 730, an initial guess for the position and
   orientation parameters (x', y', z', 0', Q') is made of one of the sensors. Since the
   exact location of the second sensor is known with respect to the first sensor, the
15 guess for its position and orientation may be calculated based on the first guess,
   at 735. The signal corresponding to the initial guess of the location and direction
   parameters of the two receivers is simulated using a forward model, which is
   denoted as V' at 740. An accurate forward model, which relates parameters to
   be inverted to the measured signal, can be used in this method.
20          At 750, the norm of the difference between V and V' for the two
   receivers is compared to a threshold. If the norm of the difference between V
   and V' is lower than a predetermined threshold, the processing may stop and the
   processed parameters (x', y', z', 0', p') may be deemed to be accurate
   approximations to the true parameters (x, y, z, 0, p), at 760. Other convergence
25 criteria may also be applied in this step.
            If convergence is not satisfied, an iteration number can be increased by
   one, at 770. To prevent, for example, infinite simulations for cases where no
   solution below the threshold is possible such as at highly noisy environments, or
   to restrict the simulation time, the number of iterations may be compared with a
30 previously set maximum iteration number, at 780. If the maximum number of
   iterations is reached, the processing may stop with the latest guess, or a previous
   guess that minimized the error, returned as the answer, at 785. Otherwise, the
   parameter guess vector is updated at 790 with the parameters for the other
                                              11

   receiver updated, since the exact location of the second sensor is known with
   respect to the first sensor. V' is simulated again, at 740, based on these updated
   guesses and the above process of comparing the process signal with the
   measured signal and subsequent comparisons can be repeated. The update of the
 5 guess vector may be based on the calculation of a gradient that minimizes the
   error.
             Figure 8 shows features of a simulation to verify an inversion scheme
   and to analyze the accuracy obtained in determining the position of one or more
   sensors for different system configurations. These simulations were conducted
10 as Monte-Carlo simulations. At 810, the process begins with the true
   position/orientation vector (x, y, z, 0, Q). In the Monte Carlo simulations, an
   ideal signal is found, at 820, using the forward model corresponding to the
   position/orientation vector (x, y, z, 0, .)        To simulate the environmental and
   system noises and other measurement uncertainties, a random noise, r1, can
15 added to the ideal signal, Visdei, to create the "measured" signal 610 of Figure 6
   and 710 of Figure 7. The noises added to each row of V;, that is each channel,
   are selected to be independent of each other. Here, the subscript i represents the
   iteration number of the Monte Carlo simulation. A uniform distribution between
   (-0.5 and 0.5) is used to create the random noise. The amplitude of this random
20 noise is then scaled, and added in a multiplicative manner to the original signal
   as follows:
                                Vx  =        x (I -+u(-0.5,0.5)/SN]R)
   In equation (1),     j represents the index of a row of vectors V and Videal, U(
   0.5,0.5) represents a uniform random noise taking its values between -0.5 and
25 0.5, and SNR is the scaling factor that represents a signal-to-noise ratio. In the
   simulations., SNR was selected to be 50. VI is then inverted to produce the guess
   (xi, yi, zi, O1, (i) for iteration I, stored at 840. The above process is repeated N
   times, using a counter at 850, to be able to accurately analyze the inversion
   performance for varying noise. Number of iterations (N) was selected as 100 in
30 the simulations.
             Figure 9 shows a simulation geometry for a positioning system with two
   x-directed transmitters at the surface. A reference coordinate system in terms of
   (x, z) with z being in the direction from surface 904 is indicated in Figure 9 with
                                                   12

   origin (0, 0) at x-axis and z-axis shown. The positioning system of this example
   consists of two identical transmitters, Tx1 and Tx2,, which are x--directed
   magnetic dipoles. These transmitters are located at positions of (x, y. z) = (1000,
   0, 0) meters and (3000, 0, 0) meters with respect to the origin where x, y and z
 5 are positions in the x-direction, y- direction, and z--direction with respect to the
   reference coordinate system. The receiver, Rx, is a triad of magnetic dipoles. Its
   position is selected to be (2300, 0, zre), where zre is the true vertical depth
   (TVD) and changed from 100 m to 10,000 m in 100 in steps to emulate the
   descent of receiver into the ground. Rx is assumed to have an elevation angle of
10 70' and an azinuth angle of 50'. Formation is assumed to have a resistivity of
   Rf= 1 n-m, relative dielectric permittivity of E, = 5 and a relative magnetic
   permeability of g, = 1. Although Rx, Tx], and Tx 2 lie on the same plane for this
   particular example, inversion does not incorporate this information. In other
   words, it is assumed that Rx may lie anywhere in the 3-dimensional space. In
15 addition, drilling rig 902, TxI, and Tx 2 lie on the surface 904 for illustrative
   purposes, and formation 901 is assumed to be homogeneous.
            Voltage received at the Rx sensor for this system is a vector with six
   components. With a goal to solve the position and orientation of Rx, there are
   five unknowns in the problem. Thus, the solution is overdetermined. With
20 similar reasoning, it can be seen that even with a single transmitter and a single
   triad receiver, positioning is possible if orientation of the sensor is known via
   other means. For example, the orientation of Rx may be determined with the use
   of inclitiometers.
            Figures 10A-E show results of a Monte Carlo simulation for the
25 simulation geometry of Figure 9. These results are with 100 repetitions at each
   depth point, z,    of Rx. Curves 1042, 1052, 1062, 1072, and 1082 indicate the
   mean error between the sensor position and the simulations. Curves 1044, 1054,
   1064, 1074, and 1084 show plus one standard deviation of the error from the
   mean. Curves 1046, 1056, 1066, 1076, and 1086 show minus one standard
30 deviation of the error from the mean. In the Monte Carlo simulations, if the
   mismatch between the measured voltage and the voltage obtained using the
   inverted parameters is above a threshold, that particular inversion is discarded.
   This is akin to the real-time situation where an inversion would be deemed
                                              13

   useless if the voltage calculated from the inverted parameters has a large
   difference with respect to the measured voltage. It can be seen frorn these results
   that the orientation of the sensor may be accurately determined even at large
   depths. Position determination is less accurate but the mean error generally stays
 5 within 5 meters for each position component.
            Figures 1IA-E show results of a Monte Carlo simulation for the
   positioning system of figure 9 where a second receiver is used, whose position is
   constrained with respect to the first receiver. In the simulation, the second
   receiver has a location constrained with respect to the first receiver such that the
10 second receiver is 10 m below the first one in the tool axis and the orientation of
   the two receivers are same. Curves 1142, 1152, 1162, 1172, and 1182 indicate
   the mean error between the sensor position and the simulations. Curves 1144,
   1154, 1164, 1174, and 1184 show plus one standard deviation of the error from
   the mean. Curves 1146, 1156, 1166, 1176, and 1186 show minus one standard
15 deviation of the error from the mean. A slight improvement in inversion
   performance can be observed with the additional knowledge obtained from this
   second receiver.
            Figure 12 shows a simulation geometry for a two transmitter positioning
   system where one of the transmitters is underground. This system is
20 substantially the same as the geometry shown in Figure 9, except one of the
   transmitters, Txi, is located underground at point (1000, 0, 1000) with respect to
   the origin with transmitter, Tx 2 , on the surface at (3000, 0, 0). Receiver, Rx, at
   (2300, 0, z.c) is assumed to have an elevation angle of 700 and an azimuth angle
   of 50'. Formation is assumed to have a resistivity of R4 = I (-i, relative
25 dielectric permittivity of E, = 5 and a relative magnetic permeability of gi = 1.
            Figures 13A-E show results of a Monte Carlo simulation for the
   positioning system of Figure 12. Curves 1342, 1352, 1362, 1372, and 1382
   indicate the mean error between the sensor position and the simulations. Curves
   1344, 1354, 1364, 1374, and 1384 show plus one standard deviation of the error
30 from the mean. Curves 1346, 1356, 1366, 1376, and 1386 show minus one
   standard deviation of the error from the mean. Results are similar to the case
   with both transmitters on the surface. In fact, a slight improvement in inversion
   performance can be observed, which can be attributed to the fact that the
                                              14

   location of the transmitters in the positioning system of Figure 12 better span the
   space. Thus, information obtained from these two transmitters is more
   independent.
            Figure 14 shows a simulation geometry for a positioning system with
 5 four triad type transmitters. The example positioning system, which was
   simulated, consists of triad type transmitters, Tx1, Tx2, Tx 3, and Tx 4 , at locations
   (1000, 0, 1000), (2000, 1000, 0), (2000, -1000, 0), and (3000, 0, 0), respectively.
   A deployed system can include transmitters at different locations and can include
   an increased number of transmitters. For the simulation, receiver, Rx, is a triad
10 type receiver at a position of (2300, 0, zrej, where zrec represents the true
   vertical depth, and Rx has   7 0' elevation angle and 50' azimuth angle.
   Formation is assumed to have a resistivity of Ri-= I Qtm, relative dielectric
   permittivity of Fr = 5 and a relative magnetic permeability of pr = 1. Simulation
   results indicate that further improvements may be obtained by using triad type
15 transmitters and increasing the number of transmitters.
            Figure 15A-E shows results of a Monte Carlo simulation for the
   positioning system of Figure 14. Curves 1542, 1552, 1562, 1572, and 1582
   indicate the mean error between the sensor position and the simulations. Curves
   1544, 1554, 1564, 1574, and 1584 show plus one standard deviation of the error
20 from the mean. Curves 1546, 1556, 1566, 1576, and 1586 show minus one
   standard deviation of the error from the mean. Standard deviation of error is cut
   almost in half compared to the system depicted in Figure 12.
            Methods other than using flIl inversion can be implemented to find the
   position of a receiver sensor or sensors in an underground formation. These
   other methods provide semi-analytical formulations to find the position. For
   example, once the angular position of the sources is found from the
   measurements, then by geometrical identities the position of the receiver can be
   found. Using the angular information alone may be advantageous in some
   situations if the magnitude of the signal from the sources could be affected by
30 parameters other than the distance. For example, dispersion or refraction effects
   of the mediuin between the source and the receiver can affect the magnitude of
   the signal from the sources. Once the direction of the sources has been found,
   such as by using inversion methods, the angles (0some, psoure) for each source are
                                              15

   known. Once the orientations of the different sources at the surface or inside the
   formation are found, the position of the underground receiver relative to the
   sources can be deduced by geometric identities. Additional information can be
   obtained from the direction of the fields of each transmitter antenna. The
 5 information about the direction of the fields can help reduce the error in the
   determination of receiver position.
             Figure 16 shows 2-dimensional example with transmitters, Tx!, Tx 2 ,
   Tx, on the surface and the receiver, Rx, underground to illustrate a method to
   find the position of the receiver relative to the sources from the known
10 orientations of the sources. The position of Rx underground can be found using
   semi-analytical formulations by measuring the angular orientation of the sources
   at the surface and solving the trigonometric problem associated with the
   transmitters and receiver, where the position of the sources at the surface is
   known precisely. Additional information can be obtained from the direction of
15 the fields of each transmitter antenna. The information about the direction of the
   fields can help reduce the error in the determination of receiver position.
   However, in this example, knowledge only of the direction of the antennas is
   assumed and not of the electric fields.
            In this 2D example, shown in Figure 16, all receiver and transmitters are
20 located on the same plane. In this case, Rx does not have any reference to
   measure the angle of the sources. The measurements are the angles a and
   between the directions of the sources. From the trigonometric identities of the
   cosine theorem, the following three equations can be derived:
                           d   = a + b - 2ab cos(a)                              (2)
                           d= b2 +        - 2bc cost)                            (3)
                           (d + d2)2 = a2 + c   - 2ac cos(oa + P)                (4)
   In equations (2), (3) and (4) the unknowns a, b and c can be obtained as
   functions of di and d2, which are the distances between the sources on the
   surface. Distance dI is the distance between Tx1 and Tx2, and distance d2 is the
30 distance between Tx2 and Tx3,. These distances can be known with high
   precision. To solve for the position of Rx, it can be assumed that Tx1 has
   position (0, 0), The cosine theorem can be applied again to obtain:
                              :2=a2+  2 -  2ab cos(6),                           (5)
                                              16

   from which the angle 6 can be obtained. The coordinates of the receiver position
   can be evaluated as x = a cos(i) and y = a sin(6).
            Figure 17 shows a two-dimensional example with transmitters TxI and
   Tx2 on the surface and a receiver Rx underground in which the receiver has a
 5 reference direction. Tx1 and Tx2 are separated by a distance di. The reference
   known to Rx can be the direction of gravity, which points approximately towards
   the center of the earth, The direction of gravity is known and a plane 1706
   perpendicular to the direction of gravity can be constructed. The directions of
   the sources can be referenced to the plane perpendicular to gravity. The angles a
10 and  P represent the directions of the sources. Assuming that the plane 1706
   perpendicular to the direction of gravity and the surface of earth are parallel to
   each other, then, by a geometric theorem, C I==     and D2= a. With two internal
   angles 01 and D2 and the length di known, all sides and angles of a triangle can
   be solved. Thus, in this example with a reference direction provided, only two
15 sources are needed for this semi-analytical formulation.
            The number of sources needed to find the position underground depends
   on how many directional references are available. If gravity gives a reference
   direction to the center of the earth and the local magnetic field orientation is
   known, providing a second reference direction, then the position of a receiver
20 underground can be found with only two sources on the surface, assuming
   knowledge only of the angular position of the sources without information about
   the distance. Other methods include using a 3D situation with respect to
   transmitters and a receiver, without a given reference, in a manner similar to the
   abovenentioned method in the 2D case, which makes use of the cosine theorem.
25          Figure 18 shows a three-dimensional example with transmitters on the
   surface and a receiver underground in which the receiver has no reference
   direction, in accordance with various embodiments. Si, S2, and S3 are locations
   on the surface of three transmitters. The receiver is at location 0. The distances
   di between SI and S2, d2 between S2 and S3, and d3 between SI and S3 are
30 known precisely. Angles a, P, and 6 can be measured. From Figure 18 the
   following equations hold:
                           d=    a2 + b2 - 2ab cos(a)                             (6)
                                 b2 + c'   2bc cos()                              (7)
                                             17

                                4 2.  2
                                                                                   (82
                            d=a      +c -  2ac cos(6)                               8)
   where the unknowns a, b and c can be found. From the known positions of the
   sources and the solved a, b and c, the position of the receiver at 0 can be found
   in these semi-an alytical formulations. If the source is a triad and the direction of
 5 the source dipole is known, then there is more information available because the
   direction of oscillation of the source field provides extra information. In
   addition, to be able to distinguish different sources, each source could use a
   different frequency. The use of more sources is convenient because it can
   improve the accuracy of the positioning.
10          Simulations can be applied to semi-analytical approaches. Using the
   positioning system shown in Figure 9A, a simulation example can be presented
   using 2D semi-analytical formulations. For this 2D example, it was assumed
   that the receiver is known to lie on the same plane with the two transmitters.
   Then, angles u and P, depicted in Figure 17, can be found as the are tangent of
15 the ratio of vertical and horizontal distances from each transmitter to the
   receiver. These distances can be found by using the received data due to a single
   transmitter rather than using the previously discussed inversion schemes. Such
   an approach can be conducted by comparing measured signals with calculated
   signals similar to the inversion schemes discussed before. The results of a semi--
20 analytical approach may be more useful in cases where gain fluctuations in
   receiver and transmitter are an issue or in dispersive/refractive media.
            In some other applications, if transmitter and receiver are both triads with
   known orientations, they can be rotated in a way to obtain two dipoles where the
   received signal is zero. This is only possible if the receiver is at infinity, which
   can be discarded in practical applications; or if the transmitting and receiving
   dipoles lie parallel to the line connecting them, which provides the angular
   information. Other variations and combinations of the aforementioned methods
   may also be used to find the angular information.
            Figures 19A-B shows Monte Carlo simulation results using a semi
30 analytical solution for the positioning system shown in Figure 9. The receiver
   position in the x-plane and the z- plane were found using angular information.
   True vertical depth is changed between 100 and 10,000 meters in 100 meter
   steps, and 100 repetitions of simulations were performed at each step for an SNR
                                              18

   value of 50. Curves 1942 and 1952 indicate the mean error between the sensor
   position and the simulations. Curves 1944 and 1954 show plus one standard
   deviation of the error from the mean. Curves 1946 and 1956 show minus one
   standard deviation of the error from the mean. Results have slightly less
 5 accuracy than the ones shown in Figure 10, since angular information is obtained
   using the interaction between just a single transmitter and a single receiver.
            In various embodiments, methods to find a position in an underground
   formation can include electric-field based positioning. In the previous examples,
   both transmitters and receivers were assumed to be magnetic dipoles. Thus,
10 receivers measured the magnetic fields. If electric fields at the receivers are
   measured instead, a different approach may be used to obtain the position of the
   receiver.
            Figure 20 shows an electric field at the receiver, due to a magnetic
   dipole, that is normal to the plane where receiver and transmitter are located.
15 The electric field of a magnetic dipole only has a circumferential (p) component.
   Thus, the electric field, E(xr      yreo, zre), at the receiver is normal to the plane
   where the transmitter Tx(xo, yo,      7o)  and receiver lie. This plane may thus be
   defined by the following formula:
                            nxo(x-xo)+-nyo-           nz(z-zo)=0                        (9)
20 In equation (9), nxo, ny. and nzo represent the x, y, and z components of a unit
   vector that has the same direction with the electric field and (xo,yo,zo) is the
   transmitter position. If there are three such linearly independent equations for
   three different transmitters (in other words if planes obtained from equation (9)
   are not the same for two or more transmitters), the independent equations may be
25 solved to obtain the receiver position as shown in equation (10). The vector (ni,
     y, nz) is the unit vector parallel to the electric field at the receiver produced by
   transmitter i at location (x,, yi, zi), where i = 0, 1, 2.
                       2'    11X0   fl YO
                                       0             nq        n     if
                                    yl= nn             tnx,  I       + nz                (10)
                              z n n          n,     Ln?     +    y 2 +nz
   For practical applications, it is straight forward to satisfy the independence
30 requirement in a volume of interest. For example, if all three transmitters lie on
   a flat surface apart from each other, and the receiver is not on this surface, planes
                                                   19

   obtained by equation (9) will always intersect at the point where the receiver is
   located.
             In practical applications, noise will affect the accuracy of the results. In
   those cases, it may be desired to add additional information to improve accuracy.
 5 Additional information can include using additional transmitting sources, each at
   a known position. For these cases, the matrix of unit vectors may not be a
   square matrix. Thus, a pseudo-inverse of the matrix should be used instead in
   equation (10). No iterative inversion is applied in this approach; thus, results are
   obtained much faster than the inversion approach. However, orientation of the
10 receiver sensor must be known accurately via other means.
             Figure 21 shows a simulated system for electric field based positioning
   system. A reference coordinate system in terms of (x, y, z) with z being in the
   direction from surface 2104 is indicated in Figure 21 with origin (0, 0, 0) at x
   axis, y-axis, and z-axis shown. The positioning system of this example has three
15 transmitters: Txi, a x-directed magnetic dipole at (1000, 0, 0); Tx2, a y-directed
   magnetic dipole at (3000, 0, 0); and Tx3 , a z-directed magnetic dipole at (2000,
   1000, 0). Receiver Rx, a triad of electric dipoles, is at (2300, 600, 7e4), where
   7
     ree represents the TVD, As before, Monte Carlo simulations are repeated 100
   times at each depth step as TVD is changed from 100 in to 10,000 In in steps of
20 100 in and SNR is taken as 50. Rx is assumed to have an elevation angle of 70'
   and an azimuth angle of 500. Formation is assumed to have a resistivity of Rf=
   I t-m, relative dielectric permittivity of Fr = 5 and a relative magnetic
   permeability of I = 1.
             Figures 22A-C show Monte Carlo simulation results using the electric
25 field based positioning system of Figure 21. The Monte Carlo simulation results
   are for errors in x- position, y-position, and z-position of the receiver shown in
   Figure 21. Curves 2242, 2252., and 2262 indicate the mean error between the
   sensor position and the simulations. Curves 22.44, 2254, and 2264 show plus
   one standard deviation of the error from the mean. Curves 2246, 2256, and 2266
30 show minus one standard deviation of the error from the mean. Accuracy is not
   as good as the inversion approach, but still a reasonable approximation to the
   true receiver location is obtained.
             Based on the duality theorem, electric dipoles can be used in the
                                               20

   examples discussed herein. For example, if transmitters are electric dipoles, a
   magnetic field will be normal to the plane containing the receiver and transmitter
   locations instead of the electric field. Thus, the method described herein may be
   used by measuring the magnetic fields at the receiver.
 5         In various embodiments, features of a method to locate a receiver
   downhole comprise: receiving signals from a receiver in an underground
   formation in response to signals generated from three or more transmitting
   sources, each of the three or more transmitting sources located at a known
   position, at least one transmitting source of the three or more transmitting
10 sources separated from and mounted on a structure different from at least one
   other transmitting source of the three or more transmitting sources; and
   processing the received signals, using an inversion process based on the signals
   generated from the three or more transmitting sources, to determine the position
   of the receiver. The processing of the signals to determine the position of the
15 receiver can be conducted downhole. Downhole processing can be conducted
   using electronics integrated with the receiver, where the information concerning
   the known locations of the transmitting sensors is stored with the electronics
   along with instructions to process the signals. The downhole processing can be
   located using electronics disposed on the structure on which the receiver is
20 disposed and separated from the receiver. 'The downhole processing can allow
   for automated geosteering. Alternatively, the processing unit can be conducted
   at the surface in response to receiving the signals or data regarding the signals
   from the receiver.
           Features of the method can include controlling the three or more
25 transmitting sources including a transmitting source that has a current-carrying
   wire of a closed loop of a circuit, the cuirent-carrying wire being at a known
   position and the current-carrying wire is arranged the current--carrying wire
   arranged along a straight-line path such that signals received at the receiver from
   the closed loop are negligible from portions of the closed loop that follow a path
30 different from the straight-line path. Features of the method can include
   controlling the three or more transmitting sources including a transmitting source
   that has a number of current-carrying wires forming a closed loop of a circuit,
   each of the number of current-carrying wires being at a known position and
                                             21

   arranged along a straight-line path such that signals received at the receiver from
   the closed loop are negligible from portions of the closed loop that follow a path
   different from the straight-line paths; and processing the signals based on a
   model of the number of current-carrying wires and their corresponding straight
 5 line paths. Controlling the three or more transmitting sources can include
   controlling at least three dipole transmitters. Controlling the three or more
   transmitting sources can include controlling a source generating large
   distribution of current aboveground or near ground that generate electromagnetic
   fields below ground, the electromagnetic fields measurable at the receiver, the
10 large distribution of current being at a known position. The three or more
   transmitting sources include one or more transmitting sources located
   aboveground. The three or more transmitting sources can include a transmitter
   in a well. The well can be different from a well in which the receiver is located
   or the well can be the well in which the receiver is located. The three or more
15 transmitting sources can include no more than two transmitters in a plane that
   contains the receiver. Controlling the three or more transmitting sources can
   include conducting various combinations of these embodiments of features to
   control the three or more transmitting sources.
           Features of the method can include generating at least one signal of the
20 generated signals from a transmitting source aboveground or near ground, the
   signal having a low frequency to penetrate deeply underground such that the
   signal is measurable in an underground volume extending from a hundred feet to
   thousands feet in depth and from a hundred feet to thousands of feet across the
   depth. The method can include operating the three or more transmitting sources
25 sequentially such that only one of the three or more transmitting sources is on at
   one time period. The method can include operating each of the transmitting
   sources at a frequency less than about 50 Hiz.
           Using an inversion process can include: generating values of a signal
   expected at the receiver from each of the transmitting sources; generating a
30 difference between the signal expected and the signal received from the receiver;
   when the difference is less than a threshold, selecting values of coordinates for
   the receiver, as the position of the receiver, that generated the signal expected at
   the receiver for which the difference is less than the threshold; and when the
                                             22

   difference is greater than the threshold, generating new values of a signal
   expected at the receiver and determine if a difference between the new values
   and the signal received from the receiver is less than the threshold. Generating
   values of the signal expected at the receiver can include using an estimate of the
 5 position of the receiver with a forward model. Generating values of the signal
   expected at the receiver can include using an estimate of the position of the
   receiver with a lookup table.
           Using an inversion process can include: generating an estimate of the
   position of the receiver, the receiver taken as a first receiver; generating an
10 estimate of each position of one or more other receivers, each of the one or more
   other receivers having a known position with respect to the first receiver;
   generating values of signals expected at the first receiver and at the one or more
   other receivers from each of the transmitting sources; generating a difference
   between the values of the signals expected and a combination of the signal
15 received at the first receiver and signals received at the one or more other
   receivers; when the difference is less than a threshold. selecting values of
   coordinates of the first receiver, as the position of the first receiver, that
   generated the signals expected at the first receiver for which the difference is less
   than the threshold; and when the difference is greater than the threshold,
20 genteratbng a new estimate of the position of the first receiver, if the inversion
   process is within a maximum iteration.
           Using an inversion process can include: generating sets of values of a
   signal expected at the receiver, each set generated from a different estimate of
   the position of the receiver; generating differences between the values of the
25 signal expected and the signal received from the receiver for each set; and
   selecting the estimate that minimizes error in the difference between the values
   of the signal expected and the signal received from the receiver. Generating the
   sets of values of signals expected at the receiver can include using a forward
   model with each of the estimates.
30          In various embodiments, features of a second method to locate a receiver
   downhole comprise: receiving signals from a receiver in an underground
   formation in response to signals generated from three or more transmitting
   sources, each of the three or more transmitting sources located at a known
                                              23

   position, at least one transmitting source of the three or more transmitting
   sources separated from and mounted on a structure different from at least one
   other transmitting source of the three or more transmitting sources; determining
   angles with respect to the transmitters relative to the receiver based on the
 5 received signals; and determining a position of the receiver based on the angles
   and the known positions. The determining of angles and the determining of the
   position of the receiver can be conducted downhole. Determining angles and
   determining of the position of the receiver can be conducted using electronics
   integrated with the receiver, where the information concerning the known
10 locations of the transmitting sensors is stored with the electronics along with
   instructions to process the signals. The downhole processing can be located
   using electronics disposed on the structure on which the receiver is disposed and
   separated from the receiver. The downhole processing can allow for automated
   geosteering. Alternatively, the processing unit can be conducted at the surface in
15 response to receiving the signals or data regarding the signals from the receiver.
            The second method can include controlling the three or more transmitting
   sources including a transmitting source that has a current-carrying wire of a
   closed loop of a circuit, the current-carrying wire being at a known position and
   arranged along a straight-line path such that signals received at the receiver from
20 the closed loop are negligible from portions of the closed loop that follow a path
   different from the straight-line path. Features of the second method can include
   controlling the three or more transmitting sources including a transmitting source
   that has a number of current-carrying wires forming a closed loop of a circuit,
   each of the number of current-carrying wires being at a known position and
25 arranged along a straight-line path such that signals received at the receiver from
   the closed loop are negligible from portions of the closed loop that follow a path
   different from the straight-line paths; and processing the signals based on a
   model of the number of current-carrying wires and their corresponding straight
   line paths. Controlling the three or more transmitting sources can include at
30 least three dipole transmitters. The three or more transmitting sources can
   include one or more transmitting sources located aboveground. The second
   method can include generating at least one signal of the generated signals from a
   transmitting source aboveground or near ground, the signal having a low
                                             24

   frequency to penetrate deeply underground such that the signal is measurable in
   an underground volume extending from a hundred feet to thousands feet in depth
   and from a hundred feet to thousands of feet across the depth.
            The second method can include using gravity to provide a reference.
 5 Determining the position of the receiver can include evaluating geometric
   identities using the angles and the known positions. Evaluating geometric
   identities can include using a cosine theorem. The second method can include
   operating each of the transmitters at a frequency different from that of the other
   ones of the number of transmitters. The transmitters can also be operated
10 sequentially.
            In various embodiments, features of a third method to locate a receiver
   downhole comprise: determining an electric field at a receiver, located in an
   underground formation, in response to signals generated from three or more
   magnetic dipoles located at known positions such that there are at least three
15 distinct planes defined respectively by location of one of the three or more
   magnetic dipoles and the electric field at the receiver due to the respective
   magnetic dipole; and determining the position of the receiver based on the
   known positions and a direction of the electric field. Determining of the position
   of the receiver can be conducted downhole. Determining of the position of the
20 receiver can be conducted using electronics integrated with the receiver, where
   the information concerning the known locations of the transmitting sensors is
   stored with the electronics along with instructions to process the signals. The
   downhole processing can be located using electronics disposed on the structure
   on which the receiver is disposed and separated from the receiver. The
   downhole processing can allow for automated geosteering. Alternatively, the
   processing unit can be conducted at the surface in response to receiving the
   signals or data regarding the signals from the receiver.
            In embodiments of the third method, the three or more magnetic dipoles
   can be located aboveground or near ground. In an embodiment, no more than
30 two transmitters and the receiver are in a plane.
            In various embodiments, components of a system operable to find a
   position in an underground formation, as described herein or in a similar manner,
   can be realized in combinations of hardware and software based
                                            25

   implementations. These implementations can include a machine-readable
   storage device having machine-executable instructions, such as a computer
   readable storage device having computer-executable instructions, to find a
   position in an underground fonnation. Executed instructions can also include
 5 instructions to operate one or more transmitters to generate signals. Executed
   instructions can also include instructions to operate one or more receivers to
   provide signals in response to the signals generated by the one or more
   transmitters in accordance with the teachings herein. The instructions can
   include instructions to provide data to a processing unit such that the processing
10 unit conducts one or more processes to evaluate signals, data, or signals and
   data. Further, a machine-readable storage device, herein, is a physical device
   that stores data represented by physical structure within the device. Examples of
   machine-readable storage devices include, but are not limited to, read only
   memory (ROM), random access memory (RAM), a magnetic disk storage
15 device, an optical storage device, a flash memory, and other electronic,
   magnetic, and/or optical memory devices.
            In various embodiments, features of an embodiment of a machine
   readable storage device can include having instructions stored thereon, which,
   when performed by a machine, cause the machine to perform operations to:
20 receive signals from a receiver in an underground formation in response to
   signals generated from three or more transmitting sources, each of the three or
   more transmitting sources located at a known position, at least one transmitting
   source of the three or more transmitting sources separated from and mounted on
   a structure different from at least one other transmitting source of the three or
   more -ansmitting sources; and process the received signals, using an inversion
   process based on the signals generated from the three or more transmitting
   sources, to determine the position of the receiver. The instructions can include
   instructions to control the three or more transmitting sources including a
   transmitting source that has a current-carrying wire of a closed loop of a circuit,
30 the current-carrying wire being at a known position and arranged along a
   straight-line path such that signals received at the receiver from the closed loop
   are negligible from portions of the closed loop that follow a path different from
   the straight-line path. The instructions can include instructions to: control the
                                             26

   three or more transmitting sources including a transmitting source that has a
   number of current-carrying wires forming a closed loop of a circuit, each of the
   number of current-carrying wires arranged along a straight-line path such that
   signals received at the receiver from the closed loop are negligible from portions
 5 of the closed loop that follow a path different from the straight-line paths; and
   process the signals based on a model of the number of current-carrying wires and
   their corresponding straight-line paths. The instructions can include instructions
   to control the three or more transmitting sources including at least three dipole
   transmitters. The instructions can include instructions to control the three or
10 more transmitting sources including a source generating large distribution of
   current aboveground or near ground that generate electromagnetic fields below
   ground, the electromagnetic fields measurable at the receiver, the large
   distribution of current being at a known position. The three or more transmitting
   sources can include no more than two transmitters in a plane that contains the
15 receiver. The three or more transmitting sources can include a transmitter in a
   well. The well can be different from a well in which the receiver is located or
   the well can be the well in which the receiver is located.. Instructions
   controlling the three or more transmitting sources can include conducting
   various combinations of these features to control the three or more transmitting
20 sources.
           The instructions can include instructions to generate at least one signal of
   the generated signals from a transmitting source aboveground or near ground,
   the signal having a low frequency to penetrate deeply underground such that the
   signal is measurable in an underground volume extending from a hundred feet to
   thousands feet in depth and from a hundred feet to thousands of feet across the
   depth. The instructions can include instructions to operate the three or more
   transmitting sources sequentially such that only one of the three or more
   transmitting sources is on at one time period. The instructions can include
   instructions to operate one or more of the transmitting sources located
30 aboveground. The machine-readable storage device can include instructions to
   operate each of the transmitters at a frequency less than about 50 Hz.
           In the instructions stored in the machine-readable storage device, using
   the inversion process can include: generating values of a signal expected at the
                                             27

   receiver from each of the transmitting sources; generating a difference between
   the signal expected and the signal received front the receiver; when the
   difference is less than a threshold, selecting values of coordinates for the
   receiver, as the position of the receiver, that generated the signal expected at the
 5 receiver for which the difference is less than the threshold; and when the
   difference is greater than the threshold, generating new values of a signal
   expected at the receiver and determine if a difference between the new values
   and the signal received from the receiver is less than the threshold. Generating
   values of the signal expected at the receiver can include using an estimate of the
10 position of the receiver with a forward model. Generating values of the signal
   expected at the receiver can include using an estimate of the position of the
   receiver with a lookup table.
            In the instructions stored in the machine-readable storage device, using
   the inversion process can include: generating an estimate of the position of the
15 receiver, the receiver taken as a first receiver; generating an estimate of each
   position of one or more other receivers, the one or more other receivers having a
   known position with respect to the first receiver; generating values of signals
   expected at the first receiver and at the one or more other receivers from each of
   the transmitting sources; generating a difference between the values of the
20 signals expected and a combination of the signal received at the first receiver and
   signals received at the one or more other receivers; when the difference is less
   than a threshold, selecting values of coordinates of the first receiver, as the
   position of the first receiver, that generated the signal expected at the first
   receiver for which the difference is less than the threshold; and when the
   difference is greater than the threshold, generating a new estimate of the position
   of the first receiver, if the inversion process is within a maximum iteration.
            In the instructions stored in the machine-readable storage device, using
   the inversion process can include: generating sets of values of a signal expected
   at the receiver, each set generated from a different estimate of the position of the
30 receiver; generating differences between the values of the signal expected and
   the signal received from the receiver for each set; selecting the estimate that
   minimizes error in the difference between the values of the signal expected and
   the signal received from the receiver. Generating the sets of values of the signal
                                              28

   expected at the receiver can include using a forward model with each of the
   estimates.
            In various embodiments, features of a second embodiment of a machine
   readable storage device can include having instructions stored thereon, which,
 5 when performed by a machine, cause the machine to perform operations to:
   receive signals from a receiver in an underground formation in response to
   signals generated from three or more transmitting sources, each of the three or
   more transmitting sources located at a known position, at least one transmitting
   source of the three or more transmitting sources separated from and mounted on
10 a structure different from at least one other transmitting source of the three or
   more transmitting sources; determine angles with respect to the transmitters
   relative to the receiver based on the received signals; and determine the position
   of the receiver based on the angles and the known positions. The instructions
   can include instructions to control the three or more transmitting sources
15 including a transmitting source that has a current-carrying wire of a closed loop
   of a circuit, the current-carrying wire being at a known position and arranged
   along a straight-line path such that signals received at the receiver from the
   closed loop are negligible from portions of the closed loop that follow a path
   different frotn the straight-line path. The instructions can include instructions to:
20 control the three or more transmitting sources including a transmitting source
   that has a number of current-carrying wires forming a closed loop of a circuit,
   each of the number of current-carrying wires being at a known position and
   arranged along a straight-line path such that signals received at the receiver from
   the closed loop are negligible from portions of the closed loop that follow a path
25 different from the straight-line paths; and process the signals based on a model
   of the number of current-carrying wires and their corresponding straight-line
   paths.
             The instructions can include instructions to control the three or more
   transmitting sources including at least three dipole transmitters. The instructions
30 can include instructions to control the three or more transmitting sources
   including transmitting sources located aboveground. The instructions can
   include instructions to generate at least one signal of the generated signals from a
   transmitting source aboveground or near ground, the signal having a low
                                             29

   frequency to penetrate deeply underground such that the signal is measurable in
   an underground volume extending from a hundred feet to thousands feet in depth
   and from a hundred feet to thousands of feet across the depth.
            In the second embodiment of a machine-readable storage device can
 5 include instructions to perform operations, wherein operations to determine the
   position can include evaluating geometric identities using the angles and the
   known positions. Evaluating geometric identities can include using a cosine
   theorem. The operations can include using gravity to provide a reference
   direction. The operations can include operating each of the transmitters at a
10 frequency different from that of the other ones of the number of transmitters.
   The operations can include operating the transmitters sequentially with a single
   frequency.
            In various embodiments, features of an embodiment of a machine
   readable storage device can include having instructions stored thereon, which,
15 when performed by a machine, cause the machine to perform operations to:
   determine an electric field at a receiver, located in an underground formation, in
   response to signals generated from three or more magnetic dipoles located at
   known positions such that there are at least three distinct planes defined
   respectively by location of one of the three or more magnetic dipoles and the
20 electric field at the receiver due to the respective magnetic dipole; and determine
   the position of the receiver based on the known positions and a direction of the
   electric field. The three or more magnetic dipoles can be located aboveground
   or near ground. The three or more magnetic dipoles can be arranged with no
   more than two transmitters and the receiver in a plane.
25          In various embodiments, an embodiment of an example system can
   comprise: three or more transmitting sources, each of the sources located at a
   known position, at least one transmitting source of the three or more transmitting
   sources separated from and mounted on a structure different front at least one
   other transmitting source of the three or more transmitting sources; a control unit
30 arranged to control generation of signals from the three or more transmitting
   sources: a receiver in an underground formation, the receiver operable to receive
   signals in response to the generation from the three or more transmitting sources;
   and a processing unit arranged to process the received signals, using an inversion
                                              30

   process based on the signals generated from the three or more transmitting
   sources, to determine the position of the receiver. The processing unit can be
   located downhole. The processing unit can be realized by electronics integrated
   with the receiver, where the information concerning the known locations of the
 5 transmitting sensors is stored with the electronics along with instructions to
   process the signals. The processing unit can be realized by electronics disposed
   on the structure on which the receiver is disposed and separated from the
   receiver. The processing unit can be located downhole, which can allow for
   automated geosteering. Alternatively, the processing unit can be located at the
10 surface, responsive to receiving the signals or data regarding the signals from the
   receiver.
            The three or more transmitting sources can include a transmitting source
   that has a current-carrying wire of a closed loop of a circuit, the current-carrying
   wire being at a known position and arranged along a straight-line path such that
15 signals received at the receiver from the closed loop are negligible from portions
   of the closed loop that follow a path different from the straight-line path. The
   three or more transmitting sources can include a transmitting source that has a
   number of current-carrying wires forming a closed loop of a circuit, each of the
   number of current-carrying wires being at a known position and arranged along a
20 straight-line path such that signals received at the receiver from the closed loop
   are negligible from portions of the closed loop that follow a path different from
   the straight-line paths; and the processing unit is arranged to process the signals
   based on a model of the number of current-carrying wires and their
   corresponding straight-line paths. The three or more transmitting sources can
   include a source operable to generate large distribution of current aboveground
   or near ground that generates electromagnetic fields below ground, the
   electromagnetic fields measurable at the receiver, the large distribution of
   current being at a known position. The three or more transmitting sources can
   include one or more transmitting sources located aboveground. The three or
30 more transmitting sources can include a transmitter in a well. The well can be
   different from a well in which the receiver is located or the well can be the well
   in which the receiver is located. The three or more transmitting sources can
   include no more than two transmitters in a plane that contains the receiver. The
                                             31

   three or more transmitting sources can be arranged with various combinations of
   these example embodiments of three or more transmitting sources.
           The control unit can be structured to be operable to generate at least one
   signal of the generated signals from a transmitting source aboveground or near
 5 ground, the signal having a low frequency to penetrate deeply underground such
   that the signal is measurable in an underground volume extending front a
   hundred feet to thousands feet in depth and from a hundred feet to thousands of
   feet across the depth. The control unit can be structured to operate the three or
   more transmitting sources sequentially such that only one of the three or more
10 transmitting sources is on at one time period. The control unit can be arranged
   to operate each of the transmitting sources at a frequency less than about 50 Hz.
           The processing unit can be arranged to use an inversion process that
   includes the processing unit operable to: generate values of a signal expected at
   the receiver from each of the transmitting sources; generate a difference between
15 the signal expected and the signal received front the receiver; when the
   difference is less than a threshold, select values of coordinates for the receiver,
   as the position of the receiver, that generated the signal expected at the receiver
   for which the difference is less than the threshold; and when the difference is
   greater than the threshold, generate new values of a signal expected at the
20 receiver and determine if a difference between the new values and the signal
   received from the receiver is less than the threshold. The processing unit can be
   structured to be operable to use an estimate of the position of the receiver with a
   forward model. The processing unit can be structured to be operable to use an
   estimate of the position of the receiver with a lookup table.
25         The processing unit can be arranged to use an inversion process that
   includes the processing unit operable to: generate an estimate of the position of
   the receiver, the receiver taken as a first receiver; generate an estimate of each
   position of one or more other receivers, each of the one or more other receivers
   having a known position with respect to the first receiver; generate values of
30 signals expected at the first receiver and at the one or more other receivers from
   each of the transmitting sources; generate a difference between the values of the
   signals expected and a combination of the signal received at the first receiver and
   signals received at the one or more other receivers; when the difference is less
                                              32

   than a threshold, select values of coordinates of the first receiver, as the position
   of the first receiver, that generated the signal expected at the first receiver for
   which the difference is less than the threshold; and when the difference is greater
   than the threshold, generate a new estimate of the position of the first receiver, if
 5 the inversion process is within a maximum iteration.
            The processing unit can be arranged to use an inversion process that
   includes the processing unit operable to: generate sets of values of a signal
   expected at the receiver, each set generated from a different estimate of the
   position of the receiver; generate differences between the values of the signal
10 expected and the signal received from the receiver for each set; and select the
   estimate that minimizes error in the difference between the values of the signal
   expected and the signal received from the receiver. The processing unit can be
   structured to be operable to use a forward model with each of the estimates.
            In various embodiments, a second example of a system can comprise:
15 three or more transmitting sources, each of the transmitting sources located at a
   known position, at least one transmitting source of the three or more transmitting
   sources separated from and mounted on a structure different from at least one
   other transmitting source of the three or more transmitting sources; a control unit
   arranged to control generation of signals front the three or more transmitting
20 sources; a. receiver in an underground formation, the receiver operable to receive
   signals in response to the generation from the three or more transmitting sources;
   a processing unit arranged to determine angles with respect to the transmitters
   relative to the receiver based on the received signals and to determine the
   position of the receiver based on the angles and the known positions. 'The
25 processing unit can be located downhole. The processing unit can be realized by
   electronics integrated with the receiver, where the information concerning the
   known locations of the transmitting sensors is stored with the electronics along
   with instructions to process the signals. The processing unit can be realized by
   electronics disposed on the structure on which the receiver is disposed and
30 separated from the receiver, The processing unit can be located downhole,
   which can allow for automated geosteering. Alternatively, the processing unit
   can be located at the surface, responsive to receiving the signals or data
   regarding the signals from the receiver.
                                              33

           In the second embodiment of an example system, the three or more
   transmitting sources can include a transmitting source that has a current-carrying
   wire of a closed loop of a circuit, the current-carrying wire being at a known
   position and arranged along a straight-line path such that signals received at the
 5 receiver from the closed loop are negligible from portions of the closed loop that
   follow a path different from the straight-line path. The three or more
   transmitting sources can include a transmitting source that has a number of
   current-carrying wires forming a closed loop of a circuit, each of the number of
   current-carrying wires being at a known position and arranged along a straight
10 line path such that signals received at the receiver from the closed loop are
   negligible from portions of the closed loop that follow a path different from the
   straight-line paths; and the processing unit is arranged to process the signals
   based on a model of the number of current-carrying wires and their
   corresponding straight-line paths. The three or more transmitting sources can
15 include at least three dipole transmitters. The three or more transtnitting sources
   can include one or more transmitting sources located aboveground.
           The control unit can be structured to be operable to generate at least one
   signal of the generated signals from a transmitting source aboveground or near
   ground, the signal having a low frequency to penetrate deeply underground such
20 that the signal is measurable in an underground volume extending from a
   hundred feet to thousands feet in depth and from a hundred feet to thousands of
   feet across the depth. The control unit can be arranged to operate each of the
   transmitters at a frequency different from that of the other ones of the number of
   transmitters. The transmitters can also be operated sequentially.
25         In the second embodiment of an example system, the processing unit can
   be arranged to evaluate geometric identities using the angles and the known
   positions. The processing unit can be arranged to use a cosine theorem to
   evaluate geometric identities. The processing unit can be structured to operate to
   use gravity to provide a reference direction.
30         In various embodiments, an embodiment of a third example system can
   comprise: a receiver located in an underground formation; three or more
   magnetic dipoles located at known positions such that there are at least three
   distinct planes defined respectively by location of one of the three or more
                                             34

   magnetic dipoles and the electric field at the receiver due to the respective
   magnetic dipole; a control unit arranged to control generation of signals from the
   three or more magnetic dipoles; and a processing unit arranged to determine an
   electric field at the receiver in response to generating the signals, and to
 5 determine the position of the receiver based on the known positions and the
   direction of the electric field. The processing unit can be located downhole. The
   processing unit can be realized by electronics integrated with the receiver, where
   the information concerning the known locations of the transmitting sensors is
   stored with the electronics along with instructions to process the signals. The
10 processing unit can be realized by electronics disposed on the structure on which
   the receiver is disposed and separated from the receiver. The processing unit can
   be located downhole, which can allow for automated geosteering. Alternatively,
   the processing unit can be located at the surface, responsive to receiving the
   signals or data regarding the signals from the receiver.
15          In the third embodiment of an example system, the three or more
   magnetic dipoles are located aboveground or near ground. In an embodiment, an
   arranenient can include no more than two magnetic dipoles and the receiver in a
   plane,
            Permutations of features of the methods discussed herein can be realized
20 among the different methods. Permutations of features of the machine-readable
   storage devices discussed herein can be realized among the different machine
   readable storage devices. Permutations of features of the systems discussed
   herein can be realized among the different systems.
            Figure 23 depicts a block diagram of features of an example embodiment
25 of a system 2300 operable to find a position in an underground formation.
   System 2300 configured with one or more transmitting sensors located at known
   positions and one or more receivers located in the underground formation.
   Systein 2300 includes an arrangement of transmitting sensors 2312 and receiving
   sensors 2310 that can be realized in a similar or identical manner to
30 arrangements of sensors discussed herein. System 2300 can be configured to
   operate in accordance with the teachings herein.
            System 2300 can include a controller 2325, a memory 2330, an electronic
   apparatus 2365, and a communications unit 2335. Controller 2325, mnemnory
                                             35

   2330, and communications unit 2335 can be arranged to operate as a control unit
   and a processing unit to control operation of the arrangement of transmitting
   sensors 2312 and receiving sensors 2310 and to perform one or nore processing
   operations on the signals collected to determine the position of one or more of
 5 the receiving sensors 2310, in a manner similar or identical to the procedures
   discussed herein. Such a processing unit can be realized as a processing unit
   2320 that can be implemented as a single unit or distributed among the
   components of system 2300 including electronic apparatus 2365. Controller
   2325 and memory 2330 can operate to control activation of transmitter sensors
10 2312 and selection of receiver sensors 2.310 and to manage processing schemes
   in accordance with measurement procedures and signal processing as described
   herein. System 2300 can be structured to function in a manner similar to or
   identical to structures associated with transmitting arrangements and methods of
   processing a signal or signals from a receiving unit, whose position can be
15 determined by the processing.
            Communications unit 2335 can include downhole communications for
   appropriately located sensors. Such downhole communications can include a
   telemetry system. Communications unit 2335 may use combinations of wired
   communication technologies and wireless technologies at frequencies that do not
20 interfere with on-going measurements. Communications unit 2335 can include
   interfaces to communicate with transmitting sensors distributed over a large
   spatial region.
            System 2300 can include a network 2327, where network 2327 is
   operable over a network providing electrical conductivity among subsystems of
   system 2300 distributed over a large spatial region including surface located
   transmitters, underground transmitters, and receivers in underground formations.
   The surface located transmitters and the underground transmitters can be located
   at known locations with one or more receivers in communication to provide
   signals to processing unit to find the position of one or inore receivers. Network
30 2327 can include an address bus, a data bus, and a control bus, each
   independently configured or in an integrated format. Network 2327 can be
   realized using a number of different communication mediums that allows for
   control and management of components and subsystems of system 2300 that can
                                             36

   be distributed over a large spatial region. Use of network 2327 can be regulated
   by controller 2325.
           In various embodiments, peripheral devices 2345 can include additional
   storage memory and/or other control devices that may operate in conjunction
 5 with controller 2325 and/or memory 2330. In an embodiment, controller 2325 is
   realized as a processor or a group of processors that may operate independently
   depending on an assigned function. Peripheral devices 2345 can be arranged
   with one or more displays 2355, as a distributed component on the surface,
   which can be used with instructions stored in memory 2330 to implement a user
10 interface to monitor the operation of system 2300 and/or components distributed
   within system 2300. The user interface can be used to input operating parameter
   values such that system 2300 can operate autonomously substantially without
   user intervention.
           Although specific embodiments have been illustrated and described
15 herein, it will be appreciated by those of ordinary skill in the art that any
   arrangement that is calculated to achieve the same purpose may be substituted
   for the specific embodiments shown. Various embodiments use permutations
   and/or combinations of embodiments described herein. It is to be understood
   that the above description is intended to be illustrative, and not restrictive, and
20 that the phraseology or terminology employed herein is for the purpose of
   description. Combinations of the above embodiments and other embodiments
   will be apparent to those of skill in the art upon studying the above description.
                                             37

                                         CLAIMS
   What is claimed is:
   1.      A method comprising:
 5         receiving signals from a receiver in an underground formation in
   response to signals generated from three or more transmitting sources, each of
   the three or more transmitting sources located at a known position, at least one
   transmitting source of the three or more transmitting sources separated from and
   mounted on a structure different from at least one other transmitting source of
10 the three or more transmitting sources; and
           processing the received signals, using an inversion process based on the
   signals generated from the three or more transmitting sources, to determine the
   position of the receiver.
15 2.      The method of claim 1, wherein the processing of the signals to
   determine the position of the receiver is conducted downhole.
   3.      The method of claim 1, wherein the method includes controlling the three
   or more transmitting sources including a transmitting source that has a current
20 carrying wire of a closed loop of a circuit, the current-carrying wire being at a
   known position, the current-carrying wire arranged along a straight-line path
   such that signals received at the receiver from the closed loop are negligible
   from portions of the closed loop that follow a path different from the straight
   line path.
   4.      The method of claim 1, wherein the method includes
           controlling the three or more transmitting sources including a
   transmitting source that has a number of current-carrying wires forming a closed
   loop of a circuit, each of the number of current-carrying wires being at a known
30 position and arranged along a straight-line path such that signals received at the
   receiver from the closed loop are negligible from portions of the closed loop that
   follow a path different from the straight-line paths; and
           processing the signals based on a model of the number of current
                                            38

   carrying wires and their corresponding straight-line paths.
   5.      The method of claim I, wherein the method includes controlling the three
   or more transmitting sources including at least three dipole transmitters.
   6.      The method of claim 1, wherein the method includes controlling the three
   or more transmitting sources including a source generating large distribution of
   current aboveground or near ground that generate electromagnetic fields below
   ground, the electromagnetic fields measurable at the receiver, the large
10 distribution of current being at a known position.
           The method of claim 1, wherein the three or more transmitting sources
   include one or more transmitting sources located aboveground.
15 8.      The method of claim 1, wherein the method includes generating at least
   one signal of the generated signals from a transmitting source aboveground or
   near ground, the signal having a low frequency to penetrate deeply underground
   such that the signal is measurable in an underground volume extending from a
   hundred feet to thousands feet in depth and from a hundred feet to thousands of
20 feet across the depth.
   9.      The method of claim 1, wherein the method includes operating the three
   or more transmitting sources sequentially such that only one of the three or inore
   transmitting sources is on at one time period.
25
   10.     The method of claim 1, wherein the three or inore transmitting sources
   include a transmitter in a well.
   11.     The method of claim 1, wherein the three or more transmitting sources
30 include no more than two transmitters in a plane that contains the receiver.
   12.     The method of claim I, wherein the method includes operating each of
   the transmitting sources at a frequency less than about 50 iz.
                                            39

   13.      The method of claim 1, wherein using the inversion process includes:
            generating values of a signal expected at the receiver from each of the
   transmitting sources:
            generating a difference between the signal expected and the signal
 5 received from the receiver;
            when the difference is less than a threshold, selecting values of
   coordinates for the receiver, as the position of the receiver, that generated the
   signal expected at the receiver for which the difference is less than the threshold;
   and
10          when the difference is greater than the threshold, generating new values
   of a signal expected at the receiver and determine if a difference between the
   new values and the signal received from the receiver is less than the threshold.
   14.      The method of claim 13, wherein generating values of the signal
15 expected at the receiver includes using an estimate of the position of the receiver
   with a forward model.
   15.      The method of claim 13, wherein generating values of the signal
   expected at the receiver includes using an estimate of the position of the receiver
20 with a lookup table.
   16.      The method of claim 1, wherein using the inversion process includes:
            generating an estimate of the position of the receiver, the receiver taken
   as a first receiver:
             2enerating an estimate of each position of one or more other receivers,
   each of the one or more other receivers having a known position with respect to
   the first receiver;
            generating values of signals expected at the first receiver and at the one
   or more other receivers from each of the transmitting sources;
30          generating a difference between the values of the signals expected and a
   combination of the signal received at the first receiver and signals received at the
   one or more other receivers;
            when the difference is less than a threshold, selecting values of
                                             40

   coordinates of the first receiver, as the position of the first receiver, that
   generated the signals expected at the first receiver for which the difference is less
   than the threshold; and
           when the difference is greater than the threshold, generating a new
 5 estimate of the position of the first receiver, if the inversion process is within a
   maximum iteration.
   17.     The method of claim 1, wherein using the inversion process includes:
           generating sets of values of a signal expected at the receiver, each set
10 generated from a different estimate of the position of the receiver;
           generating differences between the values of the signal expected and the
   signal received from the receiver for each set; and
           selecting the estimate that minimizes error in the difference between the
   values of the signal expected and the signal received from the receiver,
15
   18.     The method of claim 17, wherein generating the sets of values of signals
   expected at the receiver includes using a forward model with each of the
   estimates.
20 19.     A method comprising:
           receiving signals from a receiver in an underground formation in
   response to signals generated from three or more transmitting sources, each of
   the three or more transmitting sources located at a known position, at least one
   transmitting source of the three or more transmitting sources separated from and
   mounted on a structure different from at least one other transmitting source of
   the three or more transmitting sources;
           determining angles with respect to the transmitters relative to the receiver
   based on the received signals; and
           determining a position of the receiver based on the angles and the known
30 positions.
   20.     The method of claim 19, wherein the detennining of angles and the
   determining the position of the receiver is conducted downhole.
                                              41

   21.     The method of claim 19, wherein the method includes controlling the
   three or more transmitting sources including a transmitting source that has a
   current-carrying wire of a closed loop of a circuit, the current-carrying wire
   being at a known position, the current-carrying wire arranged along a straight
 5 line path such that signals received at the receiver from the closed loop are
   negligible from portions of the closed loop that follow a path different from the
   straight-line path,
   22.     The method of claim 19, wherein the method includes
10         controlling the three or more transmitting sources including a
   transmitting source that has a number of current-carrying wires forming a closed
   loop of a circuit, each of the number of current-carrying wires being at a known
   position and arranged along a straight-line path such that signals received at the
   receiver from the closed loop are negligible from portions of the closed loop that
15 follow a path different from the straight-line paths; and
           processing the signals based on a model of the number of current
   carrying wires and their corresponding straight-line paths.
   23.     The method of claim 19, wherein the method includes controlling the
20 three or more transmitting sources including at least three dipole transmitters.
   24.     The method of claim 19, wherein the three or more transmitting sources
   include one or more transmitting sources located aboveground.
25 25.     The method of claim 19, wherein the method includes generating at least
   one signal of the generated signals from a transmitting source aboveground or
   near ground, the signal having a low frequency to penetrate deeply underground
   such that the signal is measurable in an underground volume extending from a
   hundred feet to thousands feet in depth and from a hundred feet to thousands of
30 feet across the depth.
   26.     The method of claim 19, wherein determining the position includes
   evaluating geometric identities using the angles and the known positions.
                                             42

   27.     The method of claim 26, wherein evaluating geometric identities includes
   using a cosine theorem.
   28.     The method of claim 19, wherein the method includes using gravity to
 5 provide a reference.
   29,     The method of claim 19, wherein the method includes operating each of
   the transmitters at a frequency different from that of the other ones of the
   number of transmitters.
10
   30.     A method comprising:
           determining an electric field at a receiver, located in an underground
   formation, in response to signals generated from three or more magnetic dipoles
   located at known positions such that there are at least three distinct planes
15 defined respectively by location of one of the three or tnore magnetic dipoles and
   the electric field at the receiver due to the respective magnetic dipole; and
           determining the position of the receiver based on the known positions
   and a direction of the electric field.
20 31.     The method of claim 30, wherein the determining of the position of the
   receiver is conducted downhole.
   32.     The method of claim 30, wherein the three or more magnetic dipoles are
   located aboveground or near ground.
25
   33.     The method of claim 30, wherein no more than two transmitters and the
   receiver are in a plane.
   34,     A machine-readable storage device having instructions stored thereon,
30 which, when performed by a machine, cause the machine to perform operations
   to:
           receive signals from a receiver in an underground formation in response
   to signals generated from three or more transmitting sources, each of the three or
                                              43

   more transmitting sources located at a known position, at least one transmitting
   source of the three or more transmitting sources separated from and mounted on
   a structure different from at least one other transmitting source of the three or
   more transmitting sources; and
 5          process the received signals, using an inversion process based on the
   signals generated from the three or more transmitting sources, to determine the
   position of the receiver,
   35.      The machine-readable storage device of claim 34, wherein the
10 instructions include instructions to control the three or more transmitting sources
   including a transmitting source that has a current-carrying wire of a closed loop
   of a circuit, the current-carrying wire being at a known position, the current
   carrying wire arranged along a straight-line path such that signals received at the
   receiver from the closed loop are negligible from portions of the closed loop that
15 follow a path different from the straight-line path.
   36.      The machine-readable storage device of claim 34, wherein the
   instructions include instructions to:
            control the three or more transmitting sources including a transmitting
20 source that has a number of current-carrying wires forming a closed loop of a
   circuit, each of the number of current-carrying wires being at a known position
   and arranged along a straight-line path such that signals received at the receiver
   from the closed loop are negligible from portions of the closed loop that follow a
   path different from the straight-line paths; and
25          process the signals based on a model of the number of current-carrying
   wires and their corresponding straight-line paths.
   37.      The machine-readable storage device of claim 34, wherein the
   instructions include instructions to control the three or more transmitting sources
30 including at least three dipole transmitters.
   38.      The machine-readable storage device of claim 34, wherein the
   instructions include instructions to control the three or more transmitting sources
                                             44

   including a source generating large distribution of current aboveground or near
   ground that generate electromagnetic fields below ground, the electromagnetic
   fields measurable at the receiver, the large distribution of current being at a
   known position.
   39.     The machine-readable storage device of claim 34, wherein the
   instructions include instructions to generate at least one signal of the generated
   signals front a transmitting source aboveground or near ground, the signal
   having a low frequency to penetrate deeply underground such that the signal is
10 measurable in an underground volume extending from a hundred feet to
   thousands feet in depth and from a hundred feet to thousands of feet across the
   depth.
   40.     The machine--readable storage device of claim 34, wherein the
15 instructions include instructions to operate the three or more transmitting sources
   sequentially such that only one of the three or more transmitting sources is on at
   one time period.
   41,     The machine-readable storage device of claim 34, wherein the
20 instructions include instructions to operate one or more of the transmitting
   sources located aboveground.
   42.     The machine-readable storage device of claim 34, wherein the three or
   more transmitting sources include a transmitter in a well.
25
   43.     The machine-readable storage device of claim 34, wherein the three or
   more transmitting sources include no more than two transmitters in a plane that
   contains the receiver.
30 44.     The machine-readable storage device of claim 34, wherein the
   instructions include instructions to operate each of the transmitters at a frequency
   less than about 50 lz.
   45.     The machine-readable storage device of clamn 34, wherein using the
                                            45

   inversion process includes:
            generating values of a signal expected at the receiver from each of the
   transmitting sources:
            generating a difference between the signal expected and the signal
 5 received from the receiver;
            when the difference is less than a threshold, selecting values of
   coordinates for the receiver, as the position of the receiver, that generated the
   signal expected at the receiver for which the difference is less than the threshold;
   and
10          when the difference is greater than the threshold, generating new values
   of a signal expected at the receiver and determine if a difference between the
   new values and the signal received from the receiver is less than the threshold.
   46.      The machine-readable storage device of claim 45, wherein generating
15 values of the signal expected at the receiver includes using an estimate of the
   position of the receiver with a forward model.
   47.      The machine-readable storage device of claim 34, wherein generating
   values of the signal expected at the receiver includes using an estimate of the
20 position of the receiver with a lookup table.
   48.      The machine-readable storage device of clahn 34, wherein using the
   inversion process includes:
            generating an estimate of the position of the receiver, the receiver taken
   as a first receiver:
             generating an estimate of each position of one or more other receivers,
   the one or more other receivers having a known position with respect to the first
   receiver;
            generating values of signals expected at the first receiver and at the one
30 or more other receivers from each of the transmitting sources;
            generating a difference between the values of the signals expected and a
   combination of the signal received at the first receiver and signals received at the
   one or more other receivers;
                                             46

           when the difference is less than a threshold, selecting values of
   coordinates of the first receiver, as the position of the first receiver, that
   generated the signal expected at the first receiver for which the difference is less
   than the threshold; and
 5         when the difference is greater than the threshold, generating a new
   estimate of the position of the first receiver, if the inversion process is within a
   maximum iteration.
   49.     The machine--readable storage device of claim 34, wherein using the
10 inversion process includes:
           generating sets of values of a signal expected at the receiver, each set
   generated from a different estimate of the position of the receiver;
           generating differences between the values of the signal expected and the
   signal received from the receiver for each set;
15         selecting the estitnate that minimizes error in the difference between the
   values of the signal expected and the signal received front the receiver.
   50.     The machine-readable storage device of claim 49, wherein generating the
   sets of values of the signal expected at the receiver includes using a forward
20 model with each of the estimates.
   51.     A machine-readable storage device having instructions stored thereon,
   which, when performed by a machine, cause the machine to perform operations
   to:
           receive signals from a receiver in an underground formation in response
   to signals generated front three or more transmitting sources, each of the three or
   more transmitting sources located at a known position, at least one transmitting
   source of the three or more transmitting sources separated from and mounted on
   a structure different frorn at least one other transmitting source of the three or
30 more transmitting sources;
           determine angles with respect to the transmitters relative to the receiver
   based on the received signals; and
           determine the position of the receiver based on the angles and the known
                                              47

   positions.
   52.      The machine-readable storage device of claim 51, wherein the
   instructions include instructions to control the three or more transmitting sources
 5 including a transmitting source that has a current-carrying wire of a closed loop
   of a circuit, the current-carrying wire being at a known position, the current
   carrying wire arranged along a straight-line path such that signals received at the
   receiver from the closed loop are negligible from portions of the closed loop that
   follow a path different from the straight-line path.
10
   53.      The machine-readable storage device of claim 51, wherein the
   instructions include instructions to:
            control the three or more transmitting sources including a transmitting
   source that has a number of current-carrying wires forming a closed loop of a
15 circuit, each of the number of current-carrying wires being at a known position
   and arranged along a straight-line path such that signals received at the receiver
   from the closed loop are negligible from portions of the closed loop that follow a
   path different from the straight-line paths; and
           process the signals based on a model of the number of current-carrying
20 wires and their corresponding straight-line paths.
   54.      The machine-readable storage device of clain 51, wherein the
   instructions include instructions to control the three or more transmitting sources
   including at least three dipole transmitters.
25
   55.      The machine-readable storage device of claim 51, wherein the
   instructions include instructions to control the three or more transmitting sources
   including transmitting sources located aboveground.
30 56.      The machine-readable storage device of claim 51, wherein the
   instructions include instructions to generate at least one signal of the generated
   signals from a transmitting source aboveground or near ground, the signal
   having a low frequency to penetrate deeply underground such that the signal is
   measurable in an underground volume extending from a hundred feet to
                                             48

   thousands feet in depth and from a hundred feet to thousands of feet across the
   depth.
   57.     The machine-readable storage device of claim 51, wherein operations to
 5 determine the position include evaluating geometric identities using the angles
   and the known positions.
   58.     The machine-readable storage device of clahn 57, wherein evaluating
   geometric identities includes using a cosine theorem.
10
   59.     The machine-readable storage device of claim 51, wherein the operations
   include using gravity to provide a reference direction.
   60.     The machine-readable storage device of claim 51, wherein the operations
15 include operating each of the transmitters at a frequency different from that of
   the other ones of the number of transmitters.
   61.     The machine-readable storage device of claim 51, wherein the operations
   include operating the transmitters sequentially with a single frequency.
20
   62,     A machine-readable storage device having instructions stored thereon,
   which, when performed by a machine, cause the machine to perform operations
   to:
           determine an electric field at a receiver, located in an underground
25 formation, in response to signals generated from three or more magnetic dipoles
   located at known positions such that there are at least three distinct planes
   defined respectively by location of one of the three or more magnetic dipoles and
   the electric field at the receiver due to the respective magnetic dipole; and
           determine the position of the receiver based on the known positions and a
30 direction of the electric field.
   63.     The machine-readable storage device of claim 62, wherein the three or
   more magnetic dipoles are located aboveground or near ground.
                                              49

   64.      The machine--readable storage device of claim 62, wherein no more than
   two transmitters and the receiver in a plane.
 5 65.     A system comprising:
            three or more transmitting sources, each of the sources located at a
   known position, at least one transmitting source of the three or more transmitting
   sources separated from and mounted on a structure different from at least one
   other transmitting source of the three or more transmitting sources;
10          a control unit arranged to control generation of signals from the three or
   more transmitting sources;
            a receiver in an underground formation, the receiver operable to receive
   signals in response to the generation from the three or more transmitting sources;
            a processing unit arranged to process the received signals, using an
15 inversion process based on the signals generated from the three or more
   transmitting sources, to determine the position of the receiver.
   66.      The system of claim 65, wherein the processing unit is located downhole.
20 67.      The system of claim 65, wherein the three or more transmitting sources
   include a transmitting source that has a current-carrying wire of a closed loop of
   a circuit, the current-carrying wire being at a known position, the current
   carrying wire arranged along a straight-line path such that signals received at the
   receiver from the closed loop are negligible from portions of the closed loop that
   follow a path different from the straight-line path.
   68.      The system of claim 65, wherein the three or more transmitting sources
   include a transmitting source that has a number of current-carrying wires
   forming a closed loop of a circuit, each of the number of current-carrying wires
30 being at a known position and arranged along a straight-line path such that
   signals received at the receiver from the closed loop are negligible from portions
   of the closed loop that follow a path different from the straight-line paths; and
   the processing unit is arranged to process the signals based on a model of the
                                             50

   number of current-carrying wires and their corresponding straight-line paths.
   69.      The system of claim 65, wherein the three or more transmitting sources
   include at least three dipole transmitters.
   70.      The system of claim 65, wherein the three or more transmitting sources
   include a source operable to generate large distribution of current aboveground
   or near ground that generates electromagnetic fields below ground, the
   electromagnetic fields measurable at the receiver, the large distribution of
10 current being at a known position.
   71.      The system of claim 65, wherein the three or more transmitting sources
   include one or more transmitting sources located aboveground.
15 72.      The system of claim 65, wherein the control unit is operable to generate
   at least one signal of the generated signals from a transmitting source
   aboveground or near ground, the signal having a low frequency to penetrate
   deeply underground such that the signal is measurable in an underground volume
   extending from a hundred feet to thousands feet in depth and from a hundred feet
20 to thousands of feet across the depth.
   73.      The system of claim 65, wherein the control unit is operable to operate
   the three or more transmitting sources sequentially such that only one of the
   three or more transmitting sources is on at one time period.
25
   74.      The system of claim 65, wherein the three or more transmitting sources
   include a transmitter in a well.
   75.      The system of claim 65, wherein the three or more transmitting sources
30 include no more than two transmitters in a plane that contains the receiver.
   76.      The system of claimn 65, wherein the control unit is arranged to operate
   each of the transmitting sources at a frequency less than about 50 iz.
                                             51

   77.      The system of claim 65, wherein the processing unit using the inversion
   process includes the processing unit operable to:
            generate values of a signal expected at the receiver from each of the
   transmitting sources;
 5          generate a difference between the signal expected and the signal received
   from the receiver;
            when the difference is less than a threshold, select values of coordinates
   for the receiver, as the position of the receiver, that generated the signal expected
   at the receiver for which the difference is less than the threshold; and
10          when the difference is greater than the threshold, generate new values of
   a signal expected at the receiver and determine if a difference between the new
   values and the signal received from the receiver is less than the threshold.
   78.      The system of claim 77, wherein the processing unit operable to generate
15 values of the signal expected at the receiver includes the processing unit
   operable to use an estimate of the position of the receiver with a forward model.
   79.      The system of claim 77, wherein the processing unit operable to generate
   values of the signal expected at the receiver includes the processing unit
20 operable to use an estimate of the position of the receiver with a lookup table.
   80.      The system of claim 65, wherein the processing unit using the inversion
   process includes the processing unit operable to:
            generate an estimate of the position of the receiver, the receiver taken as
25 a first receiver;
            generate an estimate of each position of one or more other receivers, each
   of the one or more other receivers having a known position with respect to the
   first receiver;
            generate values of signals expected at the first receiver and at the one or
30 more other receivers from each of the transmitting sources;
            generate a difference between the values of the signals expected and a
   combination of the signal received at the first receiver and signals received at the
   one or more other receivers;
                                              52

           when the difference is less than a threshold, select values of coordinates
   of the first receiver, as the position of the first receiver, that generated the signal
   expected at the first receiver for which the difference is less than the threshold;
   and
 5          when the difference is greater than the threshold, generate a new estimate
   of the position of the first receiver, if the inversion process is within a maximum
   iteration.
   81.      The system of claim 65, wherein the processing unit using the inversion
10 process includes the processing unit operable to:
            generate sets of values of a signal expected at the receiver, each set
   generated from a different estimate of the position of the receiver;
            generate differences between the values of the signal expected and the
   signal received from the receiver for each set; and
15          select the estimate that minimizes error in the difference between the
   values of the signal expected and the signal received front the receiver.
   82.      The system of claim 81, wherein the processing unit operable to generate
   the sets of values of signals expected at the receiver includes the processing unit
20 operable to use a forward model with each of the estimates.
   83.      A system comprising:
           three or more transmitting sources, each of the transmitting sources
   located at a known position, at least one transmitting source of the three or more
25 transmitting sources separated from and mounted on a structure different from at
   least one other transmitting source of the three or more transmitting sources;
            a control unit arranged to control generation of signals from the three or
   more transmitting sources;
            a receiver in an underground formation, the receiver operable to receive
30 signals in response to the generation from the three or more transmitting sources;
            a processing unit arranged to determine angles with respect to the
   transmitters relative to the receiver based on the received signals and to
   determine the position of the receiver based on the angles and the known
                                               53

   positions.
   84.      The system of claim 83, wherein the processing unit is located downhole.
 5 85.      The system of claim 83, wherein the three or more transmitting sources
   include a transmitting source that has a current-carrying wire of a closed loop of
   a circuit, the current-carrying wire being at a known position, the current
   carrying wire arranged along a straight-line path such that signals received at the
   receiver from the closed loop are negligible from portions of the closed loop that
10 follow a path different from the straight-line path.
   86.      The system of claim 83, wherein the three or more transmitting sources
   include a transmitting source that has a number of current-carrying wires
   forming a closed loop of a circuit, each of the number of current-carrying wires
15 the current-carrying wire being at a known position and arranged along a
   straight-line path such that signals received at the receiver from the closed loop
   are negligible from portions of the closed loop that follow a path different from
   the straight-line paths; and the processing unit is arranged to process the signals
   based on a model of the number of current-carrying wires and their
20 corresponding straight-line paths.
   87.      The system of claim 83, wherein the three or more transmitting sources
   include at least three dipole transmitters.
25 88.      The system of claim 83, wherein the three or more transmitting sources
   include one or more transmitting sources located aboveground.
   89.      The system of claim 83, wherein the control unit is operable to generate
   at least one signal of the generated signals from a transmitting source
30 aboveground or near ground, the signal having a low frequency to penetrate
   deeply underground such that the signal is measurable in an underground volume
   extending from a hundred feet to thousands feet in depth and from a hundred feet
   to thousands of feet across the depth.
                                             54

   90.      The system of clain 83, wherein the processing unit arranged to
   determine the position includes the processing unit arranged to evaluate
   geometric identities using the angles and the known positions.
 5 91.      The system of claim 83, wherein the processing unit arranged to evaluate
   geometric identities includes the processing unit arranged to use a cosine
   theorem.
   92.      The system of claim 83, wherein the processing unit includes the
10 processing unit operable to use gravity to provide a reference direction.
   93.      The system of claim 83, wherein the control unit is arranged to operate
   each of the transmitters at a frequency different from that of the other ones of the
   number of transnitters.
15
   94.     A system comprising:
            a receiver located in an underground formation;
           three or more magnetic dipoles located at known positions such that there
   are at least three distinct planes defined respectively by location of one of the
20 three or more magnetic dipoles and the electric field at the receiver due to the
   respective magnetic dipole;
            a control unit arranged to control generation of signals from the three or
   more magnetic dipoles; and
            a processing unit arranged to determine an electric field at the receiver in
25 response to generating the signals, and to determine the position of the receiver
   based on the known positions and the direction of the electric field.
   95.      The system of claim 94, wherein the processing unit is located downhole.
30 96.      The system of claim 94, wherein the three or more magnetic dipoles are
   located aboveground or near ground.
   97.      The system of claim 94, wherein no more than two magnetic dipoles and
                                             55

the receiver are in a plane.
                             56

<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
