             A METHOD OF PAIRING WIRELESS DEVICES
ABSTRACT
The invention relates to a method of pairing a first device with a second
device, the first and second devices being adapted for wirelessly
communicating with each other, the pairing of devices aiming at ensuring
communication only between trusted devices. The invention further relates
to a communication device, a system, a computer readable medium and a
data processing system. The object of the present invention is to provide a
simple and intuitive scheme for pairing two wireless devices. The problem
is solved by providing in the first device an algorithm comprising at least
the following states a) A STANDBY state where the first device is in a
default state; b) A CONNECTED          state where wireless communication
between the first and second devices is established; c) A PAIRING state
comprising a pairing search state where pairing inquiries are repeatedly
issued by the first device; and further providing that when the first device is
NOT in the STANDBY or CONNECTED                  states, the first device is
automatically, repeatedly brought in the pairing search state. This has the
advantage of providing an automatic scheme for pairing two wireless
devices. The invention may e.g. be used for wireless communication
devices, e.g. portable, low-power devices, such as listening systems.
(Fig. 1c should be published)

                2/5
                    N'     (a
         LIE
            C04
                       N
 0o
    S ma
      a
           L~i  w)
                         S
CLs
              FIG. lc

                                           1
   TITLE
                  "A METHOD OF PAIRING WIRELESS DEVICES"
 5
   The headings and subheadings in this specification are provided for
   convenience to assist the reader, and they are not to be interpreted so as to
   narrow or limit the scope of the disclosure in the description, claims, abstract
   or drawings.
10
   TECHNICAL FIELD
   The present invention relates to pairing of wireless devices, in particular to
   devices that communicate according to a digital protocol. The invention
15 relates specifically to a method of pairing a first device with a second device,
   the first and second devices being adapted for wirelessly communicating with
   each other, the pairing of devices aiming at ensuring communication only
   between trusted devices. The method of pairing does not require user
   interaction.
20
   The invention furthermore relates to a communication device comprising a
   wireless interface for wirelessly communicating with another, trusted device.
   The invention furthermore relates to a communication system comprising
   such a communication device and another, trusted communication device.
25
   The invention further relates to a data processing system and to a computer
   readable medium.
   The invention may e.g.        be useful in applications such as wireless
30 communication devices, e.g. portable, low-power devices, such as listening
   systems.
   BACKGROUND ART
35

                                          2
   Digital wireless network standards such as Bluetooth or DECT or proprietary
   systems often include a security measure to ensure that two devices that are
   in operative reach of each other are mutually accepted. This procedure is
   termed pairing and may involve the exchange of a passkey, typically
 5 involving user input. Normally, when two Bluetooth devices are to be paired,
   one or more buttons on each device have to be pressed for a certain amount
   of time to bring the devices into a mode where pairing can occur. For elderly
   people or other people with limited technical skills, this may be a complicated
   task, which can ultimately limit the success of devices (e.g. digital wireless
10 hearing aid accessories) based on the Bluetooth technology. In the Bluetooth
   2.1 specification a so-called touch to pair feature based on near field
   communication according to the NFC standard is introduced.
   US 2009/0058608 describes a method for connecting wireless electric
15 actuating devices to a medical appliance via a wireless communication
   channel. The method comprises the steps of initiating the connection
   operation for a wireless electric actuating device to a medical appliance and
   performing a connection procedure, in which the actuating device is assigned
   to the medical appliance. The initiation of the connection operation is carried
20 out from the medical appliance, e.g. via a push button.
   SUMMARY OF INVENTION
   The present application specifies an alternative, simple method for the
25 pairing of two wireless devices that operate according to a predefined
   communication scheme. The aim of pairing is to provide a certain level of
   security, in that only devices of certain characteristics are able to be
   connected, thereby forming a closed group of devices.
30 The present invention described herein may provide a simple and intuitive
   scheme for pairing two wireless devices.
   A method of pairing wireless communication devices:
35 In accordance with one aspect of the invention there is provided a method of
   pairing a first device with a second device, the first and second devices being

                                           3
   adapted for wirelessly communicating with each other, the pairing of devices
   aiming at ensuring communication only between trusted devices, the method
   comprising
   in the first device providing an algorithm comprising at least the following
 5 states
   A STANDBY state where the first device is in a default state;
   A CONNECTED state where wireless communication between the first and
   second devices has been established;
   A PAIRING state comprising a pairing search state where pairing inquiries
10 are repeatedly issued by the first device; and
   providing    that when the     first device is   NOT in    the STANDBY        or
   CONNECTED states, the first device is automatically, repeatedly brought in
   the pairing search state.
15 This has the advantage of providing an automatic scheme for pairing two
   wireless devices. In other words, no user intervention is necessary for
   initiating a pairing process.
   The term 'adapted for wirelessly communicating with each other' is in the
20 present context taken to mean that the devices can exchange information
   that at some level is understood by both devices. The first and second
   devices are e.g. adapted to communicate in a predefined frequency range
   (e.g. in a non-licensed frequency range), according to predefined modulation
   schemes, and according to a predefined protocol.
25
   In the present context, the terms 'mode' and 'state' are used interchangeably
   with no intentional difference in meaning.
   In an embodiment, the STANDBY state comprises an idle or wait state, a low
30 power state and/or a power-off state. In an embodiment, the power-off state
   is a separate state.
   In an embodiment, the method comprises providing that a transmit power
   P(Tx-PS) of the first device when in a the pairing search state is smaller than
35 a transmit power P(Tx-Con) when in a CONNECTED state.

                                                4
   In an embodiment, the method comprises providing that P(Tx-PS) is at least
   5 times smaller than P(Tx-Con), such as at least 10 times smaller such as at
   least 50 times smaller.
 5 In an embodiment, the method comprises providing that the transmit power
   P(Tx-PS) of the first device when in a the pairing search state corresponds to
   a transmission range of pairing RoP smaller than 1 m, such as smaller than
   0.5 m, such as smaller than 0.3 m, such as smaller than 0.1 m. The practical
   relation between transmit power P(Tx) and range of operation depends on
10 antennas of the transmitting and receiving devices, on the loss of the transmit
   path between the two devices and on the minimum acceptable receive power
   P(Rx). The received power PRX can be expressed as
    Pa =Prx - Dx,,,l - PL - Dx", where
15     *  PTX is the transmitted power from the transmitting unit [dBm].
       *  DTX,ant is directivity of the transmitter antenna [dB].
       *  DRX,ant is directivity of the receiving antenna [dB].
       * PL is the Path loss [dB].
       *  PRX is the received power [dBm].
20
   The range of operation of a given mode of operation (be it a pairing mode,
   e.g. pairing search mode RoP or a CONNECTED mode RoC) can e.g. be
   found as the maximum distance, where a given minimum received power
   (e.g. Pmin(Rx-PS) and Pmin(Tx-Con), respectively), enough for acceptable
25 reception of the signal in question, is received by the receiving device, when
   the transmitting device is transmitting with the nominal transmit power for that
   mode of operation (e.g. P(Tx-PS) or P(Tx-Con).
   In an embodiment, the method comprises modifying the range of pairing RoP
30 from a first (e.g. default) value (RoP1) to a second preferred value (RoP2)
   (as e.g. illustrated in FIG. 1c). This can e.g. be done by adapting the value of
   the transmit power P(Tx-PS) in the pairing search mode. This has the
   advantage of allowing the pairing process to be adapted to the physical
   constraints of a given application (to avoid unintended pairing of devices).
35

                                            5
   In an embodiment, the method comprises providing that the duration of a
   pairing search state extends for a predefined PS-time. Alternatively, the
   method comprises that the pairing search state extends until the actions of
   the state has been carried out, e.g. until the received replies with device IDs
 5 (if any) have been checked for their trustworthiness and proper action has
   been taken (e.g. establish a connection).
   In an embodiment, the method comprises providing that a pairing inquiry
   issued by the first device during a pairing search state comprises a request
10 for identification, ID, of devices receiving the inquiry. In an embodiment, the
   ID comprises an address (e.g. a name) of the device in question. In an
   embodiment, the ID comprises a MAC-address (MAC=Medium                    Access
   Control). In an embodiment, the ID comprises a range of services offered by
   the device in question, and/or the type of device, e.g. a mobile telephone, a
15 digital camera, a headset, an audio delivery device, etc.
   In an embodiment, the method comprises providing a record of trusted
   device IDs with which connection is allowed to be established. This can e.g.
   be a list of trusted devices stored in the first device (e.g. in a memory, e.g. in
20 an erasable memory or in firmware, or implemented in hardware) or based
   on a record read from a database, etc. In an embodiment, the method
   comprises (e.g. in the pairing search state) providing that a received device
   ID is compared to a record of trusted device IDs.
25 In an embodiment, the method comprises (e.g. in the pairing search state)
   establishing a connection to the second device, if a received device-ID is
   from a device on the record of trusted device IDs with which connection is
   allowed to be established.
30 In an embodiment, the method further comprises providing a CONNECT
   state comprising a re-connect search state where the first device is ready to
   receive re-connect requests from other devices and to connect, if the
   received ID matches a record of previously connected devices. In an
   embodiment, the method comprises providing that the duration of a re
35 connect search state extends for a predefined RC-time.

                                           6
   In an embodiment, the method comprises providing that the first device is
   adapted to toggle between the PAIRING state and the CONNECT state when
   not in the STANDBY or CONNECTED states. In an embodiment, the method
   comprises providing that the first device is adapted to toggle between the
 5 pairing search state and the re-connect search state when not in the
   STANDBY or CONNECTED states.
   In an embodiment, the method comprises providing a record of device IDs
   with which connection has been most recently allowed to be established. In
10 an embodiment, such list is established during use by storing in a (preferably
   read/writeable (e.g. cyclic), e.g. volatile or non-volatile) memory the ID of
   each device with which connection has been established (e.g. limited to the
   last 5-10 devices). In an embodiment, the list can be cleared by a user. In an
   embodiment, the method comprises providing that a received device ID from
15 a re-connect request from another device is compared to a record of device
   IDs with which connection has been most recently allowed to be established.
   In an embodiment, the method comprises (e.g. in the re-connect search
   state) establishing a connection to the second device if a received re-connect
20 request is from a device on the record of device IDs with which connection
   has been most recently allowed to be established.
   In an embodiment, the method comprises further states, e.g. in that the
   PAIRING state further comprises a pairing request state, where the first
25 device transmits its ID with a request to be paired to another device. In an
   embodiment, the CONNECT state further comprises re-connect request
   state, where the first device transmits its ID with a request to be re-connected
   to another device.
30 A communication device:
   A communication device comprising a wireless interface for wirelessly
   communicating with another, trusted device is furthermore provided by the
   present invention. The wireless interface comprises a pairing/connection
35 scheme according to the method for enabling communication between the
   communication device and the trusted device as described above, in the

                                          7
   section on 'Mode(s) for carrying out the invention', in the drawings or in the
   claims.
   In an embodiment, the communication device is adapted for transmitting a
 5 signal representative of audio to the trusted device. In an embodiment, the
   communication device comprises an audio delivery device, such as a
   microphone or a music player or an audio extension device of a TV or video
   player, a PC or the like.
10 In an embodiment, the wireless interface is based on radiated fields or on
   coupled electric or magnetic fields. An advantage of the present invention is
   that only one wireless interface (based on radiated fields OR on near-field
   communication) is necessary to implement the automatic pairing scheme.
15 A communication system:
   A communication system comprising a communication device as described
   above, in the section on 'Mode(s) for carrying out the invention', in the
   drawings or in the claims and another, trusted communication device is
20 moreover provided by the present invention.
   In general, the first and second devices are adapted to communicate
   according to a communication standard. In an embodiment, the fist and
   second devices are adapted to follow a digital communication standard, e.g.
25 wireless IEEE 802.11 or ZigBee or Bluetooth or DECT, or to follow a
   proprietary scheme.
   In an embodiment, the other, trusted communication device form part of a
   listening system. In an embodiment, the listening system comprises a
30 listening instrument, e.g. a hearing instrument, a headset, an ear phone, an
   active ear plug or a combination thereof. In an embodiment, the listening
   system comprises an audio gateway device for receiving a number of audio
   signals and for transmitting at least one of the received audio signals to the
   listening instrument.
35

                                           8
   In an embodiment, the other, trusted device is a communication device as
   described above, in the section on 'Mode(s) for carrying out the invention', in
   the drawings or in the claims.
 5 A computer-readable medium:
   A tangible    computer-readable      medium    storing  a  computer    program
   comprising program code means for causing a data processing system to
   perform at least some of the steps of the method described above, in the
10 detailed description of 'mode(s) for carrying out the invention' and in the
   claims, when said computer program is executed on the data processing
   system is furthermore provided by the present invention. In addition to being
   stored on a tangible medium such as diskettes, CD-ROM-, DVD-, or hard
   disk media, or any other machine readable medium, the computer program
15 can also be transmitted via a transmission medium such as a wired or
   wireless link or a network, e.g. the Internet, and loaded into a data
   processing system for being executed at a location different from that of the
   tangible medium.
20 A data processing system:
   A data processing system comprising a processor and program code means
   for causing the processor to perform at least some of the steps of the method
   described above, in the detailed description of 'mode(s) for carrying out the
25 invention' and in the claims is furthermore provided by the present invention.
   As used herein, the singular forms "a," "an," and "the" are intended to include
   the plural forms as well (i.e. to have the meaning "at least one"), unless
   expressly stated otherwise. It will be further understood that the terms
30 "includes", "comprises", "including", and/or "comprising" when used in this
   specification, specify the presence of stated features, integers, steps,
   operations, elements, and/or components, but do not preclude the presence
   or addition of one or more other features, integers, steps, operations,
   elements, components, and/or groups thereof. It will be understood that when
35 an element is referred to as being "connected" or "coupled" to another
   element, it can be directly connected or coupled to the other element or

                                          9
   intervening elements maybe present, unless expressly stated otherwise.
   Furthermore, "connected" or "coupled" as used herein may include wirelessly
   connected or coupled. As used herein, the term "and/or" includes any and all
   combinations of one or more of the associated listed items. The steps of any
 5 method disclosed herein do not have to be performed in the exact order
   disclosed, unless expressly stated otherwise.
   BRIEF DESCRIPTION OF DRAWINGS
10
   The invention will be described, by way of example only more fully below in
   connection with a preferred embodiment and with reference to the drawings
   in which:
15 FIG. 1 shows examples of devices to be paired, connected devices and
   zones or ranges of pairing (RoP) and connection (RoC), respectively,
   FIG. 2 shows schematic state diagrams of pairing/connection algorithms
   according to embodiments of the present invention,
20
   FIG. 3 shows a simple pairing/connect algorithm according to an embodiment
   of the present invention, and
   FIG. 4 shows a preferred pairing area for a second device D2 located on a
25 first device D1.
   The figures are schematic and simplified for clarity, and they just show details
   which are essential to the understanding of the invention, while other details
30 are left out.
   Further scope of applicability of the present invention will become apparent
   from the detailed description given hereinafter. However, it should be
   understood that the detailed description and specific examples, while
35 indicating preferred embodiments of the invention, are given by way of
   illustration only, since various changes and modifications within the spirit and

                                          10
   scope of the invention will become apparent to those skilled in the art from
   this detailed description.
 5 DESCRIPTION OF EMBODIMENTS
   FIG. 1 shows examples of devices to be paired, connected devices and
   zones or ranges of pairing (RoP) and connection (RoC), respectively.
10 FIG. la shows first device D1 and a second, trusted device D2 in a PAIRING
   mode, wherein they are located within a range of pairing (RoP) of each other.
   The identification (ID) of the second trusted device D2 forwarded to the first
   device is recognized by the first device D1 and a connection (symbolized by
   the double arrowed zig-zag line) is automatically initialized. A non-trusted
15 device D3 is shown within the range of pairing RoP of the first device D1, but
   is not able to be paired with the first device because its device ID is not
   among the trusted ones (or because the two devices are otherwise not able
   to understand each other). Another, trusted device D4 is located within the
   range of connection (RoC) of the first device, but because the first device is
20 in a PAIRING mode (where its transmission power is reduced compared to a
   CONNECTED mode), D4 is (in this mode) out of reach of D1.
   FIG. lb shows a situation where the first and second devices D1 and D2 are
   in a CONNECTED state. Device D2 is within the range of connection (RoC)
25 of D1. Additional trusted device D4 is out of reach of the first device because
   it is farther away from D1 than the range of connection RoC. Device D3 is
   within RoC, but cannot be connected to D1 because its ID and/or class is/are
   not known or accepted by D1 (or because the two devices are otherwise not
   compatible).
30
   FIG. 1c depicts a typical user scenario for two first and second accessory
   devices to a hearing aid, a TV-box D1 (the first device) for wirelessly
   transmitting a TV-sound signal and an audio selection device D2 (the second
   device) for receiving a number of audio signals and (wirelessly) forwarding
35 one of them to a hearing aid (or a pair of hearing aids). The TV-box is located
   near the TV and if connected to the audio selection device, the TV audio

                                          11
   signal is transmitted by means of a digital wireless link from the TV-box to the
   audio selection device. In case the TV-box D1 is not connected to the audio
   selection device D2 (or to another trusted device, e.g. the pair of ear phones
   D4 or a headset D3) or is in a standby mode, the TV-box of the embodiment
 5 of FIG. 1c is adapted to automatically shift between pairing search and re
   connect search mode.
   When specifying a new pairing strategy, various scenarios, requirements and
   wishes should preferably be considered.
10
   For example, in an apartment, where a device D5 located in a first room
   (Room 1 in FIG. 1c) within the reach of a pairing device, e.g. the TV-Box 1,
   located in a second room (Room 2) as shown in FIG. 1c, the risk of
   unintentionally connecting the 'neighbouring' device D5 to the TV-Box D1
15 should preferably be minimised.
   The issue is e.g. handled by minimising the distance between the TV-box
   and the audio selection device in the pairing situation to a predefined
   (maximum) distance, whereas the distance between the TV-box and the
20 audio selection device during      normal operation should        preferably be
   maximised to assure user satisfaction. The two relevant ranges are defined
   as follows:
   1. A Range of Pairing (RoP) is defined as the maximum distance between
25     the two devices within which they are able to pair.
   2. A Range of Connection (RoC) is defined as the maximum range, within
       which the two devices are capable of exchanging audio data of an
       acceptable (e.g. predefined) quality and for which the two devices can be
       reconnected in case one has been turned off or has been temporarily
30     moved out of range.
   The range of operation can e.g. be modified by adapting the transmit power
   P(Tx-PS) of the TV-box to a specific (here) lower value than the default
   value, so that the range of pairing RoP is changed from a (default) RoP1
35 value to an adapted RoP2-value whereby the unintended pairing problems
   can be minimized. In an embodiment, the RoP can be adjusted (either

                                              12
   manually by the user or by a technician during fitting of the system, e.g. via a
   software setting). Alternatively, the default transmit power P(Tx-PS) could be
   set to ensure a range of pairing below a very limited RoP-value, e.g.
   corresponding to less than 0.5 m, such as in a range from a minimum to a
 5 maximum RoP value, e.g. from 0.05 m to 0.5 m, such as from 0.1 m to 0.3 m.
   In an embodiment, a user friendly way of pairing is to adapt the system to
   provide that the audio selection device is paired to the TV-box when placed
   on top of or immediately next to each other during pairing. In an embodiment,
   an indication or a preferred Pairing area, e.g. a drawing outline or a small
10 extending fence on or a groove in the casing of a first device D1 (here the
   TV-box) indicating a proper placement of a second device D2 (here an audio
   selection device or a headset or a pair of headphones) to be paired during a
   pairing search state of the TV-box, is provided (cf. FIG. 4).
15 Alternatively, a fixed (relatively high or maximum) Tx-power setting could be
   set and then attenuated (preferably continuously or in steps) according to the
   need for limiting the range of operation RoP during pairing.
   In an embodiment, the minimum search transmit power P(Tx-PS) setting is
20 49 dBm, reducing the effective maximum RoP to around 0.5 m in the setup of
   FIG. 1c.
   To decide that a device is within the RoP, an RF analysis must be performed.
   A simple model for the received RF power PRX of a given receiving device
25 (e.g. TV-box in FIG. 1c) is given by
   P    =Px -DTa,      - PL-Dp       "' where
       * PTX is the transmitted power from the transmitting unit [dBm].
       " DTX,ant is directivity of the transmitter antenna [dB].
30     e DRX,ant is directivity of the receiving antenna [dB].
       * PL is the Path loss [dB].
       . PRX  is the received power [dBm].

                                               13
   Table 1: RF data for the example of FIG. 1c.
           Unit                                          Dant    PTX,max    PRX,min
           Audio selection device RF data                O dB    4 dBm      -80 dBm
           TV-box RF data                                O dB    6 dBm      -85 dBm
   The minimum acceptable received power in the TV-box or threshold power
   PRX,th  during pairing can be estimated:
 5
    PRX,th ~ TX   DT,,,, - PL - DRX,,n = 4dBm --OdB - 5OdB -OdB = -46dBm x -5OdBm
   It is required/assumed that the audio selection device during pairing transmits
   with maximum power.
10 Likewise the TV-box transmit pairing power PTX,pair can be found as:
    PrXpair = PRXmin,Streamer DRX,ant -PL - DRX,ant = -80dBm -OdB - 50dB - OdB = -30dBm
   Other devices, like e.g. a PC, a headset or a mobile telephone may
   frequently be within a RoP. In a preferred embodiment these devices may
15 have already been identified as non-relevant devices in former pairing
   sessions, whereby time is saved in the current pairing session. In an
   embodiment, up to 10 devices can be registered as non-relevant.
   FIG.    2 shows schematic state diagrams of                 pairing/connection
20 algorithms            according       to   embodiments        of   the     present
   invention.
   The algorithm shown in FIG. 2a comprises a STANDBY state, a PAIRING
   state and a CONNECTED state.
25
   STANDBY state: The STANDBY state is the default state in the device. In
   this state, the device may be in a low-power mode and the device may leave
   the STANDBY state to a PAIRING state, e.g. to search for pairing requests or
   to issue a pairing request itself.
30
   PAIRING state: The PAIRING state is used to discover new (trusted)
   devices (pairing search) issuing requests for being paired (and to pair and

                                          14
   connect, if the received request is from a trusted device) or a pairing request
   state where the device itself issues a request for being paired with another
   device.
 5 CONNECTED        state: The CONNECTED          state is the state where two
   mutually trusted      devices are connected      (i.e.  in   one-  or two   way
   communication with each other).
   In an embodiment, the method comprises providing that the first device is
10 adapted to be in the PAIRING state when not in the STANDBY or
   CONNECTED states (cf. dashed arrow from PAIRING state to itself). The
   dashed arrows from PAIRING and CONNECTED                   states to STANDBY
   represent alternative or additional options. If e.g. the device is forced into a
   low power mode (e.g. by a lack of sufficient operational power or a user
15 setting), the STANDBY state would be automatically entered from any of the
   other states.
   The algorithm shown in FIG. 2b comprises a STANDBY state, a PAIRING
   state, a CONNECT state and a CONNECTED state.
20
   CONNECT state: The CONNECT state comprises a re-connect (search)
   state where the first device is ready to receive re-connect requests from
   other devices (and to connect, if a received request is from a previously
   connected device). It may further comprise a re-connect request state where
25 the first device itself issues requests for being re-connected with another
   device.
   Typically the algorithm starts from the STANDBY mode and enters the
   PAIRING mode from where it can go to the CONNECTED mode (if e.g.
30 paired with a trusted device). In an embodiment, the algorithm may
   alternatively start in the CONNECT mode (cf. dotted line from the STANDBY
   to CONNECT states in FIG. 2b) and try to re-connect to possible devices
   within its range of connection RoC to which it has previously been connected
   (if any). In an embodiment, the method comprises providing that the first
35 device is adapted to toggle between the PAIRING state and the CONNECT
   state when not in the STANDBY or CONNECTED states (cf. arrows between

                                           15
   the CONNECT and PAIRING states). In an embodiment, the method
   comprises providing that the first device is adapted to toggle between the
   pairing search state and the re-connect search state when not in the
   STANDBY or CONNECTED               states. In an embodiment, the algorithm
 5 changes to the CONNECT state from the CONNECTED state when the
   wireless link is disconnected (by intention or mistake). The dashed arrows
   from the PAIRING, CONNECT and CONNECTED states to the STANDBY
   state represent alternative or additional options. If e.g. the device is forced
   into a low power mode (e.g. by a lack of sufficient operational power or a
10 user setting), the STANDBY state would be automatically entered from any of
   the other states.
   FIG. 3 shows a simple pairing/connect algorithm          according      to   an
   embodiment of the present invention.
15
   FIG. 3 shows a more detailed version of an embodiment of the state diagram
   of FIG. 2a illustrating the PAIRING state.
   The PAIRING state is e.g. reached from the STANDBY state (e.g. after a
20 power-on). The PAIRING state may comprise the following actions:
   S1: Initialize pairing search
   *   Set Tx-power to pairing search PTX=P(Tx-PS)
   *   Set search time AT=T(PS)
25 e   Start search
   S2: Receive replies on search
   *   Receive replies from devices within range of pairing (RoP)
   e   Create list of replying devices (RD)
30
   S3: Evaluate replies on search
   *   Goto next device on RD-list
   *   Evaluate device ID
35 Question 1:
   Is Device = Trusted device?

                                            16
   If yes:
   Store device ID on list of previously connected devices (PCDs), and
 5 S4: Connect to trusted device
   Enter CONNECTED state where a link between the two devices in question
   is established until the connection is terminated in step terminate connection
   which leads to a return to the first step (S1) of the PAIRING state.
10 If no:
   Question 2:
   Has the end of the list of replying devices been reached?
15 If no:
   Goto step S3 of the PAIRING state.
   If yes:
   Goto the first step (S1) of the PAIRING state.
20
   In case the search time T(PS) has been reached before the end of the list of
   replying devices been reached (which is not intended to be typical) or if no
   replies have been received, the algorithm may automatically start from the
   beginning (step S1) or be adapted to change to another state (e.g. to the
25 CONNECT state as shown in FIG 2b, e.g. a re-connect (search) state) to
   ensure automatic pairing/reconnect)
   The invention is defined by the features of the independent claim(s).
   Preferred embodiments are defined in the dependent claims. Any reference
30 numerals in the claims are intended to be non-limiting for their scope.
   Some preferred embodiments have been shown in the foregoing, but it
   should be stressed that the invention is not limited to these, but may be
   embodied in other ways within the subject-matter defined in the following
35 claims.

                                          17
   REFERENCES
   US 2009/0058608 (Carl Zeiss Surgical) 05-03-2009
 5 The reference in this specification to any prior publication (or information
   derived from it), or to any matter which is known, is not, and should not be
   taken as, an acknowledgement or admission or any form of suggestion that
   that prior publication (or information derived from it) or known matter forms
   part of the common general knowledge in the field of endeavour to which this
10 specification relates.

                                          18
   The claims defining the invention are as follows:
   1.     A method of pairing a first device with a second device, the first and
   second devices being adapted for wirelessly communicating with each other,
 5 the pairing of devices aiming at ensuring communication only between
   trusted devices, the method comprising;
   -   providing in the first device a record of trusted device IDs with which
       connection is allowed to be established, and in the first device providing
       an algorithm comprising at least the following states
10        0 A STANDBY state where the first device is in a default state;
          *  A CONNECTED state where wireless communication between the
             first and second devices has been established;
          *  A PAIRING state for discovering new devices issuing requests for
             being paired; and
15 -   providing that when the first device is NOT in the STANDBY or
       CONNECTED states, the first device is automatically, repeatedly brought
       in the PAIRING state, and
   -   comparing the received second device ID to the record of trusted device
       IDs.
20
   2.     A method according to claim 1, wherein the pairing state comprising a
   pairing search state, and wherein a transmit power P(Tx-PS) of the first
   device when in the pairing search state is smaller than a transmit power
   P(Tx-Con) when the first device is in a CONNECTED state.
25
   3.     A method according to claim 2 comprising providing that the transmit
   power P(Tx-PS) of the first device when in a the pairing search state
   corresponds to a transmission range of pairing RoP smaller than 1 m, such
   as smaller than 0.5 m, such as smaller than 0.3 m, such as smaller than 0.1
30 m.
   4.     A method according to any one of claims 1 -3 comprising providing that
   the trusted device IDs are stored in a memory, in firmware, implemented in
   hardware of the first device or recorded in a database.
35

                                          19
   5.    A method according to any one of claims 1-4 comprising providing that
   the duration of a pairing search state extends for a predefined PS-time.
   6.    A method according to any one of claims 1-5 comprising providing that
 5 the second device ID comprises an address, such as a name, of the second
   device in question.
   7.    A method according to any of claims 1-6 comprising providing that the
   second device ID comprises an MAC address.
10
   8.    A method according to any one of claims 1-7 comprising providing that
   the second device ID comprises a range of services offered by the second
   device, and/or the type of device, such as a mobile telephone, a digital
   camera, a headset, an audio delivery device.
15
   9.    A method according to any one of claims 1-8 comprising providing that
   the method further comprises a CONNECT state comprising a re-connect
   search state where the first device is ready to receive re-connect pairing
   requests from other devices.
20
   10.   A method according to claim 9 comprising providing that the duration of
   a re-connect search state extends for a predefined RC-time.
   11.   A method according to any one of claims 1-10 comprising providing that
25 the first device is adapted to toggle between the PAIRING state and the
   CONNECT state when not in the STANDBY or CONNECTED states.
   12.   A method according to claim 11 comprising providing that the first
   device is adapted to toggle between the pairing search state and the re
30 connect search state when not in the STANDBY or CONNECTED states.
   13.   A method according to any one of claims 1-12 comprising providing a
   record of device IDs with which connection has been most recently allowed
   to be established.
35

                                        20
   14.   A method according to any one of claims 9-13 comprising providing that
   a received device ID from a re-connect request from another device is
   compared to a record of device IDs with which connection has been most
   recently allowed to be established.
 5
   15.   A tangible computer-readable medium storing a computer program
   comprising program code means for causing a data processing system to
   perform at least some of the steps of the method of any one of claims 1-14,
   when said computer program is executed on the data processing system.
10

<removed-date>
                               1/5
                               D1
                                     D3
                         RoP
                               D2
<removed-apn>
                                          RoC
                    D4
                               D1
                         RoP
                                          RoC
                   D3
                               D2
              D4

          <removed-apn>   <removed-date>
                                2/5
FIG. 1c

<removed-date>
                           3/5
                         Standby
<removed-apn>
                                    Pairing
                        Connected
                         Standby
              Connect               Pairing
                        Connected

<removed-date>
                                        4/5
                      STANDBY
              Initialize pairing search
<removed-apn>
                  Set Tx-power to pairing
                  search PTX=P(Tx-PS)
                  Set search time
                  <U+2701>T=T(PS)
                  Start search
              Receive replies on search
                Receive replies from
                devices within range of
                pairing (RoP)
                Create list of replying
                devices (RD)
                                                        YES
              Evaluate replies on search
                Goto next device on         NO     Reached end of
                RD-list                               RD-list?
                Evaluate device ID
                  Device = Trusted          NO
                      device?
                                                 Store device on
                             YES
                                                 list of previously
                                                     connected
                                                 devices (PCDs)
              Connect to trusted device
                    CONNECTED
                Terminate connection

<removed-apn>   <removed-date>
                  D1
      D2                5/5
              Pairing
               area

