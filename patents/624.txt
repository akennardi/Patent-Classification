Abstract
Provided are methods, devices, and non-transitory computer-readable storage mediums to
generate an itinerary with a weather forecast. The itinerary may comprise a departure
location, a destination locations and a first time. Based on the itinerary, an intermediary
location and an intermediary time associated with the intermediary location may be
identified. A weather risk associated with the identified route may be assessed and based on
the assessed risk, an alternative route may be additionally identified.

   METHOD AND SYSTEM FOR COMBINING LOCALIZED WEATHER
                 FORECASTING AND ITINERARY PLANNING
            CROSS-REFERENCE TO RELATED APPLICATIONS
 [0001]        This application claims priority of co-owned and co-invented
U.S. Patent Application No. 13/856,923 filed on April 4, 2013, U.S. Patent
Application No. 13/922,800, filed on June 20, 2013, U.S. Patent Application
No. 13/947,331, filed on July 22, 2013, U.S. Provisional Application No.
61/839,675, filed on June 26, 2013, U.S. Provisional Application No.
61/835,626, filed on June 16, 2013, and U.S. Provisional Application No.
61/836,713, filed on June 19, 2013,          the entire disclosures of which are
hereby incorporated by reference.
                                  BACKGROUND
(a) Field
[0002]       The subject matter disclosed generally relates to methods for producing
weather forecasts. More specifically, the subject matter relates to software
applications for producing weather forecasts.
(b) Related Prior Art
[0003]        Conventional weather forecasting systems provide weather predictions
12 hours to a few days from the present time. If one needs a short-term forecast or a
forecast with a fine time scale, the best information available usually is an hourly
forecast for the day.
[00041       Conventional weather forecasts are average forecasts for the area for
which they are generated. Thus, a forecast may be inaccurate for a precise location
within this area, and even the present weather displayed for an area may differ from
the actual weather for a precise location within this area.
                                           1

[0005]         Moreover, conventional weather forecasts are displayed at a time scale
that is too coarse to allow a user to know when a weather event takes place in a
precise location and time. Even for hourly conventional weather forecasts, it is
impossible for the user to know if the forecasted weather event will last one hour or
one minute and, for the latter, at what time it will take place exactly within the hour.
[0006]         For a user who stays at the same place during a part of a day,
conventional weather forecasts may provide a reliable weather forecast. However, for
a moving user, conventional weather forecasts that are communicated to the public
lack the necessary temporal and spatial resolution to provide the moving user with a
reliable weather forecast along the itinerary of the user. Furthermore, no conventional
weather forecasts or itinerary planning tools estimate the delays caused by weather on
a route, although there is a need for tools comprising that function.
[00071         Therefore, there is a need in the market for the generation and display of
short-term weather forecasts for various locations and times, and there is further a
need in the market for a system and method which allow for estimating the weather
 along the route between the departure location and the destination location so that the
 user may attempt to take alternative routes to avoid extreme weather conditions.
                                      SUMMARY
 [0008]        There may be provided a computer implemented method for generating
 itineraries comprising: identifying a departure location, a destination location and a
 first time, identifying an intermediary location between the departure location and the
 destination location, identifying an intermediary time associated with the
 intermediary location, identifying a weather forecast associated with the intermediary
 location and the intermediary time, and identifying an itinerary based at least on the
 weather forecast.
 [0009]        In some embodiments, the method may comprise estimating a travel time
 between locations based on the weather forecast.
                                            2

[00101         In some embodiments, the method may comprise identifying at least one
of a modified intermediary time based on the weather forecast, and identifying a
modified weather forecast associated with the intermediary location and the modified
intermediary time.
[0011]         In some embodiments, the method may comprise identifying a weather
severity level associated with the weather forecast of the intermediary location and
the intermediary time. The itinerary may be identified based on the weather severity
level.
[00121          In some embodiments, the method may comprise: identifying an
alternative intermediary location based on the weather severity level, identifying a
 second intermediary time associated with the alternative location, and identifying a
 second weather forecast associated with the alternative intermediary location and the
 second intermediary time, wherein the itinerary is identified based at least on the
 second weather forecast.
 [0013]         In some embodiments, the weather forecast may comprise information
 indicating a probability of a specific type of precipitation at a specific rate.
 [0014]         In some embodiments, the departure location, the destination location
 and the first time may be received from a remote device (e.g. GPS, a user-operable
 device, etc.).     At least one of the departure location and the destination location may
 be associated with a current location of the remote device, and the first time may be
 associated with a current time.
 [0015]          In some embodiments, the method may comprise: identifying multiple
 intermediary locations, identifying multiple intermediary times associated with the
 multiple intermediary locations, and identifying multiple weather forecasts associated
 with the multiple intermediary locations and the multiple intermediary times, wherein
 the itinerary is identified based at least on the multiple weather forecasts.
  [00161         In some embodiments, the method may comprise: identifying a first set
  of intermediary locations and a second set of intermediary locations, identifying a
  third set of intermediary times associated with the first set of intermediary locations,
                                               3

identifying a fourth set of intermediary times associated with the second set of
intermediary locations, identifying a fifth set of weather forecasts associated with the
first set of intermediary locations and the third set of intermediary times, identifying
a sixth set of weather forecasts associated with the second set of intermediary
locations and the fourth set of intermediary times, and comparing a weather severity
level associated with the fifth set of weather forecasts with a weather severity level
associated with the sixth set of weather forecasts, wherein, based on the comparison,
the identified itinerary comprises the first set of intermediary locations or the second
set of intermediary locations.
[0017]         In other embodiments, there may be provided a computer implemented
method for generating itineraries comprising: receiving an itinerary request including
a departure location, a destination location and a given time, in response to receiving
the itinerary request, obtaining a list of locations and a list of times corresponding to
the locations, obtaining a weather forecast for each location of the list of locations for
the time corresponding to each location, resulting in a list of weather forecasts, and
outputting the list of weather forecasts for corresponding locations. The method may
comprise estimating a delay in a displacement due to the weather forecasts. The delay
in the displacement may be used to modify the times corresponding to the locations.
[0018]         In some embodiments, there may be a device comprising one or more
processors, a memory storing computer instructions that can be executed by the one
or more processors such that the device is caused to perform any one or more of the
methods described above, when the instructions are executed. Further, there may be a
non-transitory computer-readable medium storing such instructions.
[0019]         Further, there may be a device that comprises one or more processors, a
memory storing instructions for the one or more processors, a communication module
to connect to a remote server over a communication network, and a display.         When
the instructions are executed, the device may be caused to: receive, from the remote
server, an itinerary comprising a departure location, a destination location and an
intermediary location, the itinerary generated based at least on a weather forecast
                                           4

associated with the intermediary location and an intermediary time, the intermediary time
representing the time at which the device is expected to arrive at the intermediary location,
and cause, on the display, a display of at least a part of the itinerary received from the remote
server. The device may be a mobile device such as, non-exclusively, a handheld device, a
cellphone, a vehicle, etc.
[0019a]         According to another aspect of the present invention there is provided a
        computer implemented method for generating itineraries comprising:
        identifying a departure location and a destination location;
        identifying a first set of intermediary locations and a second set of intermediary
locations between the departure location and the destination location;
        identifying a first set of intermediary times associated with the first set of
intermediary locations;
        identifying a second set of intermediary times associated with the second set of
intermediary locations;
        generating a first set of weather forecasts associated with the first set of intermediary
locations and the first set of intermediary times;
        generating a second set of weather forecasts associated with the second set of
intermediary locations and the second set of intermediary times;
        comparing a characteristic associated with the first set of weather forecasts and a
characteristic associated with the second set of weather forecasts;
        generating an itinerary comprising the first set of intermediary locations based on the
comparison; and
        updating the itinerary based on the first set of weather forecasts.
[0019b]         According to another aspect of the present invention there is provided a device
for generating itineraries comprising:
        one or more processors;
        a memory storing instructions for the one or more processors; and
        a communication module to connect to a remote device over a communication
network, wherein when the one or more processors execute the instructions stored in the
memory, the device is caused to:
                identify a departure location and a destination location;
                identify a first set of intermediary locations and a second set of intermediary
        locations between the departure location and the destination location;
                                                 5

                identify a first set of intermediary times associated with the first set of
        intermediary locations;
                identify a second set of intermediary times associated with the second set of
        intermediary locations;
                generate a first set of weather forecasts associated with the first set of
        intermediary locations and the first set of intermediary times;
                generate a second set of weather forecasts associated with the second set of
        intermediary locations and the second set of intermediary times;
                compare a characteristic associated with the first set of weather forecasts and a
        characteristic associated with the second set of weather forecasts;
                generate an itinerary comprising the first set of intermediary locations based
        on the comparison; and
                update the itinerary based on the first set of weather forecasts.
[0019c]         According to another aspect of the present invention there is provided a
system comprising a server and a remote device that is connected to the server over a
communication network, wherein:
                the server comprises a computer and a non-transitory computer-readable
        medium storing a program causing the computer to execute an itinerary generation
        process, the itinerary generation process comprising:
                        identifying a departure location and a destination location;
                        identifying a first set of intermediary locations and a second set of
                intermediary locations between the departure location and the destination
                location;
                        identifying a first set of intermediary times associated with the first set
                of intermediary locations;
                        identifying a second set of intermediary times associated with the
                second set of intermediary locations;
                        generating a first set of weather forecasts associated with the first set of
                intermediary locations and the first set of intermediary times;
                        generating a second set of weather forecasts associated with the second
                set of intermediary locations and the second set of intermediary times;
                        comparing a characteristic associated with the first set of weather
                forecasts and a characteristic associated with the second set of weather
                forecasts;
                                                  5a

                        generating   an itinerary comprising the first set of intermediary
                locations based on the comparison; and
                        updating the itinerary based on the first set of weather forecasts; and
                the remote device comprises one or more processors, a display and a memory
        storing instructions for the one or more processors to:
                        obtain the itinerary from the server over the communication network,
                cause, on the display, a display of at least part of the itinerary.
                   BRIEF DESCRIPTION OF THE DRAWINGS
[0020]          Further features and advantages of the present disclosure will become
apparent from the following detailed description, taken in combination with the appended
drawings, in which:
[0021]          Figure 1 shows an example of a block diagram of a system for combining
localized weather forecasting and itinerary planning;
[0022]          Figure 2A shows an example of a block diagram of a suitable nowcaster for
implementing one or more embodiments;
[0023]          Figure 2B is one example of a more detailed block diagram of a suitable
nowcaster for implementing one or more embodiments;
[0024]          Figure 2C is another example of a more detailed block diagram of a suitable
nowcaster for implementing one or more embodiments;
 [0025]         Figure 3 is a screenshot illustrating an example of an itinerary returned by an
itinerary generating module;
 [0026]         Figure 4A is an example of a network environment in which the embodiments
may be practiced;
 [00271         Figure 4B is an example of another network environment in which the
embodiments may be practiced; and
 [0028]         Figure 5 is an exemplary diagram illustrating a suitable computing operating
environment in which embodiments of the claimed subject matter may be practiced.
[0029]          It will be noted that, throughout the appended drawings, like features are
identified by like reference numerals.
                                                5b

                             DETAILED DESCRIPTION
[00301       The embodiments will now be described more fully hereinafter with
reference to the accompanying drawings, which form a part hereof, and which show,
by way of illustration, specific embodiments by which the embodiments may be
practiced. The embodiments are also described so that the disclosure conveys the
scope of the claimed subject matter to those skilled in the art. The embodiments may,
however, be embodied in many different forms and should not be construed as limited
to the embodiments set forth herein.
[00311        Among other things, the present embodiments may be embodied as
methods or devices. Accordingly, the embodiments may take the form of an entirely
hardware embodiment, an entirely software embodiment, an embodiment combining
software and hardware aspects, etc. Furthermore, although the embodiments are
described with reference to a portable or handheld device, they may also be
implemented on desktops, laptop computers, tablet devices, or any computing device
having sufficient computing resources to implement the embodiments.
[0032]        Definitions
 [0033]       In the present specification, the following terms are meant to be defined
as indicated below:
 [00341       Nowcasting: The term nowcasting is a contraction of "now" and
 "forecasting"; it refers to the sets of techniques devised to make short-term forecasts,
typically in the 0- to 12-hour range.
 [0035]       A nowcaster is a weather forecasting device which prepares very
 short-term (e.g., I minute, 5 minutes, 15 minutes, 30 minutes, etc.) forecasts for a
 very small region on Earth (5 meters, 10 meters, 50 meters, 100 meters, 500 meters,
 1,000 meters, etc.).
                                             6

 [00361        A weather value is a weather-related quantity or attribute of any sort
 such as temperature, pressure, visibility, precipitation type and intensity,
 accumulation, cloud cover, wind, etc.
 [00371        A forecasted weather value is a weather value that is predicted by the
nowcaster.
 [0038]        A weather-related event is an event that can affect a weather value or a
 forecasted weather value, which include, for example, at least one of hail, a wind gust,
 lightning, a temperature change, etc.
 [0039]        Precipitation type (PType): indicates the type of precipitation. Examples
of precipitation types include, but are not limited to, rain, snow, hail, freezing rain,
 ice pellets, or ice crystals.
 [0040]        Precipitation rate (PRate): indicates the precipitation intensity. Examples
of precipitation rate values include, but are not limited to, no (i.e., none), light,
moderate, heavy, extreme. In an embodiment, the precipitation rate can also be
expressed as a range of values such as: none to light, light to moderate, moderate to
heavy, or any combination of the above.
[00411         Precipitation probability: indicates the probability that precipitation
might occur. Examples of precipitation probability values include, but are not limited
to, no, unlikely, slight chance of, chance of, likely, very likely, or certain.
[00421         In an embodiment, the precipitation probability can also be expressed as
a range of values such as: none to light, light to moderate, or moderate to heavy.
Precipitation probability may also be expressed in terms of percentages; e.g., 0%,
25%, 50%, 75%, 100%; or ranges of percentages; e.g., 0% to 25%, 25% to 50%, 50%
to 75%, 75% to 100%. In an embodiment, the precipitation probability may be taken
from a probability distribution.
[00431         Precipitation type and precipitation rate categories (PTypeRate): a
PTypeRate category is combination of precipitation type and precipitation rate to
which may be associated a probability of occurrence for a given period to indicate the
possibility of receiving a certain type of precipitation at a certain rate.
                                            7

[00441        A weather forecast is a set of one or more forecasted weather values that
are displayable to users.
[0045]        A user is a person to whom or machine to which a weather forecast is
forwarded.
[00461        An itinerary is a list of locations or directions guiding a user from point
A to point B. Optionally, the itinerary may comprise times corresponding to a
location or time intervals between locations. A key point is a location that meets a
criterion which may be a user's preference.
[00471        Briefly stated, the present embodiments describe a method and system
for combining localized weather forecasting and itinerary planning. The weather
forecast is generated by a short-term weather forecaster known as a system for
generating nowcasts or a nowcaster.
[00481        Now referring to Figure 1, there is described a system for combining
localized weather forecasting and itinerary planning. The system comprises an
intelligence module 312, an itinerary generating module 310 and a nowcaster 200.
The intelligence module 312 further comprises a weather risk estimator 160 and a
delay estimator 165. These components will be further described below.
[00491        Itinerary Generation Module
[00501        The itinerary generating module 310 may be a web-based module and/or
a GPS-based module for generating routes and directions.
                                                                                  TM
[0051]        An example of such web-based modules may include MapQuest ,
YahooTM Maps, GoogleTM Maps, and so on. In these types of modules, the data
relating to the generation or routes is stored on a remote server that is accessible via a
telecommunications network such as the Internet. Using these modules, the user may
request directions from a first location A to a second location B, whereby the module
may return a list of directions for the displacement from A to B as shown in Figure 3.
[00521        As shown in Figure 1, the itinerary generating module 310 generates an
itinerary 314, which comprises a list of locations 316 and a list of times 318, where
the times correspond to the locations.
                                              8

[00531        In an embodiment, the itinerary generating module 310 may provide one
or more choices of itineraries for the user to choose. Then, the module generates a list
313 of itineraries.
10054]        In another embodiment, the data may be downloaded and/or pushed from
the server to the computing device on which the embodiments are practiced, whereby
the route may be displayed without accessing the remote server.
[00551        In an embodiment, the itinerary generating module 310 may also include
a GPS device which determines the current location of the user using a satellite
connection. The GPS unit may be embedded in a portable device such as an iPhoneTM
or the like. In another example, the GPS device may be embedded in a handheld GPS
navigation device such as the series of devices manufactured by GarminTM or
Magellan TM etc.
 [0056]        Intelligence Module
 [00571        As shown in Figure 1, the intelligence module 312 links the user 100, the
 itinerary generating module 310, and the nowcaster 310 by sending appropriate
 queries to and receiving information from these elements. More precisely, the
 intelligence module 312 may receive information from a user 100 through a
 communication network 254. In an embodiment, the intelligence module 312 may be
 linked to a user interface for receiving the user's entries such that the identification of
 the locations A and B, departure time, and the user preferences regarding the
 locations for which the nowcasts are needed. The intelligence module 312 may use
 this information received from user 100 to query the itinerary generating module 310,
 for example, by sending the geographic locations of points A and B characterizing the
 beginning and the end of the itinerary. The intelligence module 312 may also send to
 the itinerary generating module 310 information about the beginning time of the
 itinerary or about the user's preferences. For example, the user may choose to obtain
 the nowcasts for key points such as major cities along the route, or by increments of,
 for example, 30 km, etc.
                                            9

[0058]        According to an embodiment, the intelligence module 312 sends a first
time or a current time and a time interval to the itinerary generating module 310.
[0059]        Depending on the embodiment, the intelligence module 312 or the
itinerary generating module 310 may estimate a time of arrival for each key point
which represents the estimated time at which the user is expected to arrive at a certain
key point. Estimation of the arrival time may depend on several factors including: the
departure time (which, unless specified by the user, is taken as the present time), the
distance between the departure point and the respective key point, traffic information
received from the itinerary generating module 310 (or another source), weather
information, current speed, and speed limit associated with each segment of the route
between the current location and the respective key point.
[00601         The itinerary generating module 310 generates an itinerary 314 or a list
313 of itineraries as described hereinabove. According to an embodiment, each
itinerary comprises a list of locations 316 and a list of times 318. This information is
sent back to the intelligence module 312.
[0061]         According to an embodiment, the intelligence module may select
locations (such as the key points specified in the user's preferences) and their
corresponding times and sends them to the nowcaster 200.
 [0062]        In an embodiment, the intelligence module 312 may send the location
 information of each location or key point along with the current time whereby the
 user may see the current weather conditions in the different locations along the route.
 [0063]        Depending on the embodiment, the intelligence module 312 may send all
the list in just one call to the server on which the nowcaster 200 is implemented, or,
on the contrary, divide the list into more than one part when the call is sent to the
nowcaster 200.
100641         For each location and time, the nowcaster 200 outputs a weather forecast.
Therefore, the nowcaster 200 generates a list of weather forecasts 150 corresponding
 to each itinerary 314.
                                            10

[0065]         As discussed above, the itinerary generating module 310 may provide
different choices of routes comprising weather conditions along different locations or
key points. In an embodiment, when more than one itinerary is provided, a weather
risk estimator 160 within the intelligence module 312 may compute the risk
associated with each list of weather forecasts 150 corresponding to an itinerary, thus
sorting the lists of weather forecasts 150 and their corresponding itinerary according
to the weather risk. The weather risk estimator 160 may assign each itinerary a
category or a grade depending on the gravity of the weather events happening on the
itinerary (strong winds, heavy rain, etc.) or the probability that these events will take
place. Sorting itineraries adds information (the estimated risk) to the lists of weather
forecasts 150. According to an embodiment, if the itinerary is displayed (textually or
graphically), the parts of the itineraries that have a higher or lower risk may be
displayed with a distinctive color.
[00661         According to an embodiment, if the weather risk is estimated for various
itineraries, the method may route traffic to the least risky itinerary.
[0067]         When the intelligence module has received locations, times, weather
forecasts, and other information (such as weather risk) of an itinerary, this
 information is sent to the user 100 using the communication network 254.
 [00681        According to an embodiment, the weather forecast for each location and
time in an itinerary may be provided on a single web page.
 [00691        According to an embodiment, the intelligence module 312 may comprise
 a delay estimator 165. The delay estimator 165 uses the list of weather forecasts to
 determine the delay on a part of an itinerary due to the weather conditions, such as
 rain, fog, strong wind, etc., that can slow down the traffic. The delay estimator 165
 may use a database comprising statistics about the delays due to weather conditions.
 If the delay estimator 165 is used, the list of times 318 corresponding to the list of
 locations 316 is not relevant anymore because delays change the times in the itinerary.
 Therefore, the intelligence module queries again the itinerary generating module 310
 by taking into account the delays, producing a more accurate list of times 318. The
                                            11

intelligence module 312 receives this updated list of times 318 and sends it to the
nowcaster 200 for an update of the list of weather forecasts 150. Therefore, when the
delay estimator is used, an iterative process takes place. This iterative process may be
programmed to cease after a given number of iterations or after equilibrium is
reached in the results. When the iterative process is done, the intelligence module
outputs the list 313 of itineraries along with the most accurate list of weather
forecasts 150.
[0070]        Nowcaster
{0071]        Figures 2A-2C are block diagrams of a nowcaster according to one or
more embodiments of the subject matter described in the specification.
[0072]        As shown in Figures 2A-2C, the nowcaster 200 receives weather
observations from different sources 201 such as weather observation sources
 including but not limited to: point observations 201-2 (e.g., feedback provided by
users and automated stations), weather radars 201-3, satellites 201-4 and other types
of weather observations 201-1, and weather forecast sources such as numerical
weather prediction (NWP) model output 201-5 and weather forecasts and advisories
 201-6.
 [0073]       The nowcaster 200 comprises a memory 220 and a processor 210. The
 memory 220 comprises the instructions for the method and also stores data from the
 weather sources, intermediate results, and weather forecasts. The processor 210
 allows the nowcaster 200 to perform calculations.
 [00741       The nowcaster 200 can receive information 230 from a user through a
 communication network 254.
 [00751       The nowcaster 200 outputs a weather forecast, or a succession of weather
 forecasts.
 [0076]        Figure 2B is one embodiment of the nowcaster 200. In this embodiment,
 the nowcaster 200 comprises a PType distribution forecaster 202 and a PRate
 distribution forecaster 204. The PType forecaster 202 receives the weather
 observations from the different sources 201 and outputs a probability distribution of
                                           12

                                                                                  (and/or
precipitation type over an interval of time, for a given latitude and longitude
location). For example:
      a. Snow: 10%
      b. Rain: 30%
      c. Freezing Rain: 60%
      d. Hail: 0%
      e. Ice Pellets: 0%
[00771         Similarly, the PRate distribution forecaster 204 receives the weather
observations for a given latitude and longitude from the different sources 201 and
outputs a probability distribution forecast of a precipitation rate (PRate) in a
 representation that expresses the uncertainty. For example, the PRate may be output
 as a probability distribution of precipitation rates or a range of rates over an interval
 of time, for a given latitude and longitude. For example:
       f. No Precip.: 30%
       g. Light: 40%
       h. Moderate: 20%
       i. Heavy: 10%
 [00781         The PRate and PType values output by the PRate distribution forecaster
 204 and the PType forecaster 202 are sent to a forecast combiner 206 to combine
 these values into a single value PTypeRate which represents the precipitation
 outcomes. For example, if the value of PType is "Snow," and the value of "PRate" is
 heavy, the combined value of PTypeRate may be "heavy snow."
 [00791         For a given latitude and longitude, the system outputs forecasted
 PTypeRate Distributions for predefined time intervals, either fixed (ex: 1 minute) or
 variable (ex: 1 minute, then 5 minutes, then 10 minutes, etc.). The system can either
 pre-calculate and store forecasted PTypeRate Distributions in a sequence of time
  intervals, or calculate it in real time. A PTypeRate Distribution represents, for each
  time interval, the certainty or uncertainty that a PTypeRate will occur.
                                              13

    [0080}       With reference to Figure 2B, the forecast combiner 206 receives the final
    PRate distribution from the PType forecaster 202 and the final PRate distribution
    from the PRate distribution forecaster 204 to combine them into a group of
    PTypeRate distribution values each representing the probability of receiving a certain
    type of precipitation at a certain rate. An example is provided below.
    [00811       Assuming that the PType distribution is as follows: Snow: 50%, Rain:
   0%, Freezing rain: 30%, Hail: 0%, Ice pellets: 20%, and the PRate distribution is as
   follows: None: 0%, Light: 10%, Moderate: 20%, Heavy: 30%, Very Heavy: 40%, the
   PTypeRate distributions may be as follows:
   Table 1: An Example of PTypeRate Distribution Table
   PType         Snow             Rain           Freez. Rain       Hail           Ice Pellets
PRate            50%               0%                30%            0%                20%
None 0%            No              No                 No            No                 No
             precipitation    precipitation     precipitation  precipitation     precipitation
 Light         5% light            No              3% light         No           2% light ice
  10%            snow         precipitation     freezing rain  precipitation         pellets
Moderate          10%              No           6% moderate         No          4% moderate
  20%          moderate       precipitation     freezing rain precipitation       ice pellets
                 snow
 Heavy        15% heavy            No             9% heavy          No          6% heavy ice
  30%            snow        precipitation      freezing rain precipitation          pellets
  Very        20% heavy            No             12% very          No              8% very
 Heavy           snow        precipitation    heavy freezing  precipitation        heavy ice
  40%                                                rain                            pellets
   [00821       Accordingly, the forecast combiner 206 multiplies the probability of
   each type of precipitation by the probability of each rate of precipitation to obtain a
   probability of receiving a certain type of precipitation at a certain rate, for example,
   20% chance of heavy snow, or 12% chance of very heavy freezing rain. In an
   embodiment, it is possible to associate probability ranges with textual information for
   displaying the textual information to the user instead of the probabilities in numbers.
   For example, probabilities that are between 5% and 15% may be associated with the
                                               14

text: "low chance," while probabilities that are between 40% and 70% may be
associated with the text "high chance," or "very likely," etc., whereby, instead of
displaying: 60% chance of heavy snow, it is possible to display: "high chance of
heavy snow."
[0083]        In another embodiment, it is possible to combine two or more different
PTypeRates along one or more dimensions (the dimensions including: the rate, type,
or probability). For example, results of such combination may include: Likely light to
 moderate rain, Likely light to moderate rain or heavy snow; Likely moderate rain or
 snow; Likely rain or snow; Chance of light to moderate rain or heavy snow or light
 hail; Chance of moderate rain, snow or hail; Chance of rain, snow or hail, etc.
 [0084]        Accordingly, the nowcaster 200 receives the location for which the
 nowcasts are needed and the time and/or time interval for which the nowcasts are
 needed and outputs the PTypeRate distribution for the given location and for the
 specific time.
 [00851        Figure 2C illustrates another embodiment of the nowcaster 200. In this
 embodiment, the nowcaster 200 comprises a PType selector/receiver 202-C and a
 PRate distribution forecaster 204.
  10086]       Similar to the embodiment shown in Figure 2B, the PRate distribution
 forecaster 204 receives the weather observations for a given latitude and longitude
 from the different sources 201 and outputs a probability distribution forecast of a
 precipitation rate (PRate) in a representation that expresses the uncertainty. For
  example, the PRate may be output as a probability distribution of precipitation rates
  or a range of rates over an interval of time, for a given latitude and longitude. For
  example:
       f. No Precip.: 30%
       g. Light: 40%
       h. Moderate: 20%
       i. Heavy: 10%
                                             15

[0087]        However, the PType selector/receiver 202-C does not output a
probability distribution associated with different types of precipitation. Instead, the
PType selector/receiver 202-C receives weather observations for a given latitude and
longitude from the different sources 201 to select one precipitation type from a list of
different precipitation types. For example, based on the inputs received from the
sources 201, the PType selector/receiver 202-C selects a single precipitation type that
is most likely to occur in the given latitude and the longitude (and/or location) from
the following list of precipitation types:
      a. Snow
      b. Rain
      c. Freezing Rain
      d. Hail
      e. Ice Pellets
      f. Mix (e.g., a+c, a+d, b+c, a+e, c+e, d+e, etc.)
 [00881        From the list of precipitation types such as the one above, only one
precipitation type is selected for a given location. For example, a mix of snow and
freezing rain can be selected as the most likely precipitation type for a give location
 at a given time. The precipitation type is not associated with a probability value. In
fact, since only one precipitation type is selected for any given location and time
 corresponding to the location, the selected precipitation type will have an effective
 probability value of 100%.
 [0089]        The list of precipitation types that are available for selection of one type
 may include a mix type that represent a mix of two different precipitation types (e.g.,
 snow and freezing rain, hail and ice pellets, etc). A mix type is considered as a
 distinct precipitation type available for selection, and as shown above in (f) of the list,
 there can be many different mix types representing the mix of different pairs of
 various precipitation types.
 [0090]        In another embodiment, the precipitation type is not selected by the
 PType selector/receiver 202-C but instead is received from a source outside the
                                            16

nowcaster 200. In other words, the nowcaster 200 may request to a remote source
(e.g., a third-party weather service) identification of the precipitation type that is
most likely to occur for a given location at a given time and receive a response from
the source identifying the most likely precipitation type. In this case, selection of the
precipitation type is not performed by the nowcaster 200. The nowcaster 200 merely
is inputted with the already-selected precipitation type and thereby can save
computational power of the nowcaster 200 that would otherwise have been needed to
perform the selection.
 [00911        The selected precipitation type and the PRate values respectively output
by the PType selector/receiver 202-C and the PRate distribution forecaster 204 are
 combined. For example, if the selected precipitation type is snow, and the PRate
 values are as described above, the combined information would indicate:
          a. No Snow: 30%
          b. Light Snow: 40%
          c. Moderate Snow: 20%
          d. Heavy Snow: 10%.
 [00921        As only one precipitation type is concerned, only a minimal amount of
 computational power is needed to perform the combining to output the final weather
 forecast data. Since the PType selector/receiver 202-C will output one (1)
 precipitation type for a given location and time, if the PRate distribution forecaster
  204 outputs a number m of probability distribution, the final weather forecast data
  will comprise only a number m (m*1) of weather forecast distribution.
  [00931        In outputting the final weather forecast data, it is possible to associate
 probability ranges with textual information for displaying the textual information to
  the user instead of the probabilities in numbers, similar to the embodiment shown in
  Figure 2B. For example, probabilities that are between 5% and 15% may be
  associated with the text: "low chance," while probabilities that are between 40% and
  70% may be associated with the text "high chance," or "very likely," etc., whereby,
                                             17

instead of displaying: "60% chance of heavy snow," it is possible to display: "high
chance of heavy snow."
[00941        Accordingly, the nowcaster 200 receives the location for which the
nowcasts are needed and the time and/or time interval for which the nowcasts are
needed and outputs the selected PType and PRate distribution for the given location
and for the specific time.
[00951        The nowcaster according to the embodiment shown in Figure 2C may be
advantageous over the embodiment shown in Figure 2B in certain circumstances in
which efficiency is desired. The embodiment of Figure 2C can be implemented using
much less processing power than the embodiment of Figure 2B. However, the
embodiment of Figure 2B may be more suitable than the embodiment of Figure 2C in
providing a more detailed and accurate snapshot of weather forecast data for any
 given location and time.
 [00961       Figure 4A is an example of a network environment in which the
 embodiments may be practiced. The nowcaster 300 may be implemented on a
 server/computer 250 which is accessible by a plurality of client computers 252 over a
 communication network 254. The client computers may include but are not limited to:
 laptops, desktops, portable computing devices, tablets, and the like. Using a client
 computer 252, each user may enter the directions between two locations and
 preferably the time of departure (otherwise the current time is used to replace this).
 The information is sent to the remote server 250 over a telecommunications network.
 The server 250 returns a list of locations on the route from locations A to B along
 with nowcasts at these locations on the route. The server accesses weather source 201
 over a telecommunications network as discussed in connection with Figure 2A. The
 server 250 may have geographic data stored thereon and may also access itinerary
 sources 320 provided by a third entity.
 [0097]       Preferably, the computing device 252 is GPS-enabled, in which case, the
  computing device may provide updates to the server 250 for updating the nowcasts
 along the route, as discussed above.
                                           18

[00981        Figure 4B is an example of another network environment in which the
embodiments may be practiced. In this embodiment, the user enters the destination
and views the itinerary on a GPS navigation device. The GPS navigation device takes
the departure location as the present location. The present location and the end
destination along with the route chosen by the satellite may be sent to the server 250
via the satellite 332. The intelligence module implemented in the server 250 may
return the nowcasts for key points along the route, and send the nowcasts and an
identification of the key points to the GPS device 330 for adding to the itinerary
given by the GPS device 330.
[00991        In an embodiment, if the user is generating an itinerary using a GPS
and/or web-enabled computing device, the noweasts may be updated on the map
based on the advancement of the user on the route and the changes in weather
conditions.
 [00100]      In an embodiment, the nowcasts may be provided on the map along with
the time/time interval associated with each nowcast. In an embodiment, the time
shown on the map is the estimated time of arrival which is estimated by the
 intelligence module 312 based on the current location, speed, and weather and traffic
 conditions.
 [001011       Hardware and Operating Environment
 [001021       Figure 5 illustrates an exemplary diagram of a suitable computing
 operating environment in which embodiments of the claimed subject matter may be
 practiced. The following description is associated with Figure 5 and is intended to
 provide a brief, general description of suitable computer hardware and a suitable
 computing environment in conjunction with which the embodiments may be
 implemented. Not all the components are required to practice the embodiments, and
 variations in the arrangement and type of the components may be made without
 departing from the spirit or scope of the embodiments.
 [001031       Although not required, the embodiments are described in the general
 context of computer-executable instructions, such as program modules, being
                                           19

executed by a computer, such as a personal computer, a hand-held or palm-size
computer, smartphone, or an embedded system such as a computer in a consumer
device or specialized industrial controller. Generally, program modules include
routines, programs, objects, components, data structures, etc., that perform particular
tasks or implement particular abstract data types.
[00104]       Moreover, those skilled in the art will appreciate that the embodiments
may be practiced with other computer system configurations, including hand-held
devices, multiprocessor systems, microprocessor-based or programmable consumer
electronics, network PCS, minicomputers, mainframe computers, cellular telephones,
smartphones, display pagers, radio frequency (RF) devices, infrared (IR) devices,
Personal Digital Assistants (PDAs), laptop computers, wearable computers, tablet
 computers, a device of the iPod or iPad family of devices, integrated devices
 combining one or more of the preceding devices, or any other computing device
 capable of performing the methods and systems described herein. The embodiments
 may also be practiced in distributed computing environments where tasks are
 performed by remote processing devices that are linked through a communications
 network. In a distributed computing environment, program modules may be located in
 both local and remote memory storage devices.
 [001051      The exemplary hardware and operating environment of Figure 5 includes
 a general-purpose computing device in the form of a computer 720, including a
 processing unit 721, a system memory 722, and a system bus 723 that operatively
 couples various system components including the system memory to the processing
 unit 721. There may be only one or there may be more than one processing unit 721,
 such that the processor of computer 720 comprises a single central-processing unit
 (CPU), or a plurality of processing units, commonly referred to as a parallel
 processing environment. The computer 720 may be a conventional computer, a
 distributed computer, or any other type of computer; the embodiments are not so
 limited.
                                           20

[00106]       The system bus 723 may be any of several types of bus structures
including a memory bus or memory controller, a peripheral bus, and a local bus using
any of a variety of bus architectures. The system memory may also be referred to as
simply the "memory," and includes read-only memory (ROM) 724 and random access
memory (RAM) 725. A basic input/output system (BIOS) 726, containing the basic
routines that help to transfer information between elements within the computer 720,
such as during start-up, is stored in ROM 724. In one embodiment of the claimed
subject matter, the computer 720 further includes a hard disk drive 727 for reading
from and writing to a hard disk, not shown, a magnetic disk drive 728 for reading
from or writing to a removable magnetic disk 729, and an optical disk drive 730 for
reading from or writing to a removable optical disk 731, such as a CD ROM or other
optical media. In alternative embodiments of the claimed subject matter, the
 functionality provided by the hard disk drive 727, magnetic disk 729 and optical disk
drive 730 is emulated using volatile or non-volatile RAM in order to conserve power
 and reduce the size of the system. In these alternative embodiments, the RAM may be
 fixed in the computer system, or it may be a removable RAM device, such as a
 Compact Flash memory card.
 [00107]       In an embodiment of the claimed subject matter, the hard disk drive 727,
 magnetic disk drive 728, and optical disk drive 730 are connected to the system bus
 723 by a hard disk drive interface 732, a magnetic disk drive interface 733, and an
 optical disk drive interface 734, respectively. The drives and their associated
 computer-readable media provide non-volatile storage of computer readable
 instructions, data structures, program modules, and other data for the computer 720.
 It should be appreciated by those skilled in the art that any type of computer-readable
 media that can store data that is accessible by a computer, such as magnetic cassettes,
 flash memory cards, digital video disks, Bernoulli cartridges, RAMs, ROMs, and the
 like, may be used in the exemplary operating environment.
 [00108]       A number of program modules may be stored on the hard disk, magnetic
 disk 729, optical disk 731, ROM 724, or RAM 725, including an operating system
                                           21

735, one or more application programs 736, other program modules 737, and program
data 738. A user may enter commands and information into the personal computer
720 through input devices such as a keyboard 740 and pointing device 742. Other
input devices (not shown) may include a microphone, joystick, game pad, satellite
dish, scanner, touch-sensitive pad, or the like. These and other input devices are often
connected to the processing unit 721 through a serial port interface 746 that is
coupled to the system bus, but may be connected by other interfaces, such as a
parallel port, game port, or a universal serial bus (USB). In addition, input to the
system may be provided by a microphone to receive audio input.
[00109]      A monitor 747 or other type of display device is also connected to the
system bus 723 via an interface, such as a video adapter 748. In one embodiment of
the claimed subject matter, the monitor comprises a Liquid Crystal Display (LCD). In
addition to the monitor, computers typically include other peripheral output devices
(not shown), such as speakers and printers. The monitor may include a
touch-sensitive surface which allows the user to interface with the computer by
pressing on or touching the surface.
[00110]       The computer 720 may operate in a networked environment using logical
connections to one or more remote computers, such as a remote computer 749. These
logical connections are achieved by a communication device coupled to or a part of
the computer 720; the embodiment is not limited to a particular type of
communications device. The remote computer 749 may be another computer, a server,
a router, a network PC, a client, a peer device, or other common network node, and
typically includes many or all of the elements described above relative to the
computer 720, although only a memory storage device 750 has been illustrated in
Figure 6. The logical connections depicted in Figure 6 include a local-area network
(LAN) 751 and a wide-area network (WAN) 752. Such networking environments are
commonplace in offices, enterprise-wide computer networks, intranets, and the
Internet.
                                          22

[00111]          When used in a LAN-networking environment, the computer 720 is connected
to the local network 751 through a network interface or adapter 753, which is one type of
communications device. When used in a WAN-networking environment, the computer 720
typically includes a modem 754, a type of communications device, or any other type of
communications device for establishing communications over the WAN 752, such as the
Internet. The modem 754, which may be internal or external, is connected to the system bus
723 via the serial port interface 746. In a networked environment, program modules depicted
relative to the personal computer 720, or portions thereof, may be stored in the remote
memory storage device. It is appreciated that the network connections shown are exemplary
and other means of establishing a communications link between the computers may be used.
[00112] The hardware and operating environment in conjunction with which embodiments of
the claimed subject matter may be practiced has been described. The computer in conjunction
with which embodiments of the claimed subject matter may be practiced may be a
conventional computer, a hand-held or palm-size computer, a computer in an embedded
system, a distributed computer, or any other type of computer; the claimed subject matter is
not so limited. Such a computer typically includes one or more processing units as its
processor, and a computer-readable medium such as a memory. The computer may also
include a communications device, such as a network adapter or a modem, so that it is able to
communicatively couple other computers.
[00113] While preferred embodiments have been described above and illustrated in the
accompanying drawings, it will be evident to those skilled in the art that modifications may
be made without departing from this disclosure. Such modifications are considered as
possible variants comprised in the scope of the disclosure.
[00114]          Mere reference to background art herein should not be construed as an
admission that such art constitutes common general knowledge in relation to the invention.
[00115]          Throughout this specification, including the claims, where the context permits,
the term "comprise" and variants thereof such as "comprises" or "comprising" are to be
interpreted as including the stated integer or integers without necessarily excluding any other
integers.
                                                23

       Claims
        1. A computer implemented method for generating itineraries comprising:
       identifying a departure location and a destination location;
       identifying a first set of intermediary locations and a second set of intermediary locations
               between the departure location and the destination location;
       identifying a first set of intermediary times associated with the first set of intermediary
               locations;
       identifying a second set of intermediary times associated with the second set of
               intermediary locations;
       generating a first set of weather forecasts associated with the first set of intermediary
               locations and the first set of intermediary times;
       generating a second set of weather forecasts associated with the second set of
               intermediary locations and the second set of intermediary times;
       comparing a characteristic associated with the first set of weather forecasts and a
               characteristic associated with the second set of weather forecasts;
       generating an itinerary comprising the first set of intermediary locations based on the
               comparison; and
       updating the itinerary based on the first set of weather forecasts.
       2. The method of claim 1, further comprising estimating a travel time between the
departure location and the destination location based on the first set of weather forecasts.
       3. The method of any of claims 1-2, wherein updating the itinerary includes:
       identifying, a third set of intermediary times associated with the first set of intermediary
               locations based on the first set of weather forecasts; and
       generating an updated version of the itinerary based on the third set of intermediary times
               associated with the first set of intermediary locations.
       4. The method of any of claims 1-3, further comprising transmitting the itinerary to a
mobile device for display at a display device.
                                                   24

        5. The method of claim 1, wherein the characteristic associated with the first set of
weather forecasts comprises a first weather severity level and the characteristic associated with
the second set of weather forecasts comprises a second weather severity level.
        6. The method of claim 4, further comprising:
        transmitting an alternative itinerary to the mobile device for display at the display device,
                 the alternative itinerary comprising the second set of intermediary locations; and
        based on the comparison, transmitting an indication of a priority of the itinerary relative
                 to the alternative itinerary to the mobile device.
        7. The method of any of claims 1-6, wherein the first set of weather forecasts comprises
information indicating a probability of a specific type of precipitation at a specific rate.
        8. The method of any of claims 1-7, wherein:
        the departure location and the destination location are received from a remote device; and
        at least one of the departure location and the destination location is associated with a
                 current location of the remote device.
        9. A device for generating itineraries comprising:
        one or more processors;
        a memory storing instructions for the one or more processors; and
        a communication module to connect to a remote device over a communication network,
                 wherein when the one or more processors execute the instructions stored in the
                 memory, the device is caused to:
                 identify a departure location and a destination location;
                 identify a first set of intermediary locations and a second set of intermediary
                         locations between the departure location and the destination location;
                 identify a first set of intermediary times associated with the first set of
                         intermediary locations;
                 identify a second set of intermediary times associated with the second set of
                         intermediary locations;
                                                     25

                generate a first set of weather forecasts associated with the first set of
                        intermediary locations and the first set of intermediary times;
                generate a second set of weather forecasts associated with the second set of
                        intermediary locations and the second set of intermediary times;
                compare a characteristic associated with the first set of weather forecasts and a
                        characteristic associated with the second set of weather forecasts;
                generate an itinerary comprising the first set of intermediary locations based on
                        the comparison; and
                update the itinerary based on the first set of weather forecasts.
         10. The device of claim 9, wherein the device is further caused to estimate a travel time
between the departure location and the destination location based on the first set of weather
forecasts.
         11. The device of claim 9 or 10, wherein updating the itinerary includes:
        identifying a first set of modified set of intermediary times based on the first set of
                weather forecasts;
        generating a modified set of weather forecasts associated with the first set of intermediary
                locations and the first set of modified set of intermediary times;
        identifying a second set of modified intermediary times based on the modified set of
                weather forecasts associated with the first set of intermediary locations; and
        generating an updated version of the itinerary based on the second set of modified
                intermediary times.
         12. The device of claim 9, wherein when the one or more processors execute the
instructions, the device is further caused to transmit the itinerary to a mobile device for display at
a display device.
         13. The device of any of claims 9-12, wherein the first set of weather forecasts comprises
information indicating a probability of a specific type of precipitation at a specific rate.
         14. The device of any of claims 9-13, wherein:
                                                   26

      the communication module is configured to receive the departure location and the
               destination location from the remote device; and
      at least one of the departure location and the destination location is a current location of
               the remote device.
      15. A system comprising a server and a remote device that is connected to the server over
a communication network, wherein:
      the server comprises a computer and a non-transitory computer-readable medium storing
               a program causing the computer to execute an itinerary generation process, the
               itinerary generation process comprising:
               identifying a departure location and a destination location;
               identifying a first set of intermediary locations and a second set of intermediary
                       locations between the departure location and the destination location;
               identifying a first set of intermediary times associated with the first set of
                       intermediary locations;
               identifying a second set of intermediary times associated with the second set of
                       intermediary locations;
               generating a first set of weather forecasts associated with the first set of
                       intermediary locations and the first set of intermediary times;
               generating a second set of weather forecasts associated with the second set of
                       intermediary locations and the second set of intermediary times;
               comparing a characteristic associated with the first set of weather forecasts and a
                       characteristic associated with the second set of weather forecasts;
               generating an itinerary comprising the first set of intermediary locations based on
                       the comparison; and
               updating the itinerary based on the first set of weather forecasts; and
      the remote device comprises one or more processors, a display and a memory storing
               instructions for the one or more processors to:
               obtain the itinerary from the server over the communication network, cause, on
                       the display, a display of at least part of the itinerary.
                                                  27

<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
<removed-apn> <removed-date>
